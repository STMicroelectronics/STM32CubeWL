[
    {
        "id": "fbe21a66e8f9dfea",
        "type": "tab",
        "label": "Serial Port A",
        "disabled": false,
        "info": ""
    },
    {
        "id": "99ee5cb5b3b7d265",
        "type": "tab",
        "label": "Serial Port B",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c2b3c257d52b8bba",
        "type": "tab",
        "label": "RF UI Control",
        "disabled": false,
        "info": ""
    },
    {
        "id": "cd642149e68951f1",
        "type": "tab",
        "label": "RF Tone RX ",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e2831b890cf17bda",
        "type": "tab",
        "label": "RF Tone TX",
        "disabled": false,
        "info": ""
    },
    {
        "id": "24f3cc949653d6f2",
        "type": "tab",
        "label": "RF Tone TX RX",
        "disabled": false,
        "info": ""
    },
    {
        "id": "966c14ab7eb4113a",
        "type": "tab",
        "label": "RF Lora RX",
        "disabled": false,
        "info": ""
    },
    {
        "id": "beea6254a1476ad4",
        "type": "tab",
        "label": "RF Lora TX",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c9320097655cf10e",
        "type": "tab",
        "label": "RF Lora PER",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1995875a31c6f417",
        "type": "tab",
        "label": "RF (G)FSK RX",
        "disabled": false,
        "info": ""
    },
    {
        "id": "94d0a1ce8bdf23d5",
        "type": "tab",
        "label": "RF (G)FSK TX",
        "disabled": false,
        "info": ""
    },
    {
        "id": "ef85419377c92365",
        "type": "tab",
        "label": "RF (G)FSK PER",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e5da8b25b7d03a72",
        "type": "tab",
        "label": "(G)MSK TX",
        "disabled": false,
        "info": ""
    },
    {
        "id": "916c085c39129bbf",
        "type": "tab",
        "label": "RF (G)MSK PER",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d9f02432ea1dbe48",
        "type": "tab",
        "label": "BPSK TX",
        "disabled": false,
        "info": ""
    },
    {
        "id": "fc612fa1953ac4a4",
        "type": "tab",
        "label": "AT CMD",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1ba0a3f2b7644bdf",
        "type": "tab",
        "label": "Air time calculator",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8059e7720873b594",
        "type": "subflow",
        "name": "ui-table handler",
        "info": "# ui-table handler\nUniversal handler for ui-table.\n## features\n- buffer table data\n- add or update individual rows or cells of the table\n- delete rows\n- clear tableData\n- handle column width\n- handle column order\n\n## configuration\n- `tabulator` json formatted object containing configuration of the table. See ui-table for more details.\n- `property` property of the msg object that contains the data to be passed to ui-table. I.e. *state* `msg.state`\n- `index` index column to identify individual rows. Each message containing data must have a unique `msg.topic` to identify the row. Messages without this `msg.topic` will be droped. It is not nessesary but possible to display the index column in the table. Do not enable editing on this column otherwise you will loose the connection and another row will be added to the table as soon as a new message arrives!\n\n   Defaults to *$topic* `msg.state.$topic`\n- `dashboard` name of the dashboard tab to only update the table if the dashboard is visible. If empty the table will be updated on every tab change and connect.\n- `context` configuration of context data. The subflow will save or cache data in the flows context using `$parent.`. \n   **tableData** caches the incoming data to restore it on `ui-control´ *change* messages.\n   **tableConfig** saves column width and order to save the interactive table layot\n   **tableEdit** saves edits on the table data otherwise it would be overwritten when new data arrives\n```json\n{\n    \"tableData\": {\n        \"name\": \"tableData\"\n    },\n    \"tableConfig\": {\n        \"name\": \"tableConfig\",\n        \"storage\": \"file\"\n    },\n    \"tableEdit\": {\n        \"name\": \"tableEdit\",\n        \"storage\": \"file\"\n    }\n}\n```\n\n## commands\ncommands can be passed by sending a object as `msg.payload`\n- delete custom colum order and restore colum order from the tabulator json. This is important if you add or delete columns in the tabulator config otherwise the columns most likely don`t show up\n```json\n{\n    \"command\": \"delete\",\n    \"object\": \"columnOrder\"\n}\n```\n- delete custom column widths\n```json\n{\n    \"command\": \"delete\",\n    \"object\": \"columnWidth\"\n}\n```\n- delete tableCache\n```json\n{\n    \"command\": \"delete\",\n    \"object\": \"tableCache\"\n}\n```\n\n## background\nui-table warps the powerfull tabluator library. This subflow makes it easier to unleash the powerfull features of ui-table",
        "category": "dashboard",
        "in": [
            {
                "x": 54,
                "y": 85,
                "wires": [
                    {
                        "id": "4d0e8b71de9a8099"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 360,
                "y": 85,
                "wires": [
                    {
                        "id": "4d0e8b71de9a8099",
                        "port": 1
                    }
                ]
            },
            {
                "x": 360,
                "y": 136,
                "wires": [
                    {
                        "id": "4d0e8b71de9a8099",
                        "port": 2
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "tabulator",
                "type": "json",
                "value": "{\"tabulator\":{\"responsiveLayout\":\"collapse\",\"responsiveLayoutCollapseStartOpen\":false,\"index\":\"$name\",\"layout\":\"fitColumns\",\"movableColumns\":true,\"groupBy\":\"\",\"columnResized\":\"function(column){     var newColumn = {         field: column._column.field,         visible: column._column.visible,         width: column._column.width,         widthFixed: column._column.widthFixed,         widthStyled: column._column.widthStyled     }; this.send({topic:this.config.topic,ui_control:{callback:'columnResized',columnWidths:newColumn}}); }\",\"columnMoved\":\"function(column, columns){     var newColumns=[];     columns.forEach(function (column) {         newColumns.push({'field': column._column.definition.field, 'title': column._column.definition.title});     });     this.send({topic:this.config.topic,ui_control:{callback:'columnMoved',columns:newColumns}}); }\",\"rowFormatter\":\"function(row){     var data = row.getData();     switch (data.$state) {         case \\\"lost\\\":             row.getElement().style.backgroundColor = \\\"#9e2e66\\\";             row.getElement().style.color = \\\"#a6a6a6\\\";             break;         case \\\"sleeping\\\":             row.getElement().style.backgroundColor = \\\"#336699\\\";             break;         case \\\"disconnected\\\":             row.getElement().style.backgroundColor = \\\"#cc3300\\\";             row.getElement().style.color = \\\"#a6a6a6\\\";             break;         case \\\"alert\\\":             row.getElement().style.backgroundColor = \\\"#A6A6DF\\\";             break;         case \\\"init\\\":             row.getElement().style.backgroundColor = \\\"#f2f20d\\\";             break;         case \\\"ready\\\":             row.getElement().style.backgroundColor = \\\"\\\";             row.getElement().style.color = \\\"\\\";             break;         } }\",\"columns\":[{\"formatter\":\"responsiveCollapse\",\"width\":30,\"minWidth\":30,\"align\":\"center\",\"resizable\":false,\"headerSort\":false,\"frozen\":true,\"title\":\"expand\",\"field\":\"expand\",\"headerVertical\":\"flip\"},{\"formatter\":\"function(cell, formatterParams, onRendered) {      var html = cell.getValue(); return html;  }\",\"title\":\"State\",\"field\":\"$stateIcon\",\"width\":100,\"frozen\":true,\"headerVertical\":\"flip\"},{\"formatter\":\"function(cell, formatterParams, onRendered) {     var html = cell.getValue(); return html;  }\",\"title\":\"Signal\",\"field\":\"signalIcon\",\"width\":100,\"frozen\":true,\"headerVertical\":\"flip\"},{\"title\":\"Name\",\"field\":\"$name\",\"width\":100,\"frozen\":true,\"headerVertical\":\"flip\"},{\"title\":\"State\",\"field\":\"$state\",\"width\":100,\"align\":\"center\",\"headerVertical\":\"flip\"},{\"title\":\"last-ready\",\"field\":\"lastSeenreadyFormatted\",\"width\":100,\"align\":\"left\",\"headerVertical\":\"flip\"},{\"title\":\"Homie\",\"field\":\"$homie\",\"width\":100,\"align\":\"left\",\"headerVertical\":\"flip\"},{\"title\":\"Platform\",\"field\":\"$implementation\",\"width\":100,\"align\":\"left\",\"headerVertical\":\"flip\"},{\"title\":\"Statistics\",\"columns\":[{\"title\":\"Interval\",\"field\":\"interval\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"outputFormat\":\"d hh:mm:ss\",\"inputFormat\":\"seconds\",\"invalidPlaceholder\":\"(unknown)\"},\"title\":\"Uptime\",\"field\":\"uptime\",\"formatter\":\"function(cell, formatterParams, onRendered){     var pad = function (num) {         return (\\\"0\\\"+num).slice(-2);     };     var secs = Number(cell.getValue());     if (Number.isNaN(secs)) return;     var minutes = Math.floor(secs / 60);     secs = secs%60;     var hours = Math.floor(minutes/60);     minutes = minutes%60;     var days = Math.floor(hours/24);     hours = hours%24;     if (days>0)         return days+\\\"d \\\"+pad(hours)+\\\":\\\"+pad(minutes);     else         return pad(hours)+\\\":\\\"+pad(minutes)+\\\":\\\"+pad(secs); }\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":0,\"max\":100,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) {if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" %</span>\\\"; else return; }\",\"legendColor\":\"#FFFFFF\",\"legendAlign\":\"center\"},\"title\":\"Signal\",\"field\":\"signal\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":2.5,\"max\":3.5,\"color\":[\"red\",\"green\",\"red\"],\"legend\":\"function (value) { if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" V</span>\\\"; else return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"Supply\",\"field\":\"supply\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":0,\"max\":100,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) {     if (value>0)         return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" %</span>\\\";     else         return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"Battery\",\"field\":\"battery\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":0,\"max\":100000,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) { if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+(value/1024).toFixed(2)+\\\" kB</span>\\\"; else return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"Memory\",\"field\":\"freeheap\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"target\":\"_blank\",\"min\":0,\"max\":100,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) {     if (value>0)         return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" %</span>\\\";     else         return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"CPU load\",\"field\":\"cpuload\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":20,\"max\":60,\"color\":[\"green\",\"orange\",\"red\"],\"legend\":\"function (value) { if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" °C</span>\\\"; else return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"CPU temp\",\"field\":\"cputemp\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"}]},{\"title\":\"Firmware\",\"columns\":[{\"formatter\":\"link\",\"formatterParams\":{\"labelField\":\"$localip\",\"urlPrefix\":\"http://\",\"target\":\"_blank\"},\"title\":\"IP\",\"field\":\"$localip\",\"width\":100},{\"title\":\"mac\",\"field\":\"$mac\",\"width\":100},{\"title\":\"Accsess Point\",\"field\":\"SSID\",\"width\":100},{\"title\":\"Firmware\",\"field\":\"name\",\"width\":100},{\"title\":\"Version\",\"field\":\"version\",\"width\":100},{\"title\":\"Last Boot Cause\",\"field\":\"lastBootCause\",\"width\":100},{\"title\":\"Reset Reason\",\"field\":\"resetReason\",\"width\":100}]}]},\"customHeight\":12}",
                "ui": {
                    "icon": "font-awesome/fa-table",
                    "label": {
                        "en-US": "Tabulator"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "json",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "tableDataProp",
                "type": "str",
                "value": "row",
                "ui": {
                    "icon": "font-awesome/fa-tag",
                    "label": {
                        "en-US": "rowProperty"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "str",
                            "num",
                            "bool",
                            "json",
                            "bin",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "tableIndex",
                "type": "str",
                "value": "$topic",
                "ui": {
                    "icon": "font-awesome/fa-indent",
                    "label": {
                        "en-US": "Index"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "str",
                            "json",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "dashboard",
                "type": "str",
                "value": "Remote Device Table",
                "ui": {
                    "icon": "font-awesome/fa-dashboard",
                    "label": {
                        "en-US": "Dashboard"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "str",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "tableContext",
                "type": "json",
                "value": "{\"tableData\":{\"name\":\"tableData\"},\"tableConfig\":{\"name\":\"tableConfig\",\"storage\":\"file\"},\"tableEdit\":{\"name\":\"tableEdit\",\"storage\":\"file\"}}",
                "ui": {
                    "icon": "font-awesome/fa-database",
                    "label": {
                        "en-US": "Context"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "json",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "group",
                "type": "str",
                "value": ""
            }
        ],
        "color": "#3FADB5",
        "icon": "node-red-dashboard/ui_slider.png",
        "status": {
            "x": 360,
            "y": 34,
            "wires": [
                {
                    "id": "4d0e8b71de9a8099",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "17d09b07.741a55",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "22293a40.207896",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "96f608fc99441661",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "0826db2982b13ce4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 4,
        "height": 1
    },
    {
        "id": "3ac6a5769d00e42a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 4,
        "height": 1
    },
    {
        "id": "3f0a81e9e10ba09d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "d9461946f02cde9f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "9c710fb27805dcb7",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "ffa685aab97aa4f1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "006ea2cef7254916",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "6ec8ae4b967dccb0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "36619246e310fb1b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "b28ceca1cd68dcac",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "a5ca6e25085acc55",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "fe99ede3a2b0d30c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "9e60bd2593801c05",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "9391a81616b8561f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 6,
        "height": 1
    },
    {
        "id": "0e78a61cb6a83259",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "be94e58085c7c742",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "e8c7e2f9ab850589",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "e2fccf3f3eb3b48e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "9b6f5a9132ba4717",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "e7b5e297697344a8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "bddce3fb219bd526",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "f3aeeb7bbcf0abdd",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "9bb3af680dcb578c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "1c7cb015912ee910",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "6f0e105a62bb57aa",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "7f12e1ee2bb8be43",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "d950fe5ca42b0b33",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 22,
        "width": 1,
        "height": 1
    },
    {
        "id": "147f81cec427c993",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 23,
        "width": 1,
        "height": 1
    },
    {
        "id": "d4badcbc715cdda0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 24,
        "width": 6,
        "height": 1
    },
    {
        "id": "a5da756d5b2266e1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 25,
        "width": 1,
        "height": 1
    },
    {
        "id": "0cf0cef345894a61",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "c1d03ea9522cc3dc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "308fc7cce51e4115",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 29,
        "width": 1,
        "height": 1
    },
    {
        "id": "c355c4184f35906d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 30,
        "width": 1,
        "height": 1
    },
    {
        "id": "0cff9f2d84d83a4c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 31,
        "width": 1,
        "height": 1
    },
    {
        "id": "e94fc9e2eb042414",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 32,
        "width": 1,
        "height": 1
    },
    {
        "id": "87e8c78b3fd9eeb4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 33,
        "width": 1,
        "height": 1
    },
    {
        "id": "08cb0fab0b41cce2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "43fcd6812c4ed01d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 35,
        "width": 1,
        "height": 1
    },
    {
        "id": "4c8eded15d942db8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "7c76d3cc6889e526",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 37,
        "width": 1,
        "height": 1
    },
    {
        "id": "e00caaefbd2134e5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 38,
        "width": 1,
        "height": 1
    },
    {
        "id": "a8464132db425efd",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 39,
        "width": 1,
        "height": 1
    },
    {
        "id": "ab415b786ad1a70d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 40,
        "width": 6,
        "height": 1
    },
    {
        "id": "8207429968113ea0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 41,
        "width": 1,
        "height": 1
    },
    {
        "id": "a53a5fcec63062ef",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 42,
        "width": 1,
        "height": 1
    },
    {
        "id": "25911cd46a8a9aa4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 43,
        "width": 6,
        "height": 1
    },
    {
        "id": "25bf670f7ec6afe6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "a5162f1862d8996e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 4,
        "height": 1
    },
    {
        "id": "8d5a45d249fd5a0e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 4,
        "height": 1
    },
    {
        "id": "6230610986482abc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "22db82356c767f16",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "e289c93cadc916cb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "5f29233256db7c04",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "aaf6343760dadb96",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "d68379305a4e2ef1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "3008e682c19ae872",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "ca6648bf77c4376b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "c06174999b408cf8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "ddc5795aa8e941e4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "3740826d4c21c3bf",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "818c2b49ed952efe",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 6,
        "height": 1
    },
    {
        "id": "23f93f5be27adedc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "064949f41ad5a34c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "1a4959d0ed275672",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "f61aaa500d2d79f4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "a0b2c691e0230886",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "91ae13b18d3c3f17",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "dfdca0ace948ce3e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "9ca9f03815bb7309",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "89b3a274b43a4830",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "25472dca883c6bee",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "fdaf6f8344665051",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "d3272b906b9959b1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "246fdd7c588d4726",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 22,
        "width": 1,
        "height": 1
    },
    {
        "id": "538ea1d8bc588a8a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 23,
        "width": 1,
        "height": 1
    },
    {
        "id": "56432f81af07acd1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 24,
        "width": 6,
        "height": 1
    },
    {
        "id": "82b589011cc9427c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 25,
        "width": 1,
        "height": 1
    },
    {
        "id": "e032d0b74f06087d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "80e68fd9a0e30942",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "190d1cb67cfc023e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 29,
        "width": 1,
        "height": 1
    },
    {
        "id": "66254ce1400c4a6c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 30,
        "width": 1,
        "height": 1
    },
    {
        "id": "7965da8f0a226792",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 31,
        "width": 1,
        "height": 1
    },
    {
        "id": "dc95d493fc9d964e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 32,
        "width": 1,
        "height": 1
    },
    {
        "id": "11ad24ed636f1015",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 33,
        "width": 1,
        "height": 1
    },
    {
        "id": "4e88b2548db639af",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "4a2dcec9d74ed5cb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 35,
        "width": 1,
        "height": 1
    },
    {
        "id": "68bc9b264a1bab16",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "9f8d05ed1a4eb8c5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 37,
        "width": 1,
        "height": 1
    },
    {
        "id": "c0cc21483d16ef0e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 38,
        "width": 1,
        "height": 1
    },
    {
        "id": "d633e33d3a712ae7",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 39,
        "width": 1,
        "height": 1
    },
    {
        "id": "8694e4f908a5405a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 40,
        "width": 6,
        "height": 1
    },
    {
        "id": "942845162089cd09",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 41,
        "width": 1,
        "height": 1
    },
    {
        "id": "76fc1ea7288fb283",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 42,
        "width": 1,
        "height": 1
    },
    {
        "id": "bf3afc728c46a58b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 43,
        "width": 6,
        "height": 1
    },
    {
        "id": "64972840c0f45049",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "c1a8609be0239011",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 4,
        "height": 1
    },
    {
        "id": "a69700ab018ea504",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 4,
        "height": 1
    },
    {
        "id": "f8fc7b1ca7907f5a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "63d1eaa64cf5c721",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "4fdae1a70dcc6bb3",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "122b5a7a4f33b5b6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "c32bc2bed48ab81f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "d3f3a0e8315e1c4a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "2881c7e3431dcfe7",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "affc8ba10bd4b180",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "ac2f3d1771792e3e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "62feace67a32e1ac",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "0135dc38f35a0c7b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "2dc3990575aaadd1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 6,
        "height": 1
    },
    {
        "id": "7f2899ebf007c60d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "ec74d97d85d87a41",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "aad31593c6569ad8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "db58e5c9dc1568e5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "5596b1fd1aa88685",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "3b27ad3da6b36d64",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "887a62b0823279d0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "a160332fead48529",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "c7c9a3af83a7f37f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "f8318fda6634de41",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "1ca65f7f56c86e4e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "d2672547333be3cd",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "09cf0dfc09918c42",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 22,
        "width": 1,
        "height": 1
    },
    {
        "id": "28bdd8773b6dc6fb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 23,
        "width": 1,
        "height": 1
    },
    {
        "id": "d4acfb30548aaa3e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 24,
        "width": 6,
        "height": 1
    },
    {
        "id": "5fd9a017b8f086fd",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 25,
        "width": 1,
        "height": 1
    },
    {
        "id": "2cfa2a6d30896818",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "652043587637cd2f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "f09661e8fab71d23",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 29,
        "width": 1,
        "height": 1
    },
    {
        "id": "3e823b19af9a108d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 30,
        "width": 1,
        "height": 1
    },
    {
        "id": "e8df58816afd5c23",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 31,
        "width": 1,
        "height": 1
    },
    {
        "id": "36e549eb48e54340",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 32,
        "width": 1,
        "height": 1
    },
    {
        "id": "5d76973a304a21c8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 33,
        "width": 1,
        "height": 1
    },
    {
        "id": "403768428a7c4e0b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "7c01a47a49f00bd7",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 35,
        "width": 1,
        "height": 1
    },
    {
        "id": "c2d48a2ada99740b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "657f54326b6b3b06",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 37,
        "width": 1,
        "height": 1
    },
    {
        "id": "e5ef074d62bd1859",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 38,
        "width": 1,
        "height": 1
    },
    {
        "id": "e05ef50df34c9553",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 39,
        "width": 1,
        "height": 1
    },
    {
        "id": "6848b1a228346fd0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 40,
        "width": 6,
        "height": 1
    },
    {
        "id": "e9d0fad74b41f86c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 41,
        "width": 1,
        "height": 1
    },
    {
        "id": "1f17a9c70d2b8653",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 42,
        "width": 1,
        "height": 1
    },
    {
        "id": "1cc92b0832c616b0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 43,
        "width": 6,
        "height": 1
    },
    {
        "id": "56849b47f1be9847",
        "type": "ui_group",
        "name": "menu",
        "tab": "70d6896a0e0dd979",
        "order": 1,
        "disp": false,
        "width": 24,
        "collapse": false
    },
    {
        "id": "70d6896a0e0dd979",
        "type": "ui_tab",
        "name": "RF test LORA",
        "icon": "rss_feed",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "c50c03a87943be06",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "62b6031d4e25e8df",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 4,
        "height": 1
    },
    {
        "id": "4ea1eca4134db839",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 4,
        "height": 1
    },
    {
        "id": "2a14399105a7fbb1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "b6b5b1211a3c2840",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "b358223936885709",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "73e19c402224135e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "8b5eddd79c50722a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "8b1104699f438e19",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "e4b784b684c550e9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "0e6d0fe521f53a5a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "67756ca54a4eea18",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "ec4ba6ec57b92596",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "aeaed7eb5c80528d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "b72d19a79d835395",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 6,
        "height": 1
    },
    {
        "id": "8abd1ce112330b64",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "2237a4c6a6abd78a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "5dd3e626727f390b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "82ee48f18e88ce2e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "12d79355ced382fe",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "a19d59345cab6ae5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "36ca08daaf78e9e4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "cbfd4ff6a3ded355",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "c821613b50d26b9e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "f489f62013f8e989",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "a7d089fc9d6a7223",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "bd2580a03fce2dbc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "4c5fd98c4567fd13",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 22,
        "width": 1,
        "height": 1
    },
    {
        "id": "30d5c42c5c48a3dc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 23,
        "width": 1,
        "height": 1
    },
    {
        "id": "f62cd09190860cce",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 24,
        "width": 6,
        "height": 1
    },
    {
        "id": "8aa576322ff4c3a9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 25,
        "width": 1,
        "height": 1
    },
    {
        "id": "272d81d18d5576ab",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "a7ec45b0827ea5bc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "380fff649ac0f7b0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 29,
        "width": 1,
        "height": 1
    },
    {
        "id": "993f44381a465004",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 30,
        "width": 1,
        "height": 1
    },
    {
        "id": "0b5f1b4c9cf6efbb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 31,
        "width": 1,
        "height": 1
    },
    {
        "id": "cf9a7915c3738216",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 32,
        "width": 1,
        "height": 1
    },
    {
        "id": "11c834242b821793",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 33,
        "width": 1,
        "height": 1
    },
    {
        "id": "bcbb483e3b5c8cb2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "5b2734953e7e663b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 35,
        "width": 1,
        "height": 1
    },
    {
        "id": "f53c8aac9a30e480",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "873000c4691dabdb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 37,
        "width": 1,
        "height": 1
    },
    {
        "id": "8312d9b8c5d49151",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 38,
        "width": 1,
        "height": 1
    },
    {
        "id": "770d4e60429b9389",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 39,
        "width": 1,
        "height": 1
    },
    {
        "id": "f2dba3a779b62e7c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 40,
        "width": 6,
        "height": 1
    },
    {
        "id": "162c7c6b49a0237a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 41,
        "width": 1,
        "height": 1
    },
    {
        "id": "fbafab95feb30337",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 42,
        "width": 1,
        "height": 1
    },
    {
        "id": "ddd6d67992e2044a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 43,
        "width": 6,
        "height": 1
    },
    {
        "id": "d2882b6142db394d",
        "type": "ui_group",
        "name": "Reception",
        "tab": "70d6896a0e0dd979",
        "order": 2,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "08dfd1895e2865d7",
        "type": "ui_group",
        "name": "PER Parameters",
        "tab": "70d6896a0e0dd979",
        "order": 4,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "93aed6413e609110",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "a1dce14a4dbb496a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 4,
        "height": 1
    },
    {
        "id": "12959d687e68dbea",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 4,
        "height": 1
    },
    {
        "id": "21b4878773e07757",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "a5e2c9c27b77192d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "2f70145ba4939b78",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "af0cbcc5d8b81e68",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "e2bc553af977bad8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "73f952f7bc9cf557",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "38797dce301f283e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "042b9b8450fd6f2c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "ca76e2047c08e33a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "32e12876598a6ad4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "52c705a40b0e79c6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "1ac5482bdaaf6fa8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 6,
        "height": 1
    },
    {
        "id": "c5a3bb9f6313b089",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "15a728bf08506d57",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "874fee53ddc86a1e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "5d368cd22bb10a5a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "21fa44d77fe366cf",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "c8154c1fe95d8716",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "7d00679611faf468",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "6caf7540e49ea072",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "2a0331e072e4ada8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "361bf74c9200e519",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "3c1e72d8e9e1d3d2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "abe1d10bd7d280db",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "e20b1f474f4cc3e0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 22,
        "width": 1,
        "height": 1
    },
    {
        "id": "825cb93c78b5b5ba",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 23,
        "width": 1,
        "height": 1
    },
    {
        "id": "2966f18128abd23b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 24,
        "width": 6,
        "height": 1
    },
    {
        "id": "4a41b11768969716",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 25,
        "width": 1,
        "height": 1
    },
    {
        "id": "e09b7952e4869b15",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "b16bb30c7bfc919f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "2e29dcc415332f74",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 29,
        "width": 1,
        "height": 1
    },
    {
        "id": "b2109e86b4089a74",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 30,
        "width": 1,
        "height": 1
    },
    {
        "id": "352b195570635555",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 31,
        "width": 1,
        "height": 1
    },
    {
        "id": "0fe68b89ca13aaef",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 32,
        "width": 1,
        "height": 1
    },
    {
        "id": "dc1446819cc0ce29",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 33,
        "width": 1,
        "height": 1
    },
    {
        "id": "4a6716642b103846",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "787ffd4350b0117f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 35,
        "width": 1,
        "height": 1
    },
    {
        "id": "c04993421ec4d7ad",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "e4ab9aff8cf3a991",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 37,
        "width": 1,
        "height": 1
    },
    {
        "id": "575cf3840e17ab53",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 38,
        "width": 1,
        "height": 1
    },
    {
        "id": "03020eb3334c5e0d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 39,
        "width": 1,
        "height": 1
    },
    {
        "id": "cc12f6e2d13d19e2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 40,
        "width": 6,
        "height": 1
    },
    {
        "id": "ca7a54a63f1ba6f9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 41,
        "width": 1,
        "height": 1
    },
    {
        "id": "a8b87bc3e7ea25d3",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 42,
        "width": 1,
        "height": 1
    },
    {
        "id": "8fb8adc86b919027",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 43,
        "width": 6,
        "height": 1
    },
    {
        "id": "3471d13a503fcdd5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "31744309e5817613",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 4,
        "height": 1
    },
    {
        "id": "af3b3ac7cae84f93",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 4,
        "height": 1
    },
    {
        "id": "6969c6faecd103c5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "5f7f1e877641f910",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "461748ea9ea589e2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "6f87316fa0dcfd18",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "6b68fab245002d19",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "5e1074d6e91fdf9e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "bbc044ca58db433d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "451645933fde9976",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "70432324dcc147d2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "ef4d6d46a991bdab",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "4f11d30890f0d6fd",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "1bc9af38a8491b09",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 6,
        "height": 1
    },
    {
        "id": "e8dbbe0e5e12d816",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "d9830f338e279ed9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "84c56a3b8585384a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "c18f48bccc03b0af",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "6ac89c867d6cc48c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "8b7298324aa8df8b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "60b7a2a6ff0f3771",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "e4c2ab2f0db9e7e5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "69c3cc2bbd33aa23",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "4f249834aa7fa387",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "8449c117df8c02d4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "72130f578cc1541f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "1acf4dad336cb663",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 22,
        "width": 1,
        "height": 1
    },
    {
        "id": "d271e93fa5a07007",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 23,
        "width": 1,
        "height": 1
    },
    {
        "id": "b2b7e240b4f092e5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 24,
        "width": 6,
        "height": 1
    },
    {
        "id": "0dcdd6429e09ff13",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 25,
        "width": 1,
        "height": 1
    },
    {
        "id": "bf6ee431b4f5d4ab",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "ece5237eef96651f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "551724026c118f2e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 29,
        "width": 1,
        "height": 1
    },
    {
        "id": "d9bb76f234650a4f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 30,
        "width": 1,
        "height": 1
    },
    {
        "id": "b4c2970ad30dd83f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 31,
        "width": 1,
        "height": 1
    },
    {
        "id": "02cd1c7b72fb9d2d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 32,
        "width": 1,
        "height": 1
    },
    {
        "id": "313ee32b5fac3319",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 33,
        "width": 1,
        "height": 1
    },
    {
        "id": "af8de8dfd04738ce",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "1f9f1bcff616fbc0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 35,
        "width": 1,
        "height": 1
    },
    {
        "id": "ac28982c6482b0d3",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "760b04b8c2f9a61c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 37,
        "width": 1,
        "height": 1
    },
    {
        "id": "93c56d6e5d39cafc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 38,
        "width": 1,
        "height": 1
    },
    {
        "id": "80f22c65ceee2365",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 39,
        "width": 1,
        "height": 1
    },
    {
        "id": "701fa2cb09d9bacf",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 40,
        "width": 6,
        "height": 1
    },
    {
        "id": "96220afce8b3cc96",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 41,
        "width": 1,
        "height": 1
    },
    {
        "id": "7a743f13c431eb7f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 42,
        "width": 1,
        "height": 1
    },
    {
        "id": "2860c629f660c991",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 43,
        "width": 6,
        "height": 1
    },
    {
        "id": "58a43178b33a8138",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "ea58d4b742d3576e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 4,
        "height": 1
    },
    {
        "id": "9b25d189a07c8f2b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 4,
        "height": 1
    },
    {
        "id": "c8bee70286c4234f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "8de9927230f4d1f0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "a2fa8e23bf1460dd",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "1d46efb1c45950c3",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "85ca18e207adada5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "dae0d7430bf253c9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "5bfc80b5c8815b9f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "97b3144561f2402d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "f475b6614bd9807c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "b080bf21d74b0410",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "7d9a7c7be6c787af",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "19cd505feba9adef",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 6,
        "height": 1
    },
    {
        "id": "560cbd6050082401",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "987189086d816a74",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "466531d51256cf7d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "75b2a2a2124057a7",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "56a1350b9f31bd75",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "3fe7b6436f5c6505",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "d45f564085fdfc5d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "b156d2e7eb673e1f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "af78b17a72b420af",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "0640e612faf1dcd4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "7bd23336334b4c66",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "1ab422c4e10230cc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "e6bc6a02f2c8d308",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 22,
        "width": 1,
        "height": 1
    },
    {
        "id": "6c499de351a08f0c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 23,
        "width": 1,
        "height": 1
    },
    {
        "id": "6d3498aa39e7651f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 24,
        "width": 6,
        "height": 1
    },
    {
        "id": "c064d8f1d36832ef",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 25,
        "width": 1,
        "height": 1
    },
    {
        "id": "c2191505e9be6ced",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "70b686a93b9a99a9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "1f8aea4171cae3c6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 29,
        "width": 1,
        "height": 1
    },
    {
        "id": "81dba99c708e5a9a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 30,
        "width": 1,
        "height": 1
    },
    {
        "id": "107b29b5418283f1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 31,
        "width": 1,
        "height": 1
    },
    {
        "id": "31e644a50f9e6b84",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 32,
        "width": 1,
        "height": 1
    },
    {
        "id": "aaded661278bc2ad",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 33,
        "width": 1,
        "height": 1
    },
    {
        "id": "5496070bc3a2b7f2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "993c7649929c5657",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 35,
        "width": 1,
        "height": 1
    },
    {
        "id": "444fd877c1bf61cf",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "ab299241653933d9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 37,
        "width": 1,
        "height": 1
    },
    {
        "id": "00e34230e72343b5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 38,
        "width": 1,
        "height": 1
    },
    {
        "id": "9f7d5e5efafab3d9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 39,
        "width": 1,
        "height": 1
    },
    {
        "id": "6e14ba26f7eb38bd",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 40,
        "width": 6,
        "height": 1
    },
    {
        "id": "be6bc467909dbf9f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 41,
        "width": 1,
        "height": 1
    },
    {
        "id": "a3bfbae9e0ec9436",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 42,
        "width": 1,
        "height": 1
    },
    {
        "id": "7078b9e1bbfd2efe",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 43,
        "width": 6,
        "height": 1
    },
    {
        "id": "148e6fae4a469bb6",
        "type": "ui_group",
        "name": "menu",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "8cce0d4018bac6ab",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "148e6fae4a469bb6",
        "order": 3,
        "width": 2,
        "height": 1
    },
    {
        "id": "cc95d3ebdeed04b6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "148e6fae4a469bb6",
        "order": 5,
        "width": 2,
        "height": 1
    },
    {
        "id": "d44aacbac9e17208",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "148e6fae4a469bb6",
        "order": 7,
        "width": 2,
        "height": 1
    },
    {
        "id": "5070ea643f1f92e6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "bdd37c6fb0be6508",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 4,
        "height": 1
    },
    {
        "id": "a8aeae2266303db0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 4,
        "height": 1
    },
    {
        "id": "56b44f4aed5648ca",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "d72f785a986afab1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "3a13accbfdb7a320",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "40ca4a0281ede738",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "4f9f705edb3d6f04",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "d3bf745f21520b4d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "099da5e006db58fb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "21661e6065170156",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "b0d4f13ac92451e5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "5d43f6b8f76de2e0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "98fe5238e4cf354e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "b74149adf82be9af",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 6,
        "height": 1
    },
    {
        "id": "10f7f93dbd6c74ce",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "f2aeb65e866301f5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "4016e94042e95473",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "a9549e8df8982dea",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "3cfbd770d1862ea6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "fbfb3e9144320255",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "739c4bfe05953602",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "ab202c8cfad5c4f2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "b081ecdd82ce046e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "47d9853031598d16",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "a80bcfe1083a24b7",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "caa413455d45804e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "942ee589ed7b8d6e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 22,
        "width": 1,
        "height": 1
    },
    {
        "id": "afa348376893821f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 23,
        "width": 1,
        "height": 1
    },
    {
        "id": "ca909f56037ff949",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 24,
        "width": 6,
        "height": 1
    },
    {
        "id": "3e992493748af71a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 25,
        "width": 1,
        "height": 1
    },
    {
        "id": "6eb7c7cd7457f267",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "95aaec7217650410",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "5264e2b572bca693",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 29,
        "width": 1,
        "height": 1
    },
    {
        "id": "f2d7beb0ef270570",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 30,
        "width": 1,
        "height": 1
    },
    {
        "id": "a57864cc40d71946",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 31,
        "width": 1,
        "height": 1
    },
    {
        "id": "b678c7550d85e201",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 32,
        "width": 1,
        "height": 1
    },
    {
        "id": "dc8f747e6a361cd2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 33,
        "width": 1,
        "height": 1
    },
    {
        "id": "c40b3d085cec8f83",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "9ba3896df73360ba",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 35,
        "width": 1,
        "height": 1
    },
    {
        "id": "079d6dd58c9d2205",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "4b790587342b7575",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 37,
        "width": 1,
        "height": 1
    },
    {
        "id": "873bef143a34e6f4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 38,
        "width": 1,
        "height": 1
    },
    {
        "id": "c344edbf7c391487",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 39,
        "width": 1,
        "height": 1
    },
    {
        "id": "d8e34654d5f7b43b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 40,
        "width": 6,
        "height": 1
    },
    {
        "id": "19d580fe20849e29",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 41,
        "width": 1,
        "height": 1
    },
    {
        "id": "349db076ab2f914a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 42,
        "width": 1,
        "height": 1
    },
    {
        "id": "ee96d882caff5a11",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 43,
        "width": 6,
        "height": 1
    },
    {
        "id": "a99a3209ef5e7239",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "a9dc26341385431b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 4,
        "height": 1
    },
    {
        "id": "700466bc78ae943c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 4,
        "height": 1
    },
    {
        "id": "d087039acc5819e5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "cd3cbf4067bcbe8b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "9167595a074da304",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "32ba0a8db05b0bb6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "f9fabe94dfc4acf5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "9203b0e73dd8b411",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "095b2796bb1e5301",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "f7a14bc2bd692a85",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "af5c644769ccba7b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "b3024b804acfbc64",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "2546d88e8a1f7e68",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "e7e838960960a035",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 6,
        "height": 1
    },
    {
        "id": "634ba2127540ac98",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "e8cdbdf52a16bda5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "2c2606003ede76ed",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "0beafe76cd381d64",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "41d562e31494f413",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "7b870c3c85eeb349",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "32844625d6d44600",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "df0a3db6ea45a7b9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "89a9271a87e8c4f8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "98d4cce981cee5d5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "c35f36b5f43026d6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "18924ce13a5cfb77",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "8bcd9a191490feb8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 22,
        "width": 1,
        "height": 1
    },
    {
        "id": "f5c7261c7e564dfe",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 23,
        "width": 1,
        "height": 1
    },
    {
        "id": "014e0ed7e6b54bdc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 24,
        "width": 6,
        "height": 1
    },
    {
        "id": "0707a22593d63435",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 25,
        "width": 1,
        "height": 1
    },
    {
        "id": "038632f6fd9db8f6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "ddc655fb2ef83b41",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "f9fab22a38798a8a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 29,
        "width": 1,
        "height": 1
    },
    {
        "id": "57f4a3c40042dafd",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 30,
        "width": 1,
        "height": 1
    },
    {
        "id": "0984a30ef9e8f430",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 31,
        "width": 1,
        "height": 1
    },
    {
        "id": "933d75818a12f855",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 32,
        "width": 1,
        "height": 1
    },
    {
        "id": "a728839b16c71fa9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 33,
        "width": 1,
        "height": 1
    },
    {
        "id": "b665ae03af961bed",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "3ad8a438c16d7dd9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 35,
        "width": 1,
        "height": 1
    },
    {
        "id": "b1ffe232e1166924",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "041b94d781e70653",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 37,
        "width": 1,
        "height": 1
    },
    {
        "id": "b420982dc4844fac",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 38,
        "width": 1,
        "height": 1
    },
    {
        "id": "4e1160a886d0944c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 39,
        "width": 1,
        "height": 1
    },
    {
        "id": "a9fed6bd6c4b2d63",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 40,
        "width": 6,
        "height": 1
    },
    {
        "id": "c2b8a58313276f47",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 41,
        "width": 1,
        "height": 1
    },
    {
        "id": "0785d01e6ad040d3",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 42,
        "width": 1,
        "height": 1
    },
    {
        "id": "fccbacc4f5cd2406",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 43,
        "width": 6,
        "height": 1
    },
    {
        "id": "29c16cf170a55369",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "e823ccee78780ac0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 4,
        "height": 1
    },
    {
        "id": "f2ea8282e80f8e40",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 4,
        "height": 1
    },
    {
        "id": "8c97b4a7dba43a95",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "e5fba8c214c82ec5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "2723a00e7e70fa79",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "363b854062f2ca32",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "ebe51e04f74c0707",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "6927613e30c5de71",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "ade2587a0923d7e2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "0eb0abcb8a803d49",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "887fedb40b0de7b0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "247a4132815df6a9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "af6ea14947d62bbd",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "91546dd475f3b837",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 6,
        "height": 1
    },
    {
        "id": "44988af752fdbd2b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "2206b880de73aa0a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "63643411958ec150",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "556230dd2fb7a65d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "04a8eec49b424dcd",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "912b7d8aaa8f3a05",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "7464bb1185fa23e3",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "1ac9ee4ec2d7304c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "7b684982e19f9369",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "cc7b6343db0d6164",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "1c53bc3120247124",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "0b3a9b5b0dfd7520",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "ca0e66adc146226c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 22,
        "width": 1,
        "height": 1
    },
    {
        "id": "971002e10189fc3e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 23,
        "width": 1,
        "height": 1
    },
    {
        "id": "9022a21b84a610ab",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 24,
        "width": 6,
        "height": 1
    },
    {
        "id": "a7f5a910a8d41c64",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 25,
        "width": 1,
        "height": 1
    },
    {
        "id": "ef9136c2ce9fa108",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "14e43613b10f307b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "d93d8b74310db3f6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 29,
        "width": 1,
        "height": 1
    },
    {
        "id": "a0d00f2f5589d82f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 30,
        "width": 1,
        "height": 1
    },
    {
        "id": "2e9ac0410f69dcb3",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 31,
        "width": 1,
        "height": 1
    },
    {
        "id": "8880f7174ce9bbee",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 32,
        "width": 1,
        "height": 1
    },
    {
        "id": "1a268a6fcef30cb1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 33,
        "width": 1,
        "height": 1
    },
    {
        "id": "3f77838ade85ce0d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "94acf42c766f7964",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 35,
        "width": 1,
        "height": 1
    },
    {
        "id": "ec09fc9845305a43",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "49de7d47f83bc0fc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 37,
        "width": 1,
        "height": 1
    },
    {
        "id": "5015d72240818d1a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 38,
        "width": 1,
        "height": 1
    },
    {
        "id": "27cf087ade75f909",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 39,
        "width": 1,
        "height": 1
    },
    {
        "id": "8f465a8a91f7b866",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 40,
        "width": 6,
        "height": 1
    },
    {
        "id": "cd0411d792ecee84",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 41,
        "width": 1,
        "height": 1
    },
    {
        "id": "246bca756118e42b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 42,
        "width": 1,
        "height": 1
    },
    {
        "id": "99c025e00794a178",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 43,
        "width": 6,
        "height": 1
    },
    {
        "id": "ef7fad382d687bd3",
        "type": "ui_group",
        "name": "Lora Transmission Test",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "68db5fe59d1c7c21",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "8d64251cae202717",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 4,
        "height": 1
    },
    {
        "id": "f42334ae96d214fd",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 4,
        "height": 1
    },
    {
        "id": "c9bd808a3062cdbb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "8eab69e10bd97445",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "06c2ebc1c9d27f47",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "1630ec55bbb3aa3d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "1c871f71d6ac2807",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "094a79e58b226774",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "439bb524f56553f8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "14a4f4a372792a7e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "ec2f8a9a87b7f829",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "a8cc433c49179bd0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "ca2db4ec5189fb32",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "4cf0c27f4a516126",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 6,
        "height": 1
    },
    {
        "id": "e5e0be763ff0c134",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "8c58f3b49a1c7fc0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "56c34bb16ef08c29",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "c409978c715d7939",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "93c1554b5d098fb0",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "0fb93e3182900707",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "2587d876e025ded8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "cfb0ed79292ff507",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "59e5c903bee863fc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "9a5b64050650e551",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "e06ccc61fdfb1c60",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "4de72242a46f1ca2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 1,
        "height": 1
    },
    {
        "id": "17e13f63814e8e61",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 22,
        "width": 1,
        "height": 1
    },
    {
        "id": "8141ac047a3d88ae",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 23,
        "width": 1,
        "height": 1
    },
    {
        "id": "0b008a4be0568f01",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 24,
        "width": 6,
        "height": 1
    },
    {
        "id": "1c419536bfb4250f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 25,
        "width": 1,
        "height": 1
    },
    {
        "id": "3af3da75a615fd0a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "b67e0e00e9c61991",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "c356240cf932073f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 29,
        "width": 1,
        "height": 1
    },
    {
        "id": "f6579b628abd2736",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 30,
        "width": 1,
        "height": 1
    },
    {
        "id": "796941cdec6f94c8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 31,
        "width": 1,
        "height": 1
    },
    {
        "id": "6664ed4cb82cf99e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 32,
        "width": 1,
        "height": 1
    },
    {
        "id": "96d543fed88f7c07",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 33,
        "width": 1,
        "height": 1
    },
    {
        "id": "72f7f743a39439a6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "6087e54239ce783a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 35,
        "width": 1,
        "height": 1
    },
    {
        "id": "0638f7d6ae398a17",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "848b92ced4c1df67",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 37,
        "width": 1,
        "height": 1
    },
    {
        "id": "be15101d5798638e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 38,
        "width": 1,
        "height": 1
    },
    {
        "id": "08a241196a7eb5fc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 39,
        "width": 1,
        "height": 1
    },
    {
        "id": "ee7a0a0b27268bba",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 40,
        "width": 6,
        "height": 1
    },
    {
        "id": "7cdc660691e54614",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 41,
        "width": 1,
        "height": 1
    },
    {
        "id": "a9bc1c86aa345937",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 42,
        "width": 1,
        "height": 1
    },
    {
        "id": "39cdfda0ca009fc2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 43,
        "width": 6,
        "height": 1
    },
    {
        "id": "9d9dda6c3b106f4e",
        "type": "ui_group",
        "name": "Lora Reception Test",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "09c76ae9495f82f2",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "ef7fad382d687bd3",
        "order": 1,
        "width": 8,
        "height": 1
    },
    {
        "id": "6b517131bca1b5ef",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "ef7fad382d687bd3",
        "order": 3,
        "width": 8,
        "height": 1
    },
    {
        "id": "f764229dd61b3d3c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "ef7fad382d687bd3",
        "order": 7,
        "width": 1,
        "height": 1
    },
    {
        "id": "b6a7e442f64b5e2f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "9d9dda6c3b106f4e",
        "order": 1,
        "width": 8,
        "height": 1
    },
    {
        "id": "283e553d586de38d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "9d9dda6c3b106f4e",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "e6c0a6b286f30d86",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "9d9dda6c3b106f4e",
        "order": 7,
        "width": 8,
        "height": 1
    },
    {
        "id": "b7cf84ecbaeebb0f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "9d9dda6c3b106f4e",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "425876989cd3f3cf",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "9d9dda6c3b106f4e",
        "order": 11,
        "width": 4,
        "height": 1
    },
    {
        "id": "5ec891f027922fdf",
        "type": "ui_group",
        "name": "PER Results",
        "tab": "70d6896a0e0dd979",
        "order": 7,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "6612dd0ebe2cee9f",
        "type": "ui_group",
        "name": "PER Multiple Frequencies",
        "tab": "70d6896a0e0dd979",
        "order": 6,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "588b0b17028652cd",
        "type": "ui_group",
        "name": "PER Single Frequency",
        "tab": "70d6896a0e0dd979",
        "order": 5,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "706409b8d8523715",
        "type": "ui_tab",
        "name": "RF test (G)FSK",
        "icon": "rss_feed",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "e4940d99e50fb892",
        "type": "ui_group",
        "name": "menu",
        "tab": "706409b8d8523715",
        "order": 1,
        "disp": false,
        "width": 12,
        "collapse": false
    },
    {
        "id": "0a981c832143e299",
        "type": "ui_group",
        "name": "Transmission",
        "tab": "706409b8d8523715",
        "order": 2,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "3ef6baa638acd345",
        "type": "ui_group",
        "name": "Reception",
        "tab": "706409b8d8523715",
        "order": 3,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "d403ef88152f0ded",
        "type": "ui_group",
        "name": "PER Parameters",
        "tab": "706409b8d8523715",
        "order": 4,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "1141fa1e1bca6b75",
        "type": "ui_group",
        "name": "PER Multiple Frequencies",
        "tab": "706409b8d8523715",
        "order": 6,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "9da425b6997cdaf8",
        "type": "ui_group",
        "name": "PER Single Frequency",
        "tab": "706409b8d8523715",
        "order": 5,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "ab0ba1631c7fada2",
        "type": "ui_group",
        "name": "PER Results",
        "tab": "706409b8d8523715",
        "order": 7,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "c06aaf0ec2bc0ce9",
        "type": "ui_group",
        "name": "Terminal A",
        "tab": "4b70f06e3be00116",
        "order": 1,
        "disp": true,
        "width": 18,
        "collapse": true
    },
    {
        "id": "4b70f06e3be00116",
        "type": "ui_tab",
        "name": "AT CMD",
        "icon": "dashboard",
        "order": 7,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "b8bb0835de7042e0",
        "type": "ui_group",
        "name": "Frame configuration",
        "tab": "b59c77ee372f468b",
        "order": 6,
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "76b4fa07d48daf89",
        "type": "ui_group",
        "name": "LoRa Modem settings",
        "tab": "b59c77ee372f468b",
        "order": 5,
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "e71d0eeb0ad9c733",
        "type": "ui_group",
        "name": "Air time of your LoRa frame",
        "tab": "b59c77ee372f468b",
        "order": 7,
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "b59c77ee372f468b",
        "type": "ui_tab",
        "name": "Lora Air Time",
        "icon": "timelapse",
        "order": 8,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d8f5f0a613ed3ffe",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "b22573be1229c783",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "b734aedda8927d87",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 8,
        "height": 1
    },
    {
        "id": "835dcf0dcfc59573",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "261ce4b435c6fb99",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "8be1d68e289c4417",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "398338eaf7025988",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "3eac2bd4ac67ba94",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 21,
        "width": 14,
        "height": 1
    },
    {
        "id": "0ed5cc8bf9208ffd",
        "type": "serial-port",
        "serialport": "To_be_configured",
        "serialbaud": "9600",
        "databits": "8",
        "parity": "none",
        "stopbits": "1",
        "waitfor": "",
        "dtr": "none",
        "rts": "none",
        "cts": "none",
        "dsr": "none",
        "newline": "\\n",
        "bin": "false",
        "out": "char",
        "addchar": "",
        "responsetimeout": "10000"
    },
    {
        "id": "250a5163806fe0c4",
        "type": "serial-port",
        "serialport": "To_be_configured",
        "serialbaud": "9600",
        "databits": "8",
        "parity": "none",
        "stopbits": "1",
        "waitfor": "",
        "dtr": "none",
        "rts": "none",
        "cts": "none",
        "dsr": "none",
        "newline": "\\n",
        "bin": "false",
        "out": "char",
        "addchar": "",
        "responsetimeout": "10000"
    },
    {
        "id": "5617333625cca54b",
        "type": "ui_tab",
        "name": "RF test (G)MSK",
        "icon": "rss_feed",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "108c55bee487b58b",
        "type": "ui_tab",
        "name": "RF test BPSK",
        "icon": "rss_feed",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "b96b202f240e9345",
        "type": "ui_tab",
        "name": "RF test Tone (CW)",
        "icon": "rss_feed",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "c22a85eb23e3925e",
        "type": "ui_group",
        "name": "RX test (RSSI)",
        "tab": "b96b202f240e9345",
        "order": 2,
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "8c88df4cbbf0b4ef",
        "type": "ui_group",
        "name": "TX test (CW)",
        "tab": "b96b202f240e9345",
        "order": 3,
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "8505e1f27b1e40bc",
        "type": "ui_group",
        "name": "RX/TX test",
        "tab": "b96b202f240e9345",
        "order": 4,
        "disp": true,
        "width": 16,
        "collapse": false
    },
    {
        "id": "702d9488970585da",
        "type": "ui_group",
        "name": "menu",
        "tab": "b96b202f240e9345",
        "order": 1,
        "disp": true,
        "width": 20,
        "collapse": false
    },
    {
        "id": "69555801b8bc3026",
        "type": "ui_group",
        "name": "Transmission",
        "tab": "5617333625cca54b",
        "order": 2,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "4142f6aeb8a7e5b9",
        "type": "ui_group",
        "name": "PER Parameters",
        "tab": "5617333625cca54b",
        "order": 3,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "b0442a493e613646",
        "type": "ui_group",
        "name": "PER Multiple Frequencies",
        "tab": "5617333625cca54b",
        "order": 5,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "10e34b2f3fdc4623",
        "type": "ui_group",
        "name": "PER Single Frequency",
        "tab": "5617333625cca54b",
        "order": 4,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "d7ad58382d93d234",
        "type": "ui_group",
        "name": "PER Results",
        "tab": "5617333625cca54b",
        "order": 6,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "d723027d7f88874b",
        "type": "ui_group",
        "name": "Transmission",
        "tab": "108c55bee487b58b",
        "order": 1,
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "d9b12df4c9714bf6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "d640a43c.18fd58",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "ac3e05dfb2f4f76c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "31a0d5ab.c4b1da",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "8533d8e100db82f5",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "31a0d5ab.c4b1da",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "f2d3786f4d0afc52",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "31a0d5ab.c4b1da",
        "order": 6,
        "width": 8,
        "height": 1
    },
    {
        "id": "b0555c3f3f119b15",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "31a0d5ab.c4b1da",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "e4b8492e78e11cf9",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "31a0d5ab.c4b1da",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "7bdf3b212cdfd5d8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "31a0d5ab.c4b1da",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "c91199902bf882ff",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "31a0d5ab.c4b1da",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "6e238691238f882f",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "31a0d5ab.c4b1da",
        "order": 21,
        "width": 14,
        "height": 1
    },
    {
        "id": "a79fdf9a9f8c2a4b",
        "type": "ui_group",
        "name": "menu",
        "tab": "5617333625cca54b",
        "order": 1,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "fdd88cda845021a7",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "d5062ac2.4e2e18",
        "order": 9,
        "width": 3,
        "height": 1
    },
    {
        "id": "f40f13c5a159be0a",
        "type": "ui_group",
        "name": "Transmission",
        "tab": "70d6896a0e0dd979",
        "order": 3,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "c902c45b71cf183b",
        "type": "ui_group",
        "name": "Terminal B",
        "tab": "4b70f06e3be00116",
        "order": 2,
        "disp": true,
        "width": 18,
        "collapse": true
    },
    {
        "id": "8154968ffd340c71",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "702d9488970585da",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "7cd0c4fb68969c88",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "702d9488970585da",
        "order": 5,
        "width": 4,
        "height": 1
    },
    {
        "id": "ce2bb403be968573",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c22a85eb23e3925e",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "f56d8cd4a8cf8dc3",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c22a85eb23e3925e",
        "order": 9,
        "width": 4,
        "height": 1
    },
    {
        "id": "e04cb0ad4f5fba59",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c22a85eb23e3925e",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "e01ab4e55c588702",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "8505e1f27b1e40bc",
        "order": 3,
        "width": 8,
        "height": 1
    },
    {
        "id": "175aac2c95e784e4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "8505e1f27b1e40bc",
        "order": 16,
        "width": 8,
        "height": 1
    },
    {
        "id": "86eaf513bca73015",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "8505e1f27b1e40bc",
        "order": 17,
        "width": 8,
        "height": 1
    },
    {
        "id": "2dcecdea22e02267",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "8505e1f27b1e40bc",
        "order": 18,
        "width": 8,
        "height": 1
    },
    {
        "id": "b49b615bfc50f7af",
        "type": "ui_spacer",
        "z": "c9320097655cf10e",
        "name": "spacer",
        "group": "56849b47f1be9847",
        "order": 4,
        "width": 12,
        "height": 1
    },
    {
        "id": "4d0e8b71de9a8099",
        "type": "function",
        "z": "8059e7720873b594",
        "name": "handle tableData",
        "func": "/* ui table handler is a subflow from Christian-Me\n https://github.com/Christian-Me/remote-device-table */\n\n/* Modification : addition of group name in variables to improve refresh when ui-groups are unhidden\n Copyright 2020 STMicroelectronics */\n \n/*  Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License. */\n   \nvar status = {fill:\"red\",shape:\"dot\",text: \"payload \"};\nvar tableIndex = env.get(\"tableIndex\") || \"$topic\";\nvar tableDataProp = env.get(\"tableDataProp\") || \"row\";\nvar tableContext = env.get(\"tableContext\");\nvar dashboard = env.get(\"dashboard\");\nvar group = env.get(\"group\");\nif (!tableContext.hasOwnProperty(\"tableData\") || !tableContext.hasOwnProperty(\"tableConfig\")) {\n    status.text=\"tableContext not defined\";\n    node.error(status.text);\n    return [{payload:status},null];\n}\n\n// context store to cache table data (memoryOnly prefered)\nvar tableData = flow.get(\"$parent.\"+tableContext.tableData.name,tableContext.tableData.storage);\nif (tableData===undefined) {\n    //node.warn(\"[ui-table handler] tableData initialized!\");\n    tableData={};\n    flow.set(\"$parent.\"+tableContext.tableData.name,tableData,tableContext.tableData.storage);\n}\n\n// context Store to save table configuration (file)\nvar tableConfig = flow.get(\"$parent.\"+tableContext.tableConfig.name,tableContext.tableConfig.storage);\nif (tableConfig===undefined) {\n    //node.warn(\"[ui-table handler] tableConfig initialized!\");\n    tableConfig={ResponsiveLayout:true};\n    flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n}\n\n// context Store to save table configuration (file)\nvar tableEdit;\nif (tableContext.hasOwnProperty(\"tableEdit\")) {\n    tableEdit = flow.get(\"$parent.\"+tableContext.tableEdit.name,tableContext.tableEdit.storage);\n    if (tableEdit===undefined) {\n        //node.warn(\"[ui-table handler] tableEdit initialized!\");\n        tableEdit={};\n        flow.set(\"$parent.\"+tableContext.tableEdit.name,tableEdit,tableContext.tableEdit.storage);\n    }\n}\n\n// function to merge partial data into existing table row\nvar mergeObject = function (destination, source, filter) {\n    for (let currentSource in source) {\n        if (source.hasOwnProperty(currentSource)) {\n            if (filter!==undefined && tableEdit && tableEdit.hasOwnProperty(filter) && tableEdit[filter].hasOwnProperty(currentSource)) {\n                destination[currentSource]= tableEdit[filter][currentSource];\n                source[currentSource]=tableEdit[filter][currentSource];\n            } else {\n                destination[currentSource]= source[currentSource];\n            }\n        }    \n    }\n    return source;\n};\n    \n// deep search for a column\nvar searchTabulatorColumn = function (columns,key,match) {\n    var result;\n    for (let column of columns) {\n        if (column.hasOwnProperty(\"columns\")) {\n            result = searchTabulatorColumn(column.columns,key,match);\n            if (result!==undefined) return result;\n        } else if (column.hasOwnProperty(key) && column[key]===match) {\n            return column;\n        }\n    }\n};\n\n// command message to update add or update data on ui-table\nvar msgToTable={};\nmsgToTable.payload={\n    \"command\":\"updateOrAddData\",\n    \"arguments\": [],\n    \"returnPromise\": false\n};\n\nif (msg.hasOwnProperty(tableDataProp)) {\n    // store data for later recover\n    if (!msg.hasOwnProperty(\"topic\")) { // check if index existst\n        status.text=\"msg.topic not defined!\";\n        return [{payload:status},null];\n    }\n    if (!tableData.hasOwnProperty(msg.topic)){ // first seen\n        tableData[msg.topic]={};\n        if (tableEdit && tableEdit.hasOwnProperty(msg.topic)) { // table edits available!\n            Object.keys(tableEdit[msg.topic]).forEach((key) => {\n                msg[tableDataProp][key]=tableEdit[msg.topic][key];\n                tableData[msg.topic][key]=tableEdit[msg.topic][key];\n            })\n        }\n    }\n    if (!tableData[msg.topic].hasOwnProperty(tableIndex)) tableData[msg.topic][tableIndex]=msg.topic;\n    msg[tableDataProp]=mergeObject(tableData[msg.topic],msg[tableDataProp],msg.topic);\n    msg[tableDataProp][tableIndex]=msg.topic;\n    msgToTable.payload.arguments=[[msg[tableDataProp]]];\n    status.fill=\"green\";\n    status.text=msg.topic+\" updated\";\n    return [{payload:status},msgToTable,null];\n} if (msg.payload===\"connect\" || (msg.payload===\"change\" && msg.name===dashboard) ||(msg.payload===\"group\" && msg.group===group) || (msg.hasOwnProperty(\"payload\") && msg.payload.hasOwnProperty(\"command\"))) { \n    if (!msg.hasOwnProperty(\"ui_control\")) {\n        msg.ui_control = env.get('tabulator');\n        status.text+=\" ui_control added\";\n    }\n    //process commands\n    //node.warn({\"command\":msg.payload.command,\"msg\":msg,\"object\":msg.payload.object})\n    if (msg.payload.hasOwnProperty(\"command\")) {\n        status.fill=\"blue\";\n        switch(msg.payload.command) {\n            case 'deleteTable':\n                flow.set(\"$parent.\"+tableContext.tableData.name,undefined,tableContext.tableData.storage);\n                tableData={};\n                status.text=\"tabledata deleted\";\n                //node.warn(\"[ui-table handler] \"+\"tabledata deleted\");\n                break;\n            case 'deleteDevice':\n                if (tableData.hasOwnProperty(msg.payload.object)) {\n                    delete tableData[msg.payload.object];\n                    status.text=msg.payload.object+\" deleted\";\n                } else {\n                    status.fill=\"yellow\";\n                    status.text=msg.payload.object+\" undefined\";\n                }\n                break;\n            case 'ignoreDevice':\n                if (tableData.hasOwnProperty(msg.payload.object)) {\n                    delete tableData[msg.payload.object];\n                    status.text=msg.payload.object+\" will be ignored\";\n                    if (!tableConfig.hasOwnProperty('ignoreDevice')) tableConfig.ignoreDevice={};\n                    tableConfig.ignoreDevice[msg.payload.object]=true;\n                }\n                break;\n            case 'unIgnoreDevice':\n                if (tableConfig.hasOwnProperty('ignoreDevice')) {\n                    delete tableConfig.ignoreDevice[msg.payload.object];\n                }\n                break;\n            case 'unIgnoreDevices':\n                delete tableConfig.ignoreDevice;\n                break;\n            case 'updateData':\n                status.text=\"column \"+msg.payload.column+\" updated\";\n                return [{payload:status},msg];\n            case 'updateTable':\n                status.text=msg.payload.command+\": \";\n                break;\n            case 'columnHide':\n                if (!tableConfig.hasOwnProperty('columnVisible')) tableConfig.columnVisible={};\n                tableConfig.columnVisible[msg.payload.object]=false;\n                break;\n            case 'columnUnHide':\n                if (!tableConfig.hasOwnProperty('columnVisible')) tableConfig.columnVisible={};\n                tableConfig.columnVisible[msg.payload.object]=true;\n                break;\n            case 'columnsUnHide':\n                for (let column in tableConfig.columnVisible) {\n                    if (tableConfig.columnVisible.hasOwnProperty(column)) tableConfig.columnVisible[column]=true;\n                }\n                break;\n            case 'refreshTable':\n                break;\n            case 'restoreColumnOrder':\n                delete tableConfig.columns;\n                break;\n            case 'resetColumnWidth':\n                delete tableConfig.columnWidths;\n                break;\n            case 'setResponsiveLayout':\n                tableConfig.ResponsiveLayout=!tableConfig.ResponsiveLayout;\n                break;\n            default:\n                status.fill=\"red\";\n                status.text=\"unknown command \"+msg.payload.command;\n                node.warn(\"[ui-table handler] \"+status.text);\n                break;\n        }\n        flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n        node.send([{payload:status},null,null]);\n    }\n\n    // crawl through tabulator arrays and updated user defined values\n    var crawlTabulator = function (columns,match,config,property) {\n        for (let column of columns) {\n            if (column.hasOwnProperty(\"columns\")) {\n                crawlTabulator(column.columns,match,config,property);\n            } else if (config.hasOwnProperty(column[match])) column[property]=config[column.field];\n        }\n    };\n    \n    // restore custom column width\n    if (tableConfig.hasOwnProperty(\"columnWidths\") && msg.hasOwnProperty(\"ui_control\")) {\n        crawlTabulator(msg.ui_control.tabulator.columns,\"field\",tableConfig.columnWidths,\"width\");\n    }\n    \n    // restore custom column hide/show\n    if (tableConfig.hasOwnProperty(\"columnVisible\") && msg.hasOwnProperty(\"ui_control\")) {\n        crawlTabulator(msg.ui_control.tabulator.columns,\"field\",tableConfig.columnVisible,\"visible\");\n    }\n    \n    // restore custom responsive / standard view\n    if (tableConfig.hasOwnProperty(\"ResponsiveLayout\")) {\n        if (!tableConfig.ResponsiveLayout) {\n            msg.ui_control.tabulator.responsiveLayout=false;\n        }\n        msg.ui_control.tabulator.columns.forEach((column,index) => {\n            if (column.formatter===\"responsiveCollapse\") { // hide expand column on any position\n                column.visible=tableConfig.ResponsiveLayout;\n                return;\n            }\n        });\n    }\n\n    // sort columns\n    if (tableConfig.hasOwnProperty(\"columns\") && msg.hasOwnProperty(\"ui_control\") && msg.ui_control.hasOwnProperty(\"tabulator\")) {\n        var addedColumns = 0;\n        var sortColumnsByLayout = function (sortColumns, columnsLayout, targetColumns) {\n            for (var layoutColumn=0;  layoutColumn<columnsLayout.length; layoutColumn++) {\n                for (var sortColumn in sortColumns) {\n                    if (sortColumns[sortColumn].hasOwnProperty(\"columns\")) {\n                        targetColumns.push({\"title\":sortColumns[sortColumn].title, \"columns\":[]});\n                        sortColumnsByLayout(sortColumns[sortColumn].columns,columnsLayout,targetColumns[targetColumns.length-1].columns);\n                        layoutColumn=addedColumns; // jump forward after childes added\n                    } else {\n                        if (columnsLayout[layoutColumn].field===sortColumns[sortColumn].field){\n                            targetColumns.push(sortColumns[sortColumn]);\n                            addedColumns++;\n                            break;\n                        }\n                    }\n                }\n            }\n        };                 \n        var newColumns=[];\n        sortColumnsByLayout(msg.ui_control.tabulator.columns,tableConfig.columns,newColumns);\n        msg.ui_control.tabulator.columns=newColumns;\n    }\n\n    // restore stored lines after connect\n    msg.payload=[];\n    for (let device in tableData) {\n        if (tableConfig && tableConfig.hasOwnProperty(\"ignoreDevice\") && tableConfig.ignoreDevice[device]) {\n            continue;\n        }\n        // merge edits into table\n        if (tableEdit && tableEdit.hasOwnProperty(device)) {\n            let tableRow = RED.util.cloneMessage(tableData[device]);\n            Object.keys(tableEdit[device]).forEach((field) => {\n                tableRow[field]=tableEdit[device][field];\n            });\n            msg.payload.push(tableRow);\n        } else {\n            msg.payload.push(tableData[device]);\n        }\n    }\n    \n    status.fill=\"blue\";\n    status.text+=\" \"+msg.payload.length+\" rows restored\";\n    return [{payload:status},msg];\n} if (msg.hasOwnProperty(\"ui_control\")) {\n    // callback from tabulator\n    status.fill=\"blue\";\n    status.text=\"unknown callback \"+msg.ui_control.callback;\n    switch(msg.ui_control.callback) {\n        case \"columnResized\": // save new column width\n            if (tableConfig.columnWidths===undefined) tableConfig.columnWidths={};\n            tableConfig.columnWidths[msg.ui_control.columnWidths.field]=msg.ui_control.columnWidths.width;\n            flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n            status.text=msg.ui_control.columnWidths.field+\"=\"+msg.ui_control.columnWidths.width+\"px\";\n            break;\n        case \"columnMoved\": // save new column order\n            if (tableConfig.columns===undefined) tableConfig.columns=[];\n            tableConfig.columns=msg.ui_control.columns;\n            flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n            status.text=\"new column order\";\n            break;\n        case \"cellEdited\":\n            if (tableEdit) {\n                if (!tableEdit.hasOwnProperty(msg[tableIndex])) tableEdit[msg[tableIndex]]={};\n                tableEdit[msg[tableIndex]][msg.field] = msg.payload; // save data and mark es edited field\n                flow.set(\"$parent.\"+tableContext.tableEdit.name,tableEdit,tableContext.tableEdit.storage);\n                status.text=msg[tableIndex]+\" \"+msg.field+\" edited to \"+msg.payload;\n                msg[tableDataProp]={};\n                msg[tableDataProp][tableIndex]=msg[tableIndex];\n                msg[tableDataProp][msg.field]=msg.payload;\n                msgToTable.payload.arguments=[[msg[tableDataProp]]];\n                node.send([{payload:status},msgToTable,msg]);\n            } else {\n                node.error(\"[ui-table handler] no tableEdit store defined!\")\n            }\n            break;\n        case \"rowContext\":\n            msg.ignoredDevices=[];\n            for (let device in tableConfig.ignoreDevice) {\n                if (tableConfig.ignoreDevice.hasOwnProperty(device)) {\n                    msg.ignoredDevices.push({\"text\":device,\"icon\":\"fa fa-plug\",\"topic\":\"unIgnoreDevice\",\"payload\":device})  \n                }\n            }\n            break;\n        case \"headerContext\":\n            msg.hiddenColumns=[];\n            let tabulatorConfig = env.get('tabulator');\n            for (let column in tableConfig.columnVisible) {\n                if (tableConfig.columnVisible.hasOwnProperty(column) &&\n                    !tableConfig.columnVisible[column]) {\n                    let configColumn=searchTabulatorColumn(tabulatorConfig.tabulator.columns,\"field\",column);\n                    let icon;\n                    if (configColumn.hasOwnProperty('title') && configColumn.title.toLowerCase().includes('</i>')) {\n                        // <i class='fa fa-star-half-o'></i> State\n                        let start=configColumn.title.indexOf(\"'fa \");\n                        let end=configColumn.title.indexOf(\"'\",start+1);\n                        icon=configColumn.title.substring(start+4,end);\n                    }\n                    msg.hiddenColumns.push({\"text\":column,\"icon\":icon,\"topic\":\"columnUnHide\",\"payload\":configColumn.field})  \n                }\n            }\n            break;\n        default:\n            // if rowIndex exists pass complete object\n            if (msg.hasOwnProperty(tableIndex)) {\n                msg.rowData=tableData[msg[tableIndex]];\n            }\n            status.text=\"pass message\";\n    }\n    return [{payload:status},null,msg];\n}\n// nothing to do bejond this point\nstatus.text+=\" [\"+msg.payload+\"]\";\nreturn [{payload:status},null];\n",
        "outputs": 3,
        "noerr": 0,
        "x": 192,
        "y": 85,
        "wires": [
            [],
            [],
            []
        ],
        "icon": "font-awesome/fa-table"
    },
    {
        "id": "852009e78874179a",
        "type": "link in",
        "z": "fbe21a66e8f9dfea",
        "name": "Serial Port A out",
        "links": [
            "a4c1f2344a35ed8c",
            "20277abf.55bb06",
            "c2bccf81.daff",
            "8b3e45f557d687cb",
            "368f34d8.e47afc",
            "41a7e13a9c668ad6",
            "5542357a.dff09c",
            "5db546e4ba138118",
            "ec3168b3.4f0678",
            "c05e4b31.db5b68",
            "b1fd5363.a1a7c",
            "66b10c9c.23ed34",
            "785e58fa.bed918",
            "4383a5db.4b641c",
            "33b7355c53b805b3",
            "d816cb0cf64c0dcc",
            "4d497832cae60fc4",
            "2a9d01452b22337d",
            "0bc84caef50ce504"
        ],
        "x": 115,
        "y": 220,
        "wires": [
            [
                "274bc38d1a315fd9"
            ]
        ]
    },
    {
        "id": "464ed0bd9699e9fa",
        "type": "serial in",
        "z": "fbe21a66e8f9dfea",
        "name": "Serial Port A",
        "serial": "0ed5cc8bf9208ffd",
        "x": 130,
        "y": 520,
        "wires": [
            [
                "ac2be85cf228bd64",
                "425180b39c8d0278",
                "06a5aad16c6f1460"
            ]
        ]
    },
    {
        "id": "6d906ad60fbbf567",
        "type": "status",
        "z": "fbe21a66e8f9dfea",
        "name": "Serial Port A Status",
        "scope": [
            "464ed0bd9699e9fa"
        ],
        "x": 130,
        "y": 440,
        "wires": [
            [
                "06a5aad16c6f1460"
            ]
        ]
    },
    {
        "id": "7eeee4d02a059ddd",
        "type": "comment",
        "z": "fbe21a66e8f9dfea",
        "name": "SERIAL PORT CONFIGURATION AND AT RESULT PARSER",
        "info": "",
        "x": 380,
        "y": 100,
        "wires": []
    },
    {
        "id": "06a5aad16c6f1460",
        "type": "function",
        "z": "fbe21a66e8f9dfea",
        "name": "AT Result formatter",
        "func": "var status=null;\n\n// status messages (connect, disconnect, timeout)\nif (msg.status) {\n    if ( msg.status.text===\"node-red:common.status.not-connected\") {\n    msg.topic=\"disconnect\";\n    msg.flow=\"ALL\"\n    flow.set(\"AT_Command\",\"\");\n    return msg;\n    } \n    if ( msg.status.text===\"node-red:common.status.connected\") {\n    msg.topic=\"connect\";\n    msg.flow=\"ALL\"\n    return msg;\n    } \n    if ( msg.status.text===\"timeout\") {\n    msg.topic=\"error\";\n    msg.flow=\"ALL\";\n    flow.set(\"AT_Command\",\"\"); \n    return msg;\n    } \n}\n\nvar input=msg.payload.trim();\nvar command=flow.get(\"AT_Command\") || \"\";\ncommand=command.trim();\n\n// No command was sent \nif (command===\"\") {\n    // check if it is reset message\n    if (input.includes(\"ATtention command interface\")) {\n        flow.set(\"AT_Command\",\"\"); \n        msg.topic=\"resetok\";\n        msg.flow=\"ALL\";\n        return msg;\n        \n    } else {\n        return null;\n    }\n}\n\n// A command is ongoing \nif (command===\"AT+TRSSI\") {\n    if (msg.payload.includes(\"RSSI\")) {\n        msg.payload=input;\n    msg.topic=\"result\";\n    msg.flow=msg.flow||flow.get(\"AT_Flow\");\n    //flow.set(\"AT_Command\",\"\");\n    return msg;\n    }\n}\n\nif (command.includes(\"AT+TTX\")) {\n    if (msg.payload.includes(\":Tx \")) {\n        msg.payload=input;\n    return msg;\n    }\n}\n\nif (command.includes(\"AT+TRX\")) {\n    if (msg.payload.includes(\"PER\")) {\n        msg.payload=input;\n        msg.topic=\"result\";\n        msg.flow=msg.flow||flow.get(\"AT_Flow\");\n    return msg;\n    }\n    if (msg.payload.includes(\"RssiValue\")) {\n        msg.payload=input;\n        msg.topic=\"result\";\n        msg.flow=msg.flow||flow.get(\"AT_Flow\");\n    return msg;\n    }\n}\n\nif (command===\"ATZ\") {\n    if (input.includes(\"###### GenAppKey:\")) {\n        msg.payload=\"OK\";\n        msg.topic=\"resetok\";\n        flow.set(\"AT_Command\",\"\");\n        msg.flow=flow.get(\"AT_Flow\");\n        return msg;\n    }\n}\n\n\nswitch (input) {\n    case \"OK\":\n        status=\"ok_a\";\n        flow.set(\"AT_Command\",\"\");\n        break;\n    case \"ATtention command interface\":\n        status=\"resetok\";\n        msg.flow=\"ALL\";\n        flow.set(\"AT_Command\",\"\");\n        break;\n    case \"AT_PARAM_ERROR\":\n        status=\"error\";\n        flow.set(\"AT_Command\",\"\");\n        break;\n    case \"AT_BUSY_ERROR\":\n        status=\"error\";\n        flow.set(\"AT_Command\",\"\");\n        break;\n   \n    \n}\nif (status !== null) {\n    msg.topic=status;\n    msg.flow=msg.flow||flow.get(\"AT_Flow\");\n    \nreturn msg;\n}\nelse {\n    return null;\n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 610,
        "y": 520,
        "wires": [
            [
                "b622ef1228771c4f",
                "4698a9c2866b66ad"
            ]
        ]
    },
    {
        "id": "5eca4b84446ebdce",
        "type": "comment",
        "z": "fbe21a66e8f9dfea",
        "name": "Result parsing",
        "info": "",
        "x": 530,
        "y": 560,
        "wires": []
    },
    {
        "id": "274bc38d1a315fd9",
        "type": "function",
        "z": "fbe21a66e8f9dfea",
        "name": "validate command",
        "func": "if (flow.get(\"AT_Command\")===\"\" || flow.get(\"AT_Command\")===undefined) {\n    // No AT cmd ongoing\n    flow.set(\"AT_Command\",msg.payload);\n    flow.set(\"AT_Flow\",msg.flow);\n    return msg;\n} else {\n    // error case\n    var errorMsg = { topic : \"error\", flow : msg.flow, payload : \"BUSY_A\" };\n    return [null, errorMsg];    \n}\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 310,
        "y": 220,
        "wires": [
            [
                "22232f1d6bfac446",
                "fd441be558a545c0",
                "b622ef1228771c4f",
                "425180b39c8d0278"
            ],
            [
                "4698a9c2866b66ad"
            ]
        ],
        "outputLabels": [
            "Commands",
            "Errors"
        ]
    },
    {
        "id": "f18193a182db3175",
        "type": "comment",
        "z": "fbe21a66e8f9dfea",
        "name": "From Flow",
        "info": "",
        "x": 100,
        "y": 180,
        "wires": []
    },
    {
        "id": "775f9be76bda9676",
        "type": "comment",
        "z": "fbe21a66e8f9dfea",
        "name": "To Flow",
        "info": "",
        "x": 930,
        "y": 320,
        "wires": []
    },
    {
        "id": "d4dea7b6ae246543",
        "type": "comment",
        "z": "fbe21a66e8f9dfea",
        "name": "SELECT SERIAL PORT HERE",
        "info": "",
        "x": 930,
        "y": 180,
        "wires": []
    },
    {
        "id": "4698a9c2866b66ad",
        "type": "link out",
        "z": "fbe21a66e8f9dfea",
        "name": "Serial Port A in",
        "links": [
            "887ccfda9f1e86a5",
            "24f9c4a544e33654",
            "161fe59d57fe98f4",
            "ccd34144.dc85d",
            "f5d7b38.3e8825",
            "fbe3312e.235a9",
            "eb83283e.b27548",
            "0ec922a8259cf93c",
            "90955336.8296a",
            "0ced968d69b332e0",
            "da1393af.ad1f3",
            "7182dcdb.827b94",
            "792595d9.755a6c",
            "a5b5e63e.0d3988",
            "9ee00c6c.c024b",
            "968e55be.e13978",
            "f3c3b76c.bd7f68",
            "685c4063.b0fc",
            "f1ccd1ca965f2ec8",
            "167bcd20ec4a538c",
            "b53955c095af95df",
            "35295ea911e0c507",
            "e53f6f16a97d655d",
            "3704aee26dad0cdc",
            "da3d02971d37f6d3",
            "d2be574ca2a56c80",
            "faf691445cbf895f",
            "2ab620b4c56c6ca3"
        ],
        "x": 935,
        "y": 380,
        "wires": []
    },
    {
        "id": "22232f1d6bfac446",
        "type": "serial out",
        "z": "fbe21a66e8f9dfea",
        "name": "Serial Port A",
        "serial": "0ed5cc8bf9208ffd",
        "x": 870,
        "y": 220,
        "wires": []
    },
    {
        "id": "e337c17d6f5d78de",
        "type": "link in",
        "z": "fbe21a66e8f9dfea",
        "name": "Serial Port A Raw out",
        "links": [
            "ca21eedc4ac7b3bd"
        ],
        "x": 715,
        "y": 240,
        "wires": [
            [
                "22232f1d6bfac446"
            ]
        ]
    },
    {
        "id": "ac2be85cf228bd64",
        "type": "link out",
        "z": "fbe21a66e8f9dfea",
        "name": "Serial Port A Raw In",
        "links": [
            "bfbc248fa53fadb0"
        ],
        "x": 295,
        "y": 560,
        "wires": []
    },
    {
        "id": "fd441be558a545c0",
        "type": "link out",
        "z": "fbe21a66e8f9dfea",
        "name": "Sent command",
        "links": [
            "2e965e952ca764b7"
        ],
        "x": 575,
        "y": 240,
        "wires": []
    },
    {
        "id": "b622ef1228771c4f",
        "type": "function",
        "z": "fbe21a66e8f9dfea",
        "name": "Timeout",
        "func": "const timeoutValue=7000;\nlet timeoutId=context.get(\"timeoutId\");\nlet kickCount=context.get(\"kickCount\")||0;\n\nif (timeoutId!==undefined) {\n    clearTimeout(timeoutId);\n}\n\nif (msg.topic===\"ok_a\"|| msg.topic=== \"ok_b\" || msg.topic===\"resetok\" || msg.topic===\"error\"|| msg.topic===\"disconnect\") {\n    node.status({fill:\"green\",shape:\"dot\",text:\"stopped\"});                    \n    context.set(\"kickCount\",0);\n    return null;\n}\n\ntimeoutId=setTimeout(function() {\n            node.status({fill:\"red\",shape:\"dot\",text:\"TIMEOUT\"});                    \n            var timMsg={ payload:\"timeout\",\n                        status: {text: \"timeout\"}};\n            node.send(timMsg);\n            }, timeoutValue);\n\ncontext.set(\"timeoutId\",timeoutId);\n\nkickCount= kickCount+1;     \ncontext.set(\"kickCount\",kickCount);\nnode.status({text:\"kicked \"+kickCount});                    \n                    \nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 360,
        "wires": [
            [
                "06a5aad16c6f1460"
            ]
        ],
        "info": "This node manages the timeout of the board\n\nTimer is restarted when command is sent or new data is received from board\nTimer is stopped when the command in complete (OK, Error, or reset)\nIf timer expires, a timeout message is sent in the output."
    },
    {
        "id": "425180b39c8d0278",
        "type": "debug",
        "z": "fbe21a66e8f9dfea",
        "name": "port A",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 410,
        "y": 360,
        "wires": []
    },
    {
        "id": "43af9fbd0944a114",
        "type": "comment",
        "z": "99ee5cb5b3b7d265",
        "name": "SERIAL PORT CONFIGURATION AND AT RESULT PARSER",
        "info": "",
        "x": 380,
        "y": 100,
        "wires": []
    },
    {
        "id": "c06793a89bd17af7",
        "type": "serial out",
        "z": "99ee5cb5b3b7d265",
        "name": "Serial Port B",
        "serial": "250a5163806fe0c4",
        "x": 870,
        "y": 220,
        "wires": []
    },
    {
        "id": "33f3d0b3dcc7bd60",
        "type": "link in",
        "z": "99ee5cb5b3b7d265",
        "name": "Serial Port B out",
        "links": [
            "e00b8e8c3fad77fe",
            "27e9c5bbb226d228",
            "4109b6fd18e2fb1a",
            "2a990fe2acb9841d",
            "035eb448d7507839",
            "f5beeeadddab40ef"
        ],
        "x": 115,
        "y": 220,
        "wires": [
            [
                "bb49ebf4aec04c7d"
            ]
        ]
    },
    {
        "id": "683791c6f047bc27",
        "type": "serial in",
        "z": "99ee5cb5b3b7d265",
        "name": "Serial Port B",
        "serial": "250a5163806fe0c4",
        "x": 130,
        "y": 520,
        "wires": [
            [
                "cb585fee872fc5de",
                "a2fd233bcb5bd8fa",
                "6f89bf6dd451f17d"
            ]
        ]
    },
    {
        "id": "f3dfe1e0131d23cd",
        "type": "link out",
        "z": "99ee5cb5b3b7d265",
        "name": "Serial Port B in",
        "links": [
            "fca2ad1962431b93",
            "0619a192f97faacf",
            "4741c79fb43ac217",
            "87d33bc22a7bcbe4",
            "e9a893e8f4e1fd12",
            "89da594216cb5766",
            "657b68b24ce96781",
            "1562eb402649818e",
            "404bfc3ac8348774",
            "46a4a14d723451e5",
            "be13a2d2e0e88169"
        ],
        "x": 935,
        "y": 380,
        "wires": []
    },
    {
        "id": "3b8b506f3f8e29e2",
        "type": "status",
        "z": "99ee5cb5b3b7d265",
        "name": "Serial Port B Status",
        "scope": [
            "683791c6f047bc27"
        ],
        "x": 130,
        "y": 440,
        "wires": [
            [
                "a2fd233bcb5bd8fa"
            ]
        ]
    },
    {
        "id": "a2fd233bcb5bd8fa",
        "type": "function",
        "z": "99ee5cb5b3b7d265",
        "name": "AT Result formatter",
        "func": "var status=null;\n\n// status messages (connect, disconnect, timeout)\nif (msg.status) {\n    if ( msg.status.text===\"node-red:common.status.not-connected\") {\n    msg.topic=\"disconnect\";\n    msg.flow=\"ALL\"\n    flow.set(\"ATCMD_B\",\"\");\n    return msg;\n    } \n    if ( msg.status.text===\"node-red:common.status.connected\") {\n    msg.topic=\"connect\";\n    msg.flow=\"ALL\"\n    return msg;\n    } \n    if ( msg.status.text===\"timeout\") {\n    msg.topic=\"error\";\n    msg.flow=\"ALL\";\n    flow.set(\"ATCMD_B\",\"\"); \n    return msg;\n    } \n}\n\nvar input=msg.payload.trim();\nvar command=flow.get(\"ATCMD_B\") || \"\";\ncommand=command.trim();\n\n// No command sent \nif (command===\"\") {\n    // check if it is reset message\n    if (input.includes(\"ATtention command interface\")) {\n        flow.set(\"ATCMD_B\",\"\"); \n        msg.topic=\"resetok\";\n        msg.flow=\"ALL\";\n        return msg;\n        \n    } else {\n        return null;\n    }\n}\n\n// A command is ongoing \nif (command===\"AT+TRSSI\") {\n    if (msg.payload.includes(\"RSSI\")) {\n        msg.payload=input;\n    msg.topic=\"result\";\n    msg.flow=msg.flow||flow.get(\"AT_Flow\");\n    //flow.set(\"ATCMD_B\",\"\");\n    return msg;\n    }\n}\n\nif (command.includes(\"AT+TTX\")) {\n    if (msg.payload.includes(\":Tx \")) {\n        msg.payload=input;\n    return msg;\n    }\n}\n\nif (command.includes(\"AT+TRX\")) {\n    if (msg.payload.includes(\"PER\")) {\n        msg.payload=input;\n        msg.topic=\"result\";\n        msg.flow=msg.flow||flow.get(\"AT_Flow\");\n    return msg;\n    }\n    if (msg.payload.includes(\"RssiValue\")) {\n        msg.payload=input;\n        msg.topic=\"result\";\n        msg.flow=msg.flow||flow.get(\"AT_Flow\");\n    return msg;\n    }\n}\n\nif (command===\"ATZ\") {\n    if (input.includes(\"###### GenAppKey:\")) {\n        msg.payload=\"OK\";\n        msg.topic=\"resetok\";\n        flow.set(\"ATCMD_B\",\"\");\n        msg.flow=flow.get(\"AT_Flow\");\n        return msg;\n    }\n}\n\n\nswitch (input) {\n    case \"OK\":\n        status=\"ok_b\";\n        flow.set(\"ATCMD_B\",\"\");\n        break;\n    case \"ATtention command interface\":\n        status=\"resetok\";\n        msg.flow=\"ALL\";\n        flow.set(\"ATCMD_B\",\"\");\n        break;\n    case \"AT_PARAM_ERROR\":\n        status=\"error\";\n        flow.set(\"ATCMD_B\",\"\");\n        break;\n    case \"AT_BUSY_ERROR\":\n        status=\"error\";\n        flow.set(\"ATCMD_B\",\"\");\n        break;\n   \n    \n}\nif (status !== null) {\n    msg.topic=status;\n    msg.flow=msg.flow||flow.get(\"AT_Flow\");\n    \nreturn msg;\n}\nelse {\n    return null;\n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 610,
        "y": 520,
        "wires": [
            [
                "f3dfe1e0131d23cd",
                "69988008930db7ea"
            ]
        ]
    },
    {
        "id": "3350ff132a794a1b",
        "type": "comment",
        "z": "99ee5cb5b3b7d265",
        "name": "Result parsing",
        "info": "",
        "x": 530,
        "y": 560,
        "wires": []
    },
    {
        "id": "bb49ebf4aec04c7d",
        "type": "function",
        "z": "99ee5cb5b3b7d265",
        "name": "validate command",
        "func": "if (flow.get(\"ATCMD_B\")===\"\" || flow.get(\"ATCMD_B\")===undefined) {\n\n// No AT cmd ongoing\nflow.set(\"ATCMD_B\",msg.payload);\nflow.set(\"AT_Flow\",msg.flow);\nreturn msg;\n}\n\n// busy case\nvar errorMsg = { topic : \"error\", flow : msg.flow, payload : \"BUSY_B\" };\nreturn [null, errorMsg];    \n\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 310,
        "y": 220,
        "wires": [
            [
                "c06793a89bd17af7",
                "69988008930db7ea",
                "cb585fee872fc5de",
                "6262fdfe6109d3ee"
            ],
            [
                "f3dfe1e0131d23cd"
            ]
        ],
        "outputLabels": [
            "Commands",
            "Errors"
        ]
    },
    {
        "id": "2be29b949995233e",
        "type": "comment",
        "z": "99ee5cb5b3b7d265",
        "name": "From Flow",
        "info": "",
        "x": 100,
        "y": 180,
        "wires": []
    },
    {
        "id": "22548fd8f9e2dd69",
        "type": "comment",
        "z": "99ee5cb5b3b7d265",
        "name": "To Flow",
        "info": "",
        "x": 930,
        "y": 320,
        "wires": []
    },
    {
        "id": "8ed668d181668449",
        "type": "comment",
        "z": "99ee5cb5b3b7d265",
        "name": "SELECT SERIAL PORT HERE",
        "info": "",
        "x": 930,
        "y": 180,
        "wires": []
    },
    {
        "id": "69988008930db7ea",
        "type": "function",
        "z": "99ee5cb5b3b7d265",
        "name": "Timeout",
        "func": "const timeoutValue=7000;\nlet timeoutId=context.get(\"timeoutId\");\nlet kickCount=context.get(\"kickCount\")||0;\n\nif (timeoutId!==undefined) {\n    clearTimeout(timeoutId);\n}\n\nif (msg.topic===\"ok_a\" || msg.topic===\"ok_b\"|| msg.topic===\"resetok\" || msg.topic===\"error\") {\n    node.status({fill:\"green\",shape:\"dot\",text:\"stopped\"});                    \n    context.set(\"kickCount\",0);\n    return null;\n}\n\ntimeoutId=setTimeout(function() {\n            node.status({fill:\"red\",shape:\"dot\",text:\"TIMEOUT\"});                    \n            var timMsg={ payload:\"timeout B\",\n                        status: {text: \"timeout\"}};\n            node.send(timMsg);\n            }, timeoutValue);\n\ncontext.set(\"timeoutId\",timeoutId);\n\nkickCount= kickCount+1;     \ncontext.set(\"kickCount\",kickCount);\nnode.status({text:\"kicked \"+kickCount});                    \n                    \nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 620,
        "y": 360,
        "wires": [
            [
                "a2fd233bcb5bd8fa"
            ]
        ],
        "info": "This node manages the timeout of the board\n\nTimer is restarted when command is sent or new data is received from board\nTimer is stopped when the command in complete (OK, Error, or reset)\nIf timer expires, a timeout message is sent in the output."
    },
    {
        "id": "cb585fee872fc5de",
        "type": "debug",
        "z": "99ee5cb5b3b7d265",
        "name": "Port B",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 410,
        "y": 360,
        "wires": []
    },
    {
        "id": "6262fdfe6109d3ee",
        "type": "link out",
        "z": "99ee5cb5b3b7d265",
        "name": "Sent command",
        "links": [
            "d31656ba9513d6f7"
        ],
        "x": 575,
        "y": 240,
        "wires": []
    },
    {
        "id": "6ba5d27ef9763ae8",
        "type": "link in",
        "z": "99ee5cb5b3b7d265",
        "name": "Serial Port B Raw out",
        "links": [
            "fed0e01f7478fb5d"
        ],
        "x": 715,
        "y": 240,
        "wires": [
            [
                "c06793a89bd17af7"
            ]
        ]
    },
    {
        "id": "6f89bf6dd451f17d",
        "type": "link out",
        "z": "99ee5cb5b3b7d265",
        "name": "Serial Port B Raw In",
        "links": [
            "c280c52595eccd63"
        ],
        "x": 295,
        "y": 560,
        "wires": []
    },
    {
        "id": "7d93c743dfbd8d53",
        "type": "ui_ui_control",
        "z": "c2b3c257d52b8bba",
        "name": "UI ctrl",
        "events": "all",
        "x": 1050,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "d07c16b5f5f9e749",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "Display Lora_Reception",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_LORA_Transmission\",\"RF_test_LORA_PER_Results\",\"RF_test_LORA_PER_Parameters\",\"RF_test_LORA_PER_Multiple_Frequencies\",\"RF_test_LORA_PER_Single_Frequency\",\"RF_test_LORA_TX_RX\"],\"show\":[\"RF_test_LORA_Reception\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 400,
        "wires": [
            [
                "7d93c743dfbd8d53"
            ]
        ]
    },
    {
        "id": "e208504f35d42cf6",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "Display Lora_Transmission",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_LORA_Reception\",\"RF_test_LORA_PER_Parameters\",\"RF_test_LORA_PER_Results\",\"RF_test_LORA_PER_Multiple_Frequencies\",\"RF_test_LORA_PER_Single_Frequency\",\"RF_test_LORA_TX_RX\"],\"show\":[\"RF_test_LORA_Transmission\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 460,
        "wires": [
            [
                "7d93c743dfbd8d53"
            ]
        ]
    },
    {
        "id": "564c2f8ad6b8c3ac",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "display Lora PER ",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_LORA_Transmission\",\"RF_test_LORA_Reception\",\"RF_test_LORA_PER_Single_Frequency\",\"RF_test_LORA_TX_RX\"],\"show\":[\"RF_test_LORA_PER_Parameters\",\"RF_test_LORA_PER_Results\",\"RF_test_LORA_PER_Multiple_Frequencies\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 520,
        "wires": [
            [
                "7d93c743dfbd8d53",
                "b02ffd7854ff3256"
            ]
        ]
    },
    {
        "id": "a6e3f16a88a8ca08",
        "type": "ui_button",
        "z": "c2b3c257d52b8bba",
        "name": "",
        "group": "56849b47f1be9847",
        "order": 1,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Receive test",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "RX",
        "payloadType": "str",
        "topic": "",
        "x": 410,
        "y": 400,
        "wires": [
            [
                "d07c16b5f5f9e749"
            ]
        ]
    },
    {
        "id": "4ae75503558d99a7",
        "type": "ui_button",
        "z": "c2b3c257d52b8bba",
        "name": "",
        "group": "56849b47f1be9847",
        "order": 2,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Transmit test",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "TX",
        "payloadType": "str",
        "topic": "",
        "x": 410,
        "y": 460,
        "wires": [
            [
                "e208504f35d42cf6"
            ]
        ]
    },
    {
        "id": "d8dafe2cd27e20d6",
        "type": "ui_button",
        "z": "c2b3c257d52b8bba",
        "name": "",
        "group": "56849b47f1be9847",
        "order": 3,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "PER test",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "PER",
        "payloadType": "str",
        "topic": "",
        "x": 400,
        "y": 520,
        "wires": [
            [
                "564c2f8ad6b8c3ac"
            ]
        ]
    },
    {
        "id": "9a03bbe0571d564e",
        "type": "link in",
        "z": "c2b3c257d52b8bba",
        "name": "CTRL LORA",
        "links": [
            "4083bceb.ee57f4",
            "b9efc54e4f93971b",
            "807e9d18bc1b8984",
            "0a76570a4638a057",
            "9c61c4fc.ed2908",
            "4c393ed9a98c3238",
            "e46e87b2.31c6f8",
            "79d5d071eac70307",
            "7068aff7.6a6db",
            "97f624e7.8fac58",
            "eade68d2.6b4128",
            "ea8ed9a7.0ec2a8",
            "fa1d176e.9727c8",
            "64b6970b88345687",
            "3e963d24675bcc26",
            "61d92dc566c0e429",
            "ff7b1391df96573b",
            "453bd88d4caea6e6",
            "af29ed53c8853941",
            "48fe0a88a1e98d4b"
        ],
        "x": 255,
        "y": 460,
        "wires": [
            [
                "d8dafe2cd27e20d6",
                "a6e3f16a88a8ca08",
                "4ae75503558d99a7"
            ]
        ]
    },
    {
        "id": "858640e7012e18fa",
        "type": "ui_button",
        "z": "c2b3c257d52b8bba",
        "name": "",
        "group": "e4940d99e50fb892",
        "order": 1,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Receive test",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "RX",
        "payloadType": "str",
        "topic": "",
        "x": 410,
        "y": 640,
        "wires": [
            [
                "4e3a56b41abb29a9"
            ]
        ]
    },
    {
        "id": "750a6f2d4536784e",
        "type": "ui_button",
        "z": "c2b3c257d52b8bba",
        "name": "",
        "group": "e4940d99e50fb892",
        "order": 2,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Transmit test",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "TX",
        "payloadType": "str",
        "topic": "",
        "x": 410,
        "y": 700,
        "wires": [
            [
                "2e57c4f5e9a62882"
            ]
        ]
    },
    {
        "id": "8599374d4ea9248b",
        "type": "ui_button",
        "z": "c2b3c257d52b8bba",
        "name": "",
        "group": "e4940d99e50fb892",
        "order": 3,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "PER test",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "PER",
        "payloadType": "str",
        "topic": "",
        "x": 400,
        "y": 760,
        "wires": [
            [
                "10121e2dbff0f5ed"
            ]
        ]
    },
    {
        "id": "4e3a56b41abb29a9",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "Display FSK Reception",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_(G)FSK_Transmission\",\"RF_test_(G)FSK_PER_Parameters\",\"RF_test_(G)FSK_PER_Multiple_Frequencies\",\"RF_test_(G)FSK_PER_Single_Frequency\",\"RF_test_(G)FSK_PER_Results\"],\"show\":[\"RF_test_(G)FSK_Reception\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 640,
        "wires": [
            [
                "ee2d506c21b8e78f"
            ]
        ]
    },
    {
        "id": "ee2d506c21b8e78f",
        "type": "ui_ui_control",
        "z": "c2b3c257d52b8bba",
        "name": "UI ctrl",
        "events": "all",
        "x": 1050,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "7737b873ccf3333e",
        "type": "link in",
        "z": "c2b3c257d52b8bba",
        "name": "CTRL FSK",
        "links": [
            "4083bceb.ee57f4",
            "b9efc54e4f93971b",
            "807e9d18bc1b8984",
            "0a76570a4638a057",
            "9c61c4fc.ed2908",
            "4c393ed9a98c3238",
            "e46e87b2.31c6f8",
            "79d5d071eac70307",
            "7068aff7.6a6db",
            "97f624e7.8fac58",
            "eade68d2.6b4128",
            "ea8ed9a7.0ec2a8",
            "fa1d176e.9727c8",
            "64b6970b88345687",
            "3e963d24675bcc26",
            "61d92dc566c0e429",
            "ff7b1391df96573b",
            "453bd88d4caea6e6",
            "af29ed53c8853941",
            "48fe0a88a1e98d4b"
        ],
        "x": 255,
        "y": 720,
        "wires": [
            [
                "750a6f2d4536784e",
                "8599374d4ea9248b",
                "858640e7012e18fa"
            ]
        ]
    },
    {
        "id": "2e57c4f5e9a62882",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "Display FSK Transmission",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_(G)FSK_PER_Parameters\",\"RF_test_(G)FSK_PER_Multiple_Frequencies\",\"RF_test_(G)FSK_PER_Single_Frequency\",\"RF_test_(G)FSK_PER_Results\",\"RF_test_(G)FSK_Reception\"],\"show\":[\"RF_test_(G)FSK_Transmission\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 700,
        "wires": [
            [
                "ee2d506c21b8e78f"
            ]
        ]
    },
    {
        "id": "10121e2dbff0f5ed",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "Display FSK PER",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_(G)FSK_Transmission\",\"RF_test_(G)FSK_Reception\"],\"show\":[\"RF_test_(G)FSK_PER_Parameters\",\"RF_test_(G)FSK_PER_Single_Frequency\",\"RF_test_(G)FSK_PER_Multiple_Frequencies\",\"RF_test_(G)FSK_PER_Results\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 760,
        "wires": [
            [
                "ee2d506c21b8e78f",
                "8981ed85c0618516"
            ]
        ]
    },
    {
        "id": "5b924a3a3aedce71",
        "type": "comment",
        "z": "c2b3c257d52b8bba",
        "name": "(G)FSK",
        "info": "",
        "x": 390,
        "y": 600,
        "wires": []
    },
    {
        "id": "9be2da5435280114",
        "type": "comment",
        "z": "c2b3c257d52b8bba",
        "name": "LORA",
        "info": "",
        "x": 390,
        "y": 360,
        "wires": []
    },
    {
        "id": "b02ffd7854ff3256",
        "type": "link out",
        "z": "c2b3c257d52b8bba",
        "name": "multiFreq",
        "links": [
            "efb9e74485f2f882",
            "41630bd2.19af64"
        ],
        "x": 1015,
        "y": 520,
        "wires": []
    },
    {
        "id": "8981ed85c0618516",
        "type": "link out",
        "z": "c2b3c257d52b8bba",
        "name": "multiFreq",
        "links": [
            "aad684ddf9088691",
            "a2043383.299af",
            "f7379be5739a1bee"
        ],
        "x": 1015,
        "y": 760,
        "wires": []
    },
    {
        "id": "cac38d8d7d9a40fe",
        "type": "inject",
        "z": "c2b3c257d52b8bba",
        "name": "Init",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.6",
        "topic": "",
        "payload": "init",
        "payloadType": "str",
        "x": 310,
        "y": 1240,
        "wires": [
            [
                "f7a72eb02e726c4b"
            ]
        ]
    },
    {
        "id": "b70ec33b1da3bc9e",
        "type": "ui_ui_control",
        "z": "c2b3c257d52b8bba",
        "name": "UI control",
        "events": "all",
        "x": 300,
        "y": 1200,
        "wires": [
            [
                "f7a72eb02e726c4b"
            ]
        ]
    },
    {
        "id": "f7a72eb02e726c4b",
        "type": "trigger",
        "z": "c2b3c257d52b8bba",
        "name": "UI init",
        "op1": "init",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "units": "ms",
        "reset": "init",
        "bytopic": "all",
        "outputs": 1,
        "x": 490,
        "y": 1220,
        "wires": [
            [
                "564c2f8ad6b8c3ac",
                "10121e2dbff0f5ed",
                "af74f72dc4e9a119",
                "39df8886505845c2",
                "675dfa01b1a867d1"
            ]
        ]
    },
    {
        "id": "f49528cad7562ebc",
        "type": "ui_button",
        "z": "c2b3c257d52b8bba",
        "name": "",
        "group": "702d9488970585da",
        "order": 2,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "RX test (RSSI)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "RX",
        "payloadType": "str",
        "topic": "",
        "x": 420,
        "y": 160,
        "wires": [
            [
                "675dfa01b1a867d1"
            ]
        ]
    },
    {
        "id": "b4c879998336df06",
        "type": "ui_button",
        "z": "c2b3c257d52b8bba",
        "name": "",
        "group": "702d9488970585da",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "TX test (CW)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "TX",
        "payloadType": "str",
        "topic": "",
        "x": 410,
        "y": 220,
        "wires": [
            [
                "6939ca3ac22de526"
            ]
        ]
    },
    {
        "id": "dd35d8361c5f64e2",
        "type": "ui_button",
        "z": "c2b3c257d52b8bba",
        "name": "",
        "group": "702d9488970585da",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "RX/TX test",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "TX/RX",
        "payloadType": "str",
        "topic": "",
        "x": 410,
        "y": 280,
        "wires": [
            [
                "16b8c0e4262bb89b"
            ]
        ]
    },
    {
        "id": "675dfa01b1a867d1",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "Display Reception",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_Tone_(CW)_RX/TX_test\",\"RF_test_Tone_(CW)_TX_test_(CW)\"],\"show\":[\"RF_test_Tone_(CW)_RX_test_(RSSI)\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 160,
        "wires": [
            [
                "2fe1cfacec601d30"
            ]
        ]
    },
    {
        "id": "2fe1cfacec601d30",
        "type": "ui_ui_control",
        "z": "c2b3c257d52b8bba",
        "name": "UI ctrl",
        "events": "all",
        "x": 1050,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "3bd2ed3ffeb7c094",
        "type": "link in",
        "z": "c2b3c257d52b8bba",
        "name": "CTRL FSK",
        "links": [
            "4083bceb.ee57f4",
            "b9efc54e4f93971b",
            "807e9d18bc1b8984",
            "0a76570a4638a057",
            "9c61c4fc.ed2908",
            "4c393ed9a98c3238",
            "e46e87b2.31c6f8",
            "79d5d071eac70307",
            "7068aff7.6a6db",
            "97f624e7.8fac58",
            "eade68d2.6b4128",
            "ea8ed9a7.0ec2a8",
            "fa1d176e.9727c8",
            "64b6970b88345687",
            "3e963d24675bcc26",
            "61d92dc566c0e429",
            "ff7b1391df96573b",
            "453bd88d4caea6e6",
            "af29ed53c8853941",
            "48fe0a88a1e98d4b"
        ],
        "x": 255,
        "y": 240,
        "wires": [
            [
                "f49528cad7562ebc",
                "b4c879998336df06",
                "dd35d8361c5f64e2"
            ]
        ]
    },
    {
        "id": "6939ca3ac22de526",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "Display Transmission",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_Tone_(CW)_RX/TX_test\",\"RF_test_Tone_(CW)_RX_test_(RSSI)\"],\"show\":[\"RF_test_Tone_(CW)_TX_test_(CW)\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 220,
        "wires": [
            [
                "2fe1cfacec601d30"
            ]
        ]
    },
    {
        "id": "16b8c0e4262bb89b",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "Display TX/RX",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_Tone_(CW)_RX_test_(RSSI)\",\"RF_test_Tone_(CW)_TX_test_(CW)\"],\"show\":[\"RF_test_Tone_(CW)_RX/TX_test\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 280,
        "wires": [
            [
                "2fe1cfacec601d30"
            ]
        ]
    },
    {
        "id": "70a7ecbc54f74553",
        "type": "comment",
        "z": "c2b3c257d52b8bba",
        "name": "CW (Tone)",
        "info": "",
        "x": 400,
        "y": 120,
        "wires": []
    },
    {
        "id": "de528d2e02eac1b6",
        "type": "ui_button",
        "z": "c2b3c257d52b8bba",
        "name": "",
        "group": "a79fdf9a9f8c2a4b",
        "order": 1,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Transmit test",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "TX",
        "payloadType": "str",
        "topic": "",
        "x": 410,
        "y": 880,
        "wires": [
            [
                "699877dc96e8d5d4"
            ]
        ]
    },
    {
        "id": "e23d14866508f7cc",
        "type": "ui_button",
        "z": "c2b3c257d52b8bba",
        "name": "",
        "group": "a79fdf9a9f8c2a4b",
        "order": 2,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "PER test",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "PER",
        "payloadType": "str",
        "topic": "",
        "x": 400,
        "y": 940,
        "wires": [
            [
                "af74f72dc4e9a119"
            ]
        ]
    },
    {
        "id": "9b877fc7bfa7a70b",
        "type": "ui_ui_control",
        "z": "c2b3c257d52b8bba",
        "name": "UI ctrl",
        "events": "all",
        "x": 1050,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "36632ba8cb36a536",
        "type": "link in",
        "z": "c2b3c257d52b8bba",
        "name": "CTRL FSK",
        "links": [
            "4083bceb.ee57f4",
            "b9efc54e4f93971b",
            "807e9d18bc1b8984",
            "0a76570a4638a057",
            "9c61c4fc.ed2908",
            "4c393ed9a98c3238",
            "e46e87b2.31c6f8",
            "79d5d071eac70307",
            "7068aff7.6a6db",
            "97f624e7.8fac58",
            "eade68d2.6b4128",
            "ea8ed9a7.0ec2a8",
            "fa1d176e.9727c8",
            "64b6970b88345687",
            "3e963d24675bcc26",
            "61d92dc566c0e429",
            "ff7b1391df96573b",
            "453bd88d4caea6e6",
            "af29ed53c8853941",
            "48fe0a88a1e98d4b"
        ],
        "x": 255,
        "y": 900,
        "wires": [
            [
                "de528d2e02eac1b6",
                "e23d14866508f7cc"
            ]
        ]
    },
    {
        "id": "699877dc96e8d5d4",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "Display FSK Transmission",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_(G)MSK_Reception\",\"RF_test_(G)MSK_PER_Parameters\",\"RF_test_(G)MSK_PER_Multiple_Frequencies\",\"RF_test_(G)MSK_PER_Single_Frequency\",\"RF_test_(G)MSK_PER_Results\"],\"show\":[\"RF_test_(G)MSK_Transmission\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 880,
        "wires": [
            [
                "9b877fc7bfa7a70b"
            ]
        ]
    },
    {
        "id": "af74f72dc4e9a119",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "Display FSK PER",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_(G)MSK_Transmission\",\"RF_test_(G)MSK_Reception\"],\"show\":[\"RF_test_(G)MSK_PER_Parameters\",\"RF_test_(G)MSK_PER_Single_Frequency\",\"RF_test_(G)MSK_PER_Multiple_Frequencies\",\"RF_test_(G)MSK_PER_Results\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 940,
        "wires": [
            [
                "9b877fc7bfa7a70b",
                "7b1f9711ea594229"
            ]
        ]
    },
    {
        "id": "f1001c2d887325f0",
        "type": "comment",
        "z": "c2b3c257d52b8bba",
        "name": "(G)MSK",
        "info": "",
        "x": 400,
        "y": 840,
        "wires": []
    },
    {
        "id": "7b1f9711ea594229",
        "type": "link out",
        "z": "c2b3c257d52b8bba",
        "name": "multiFreq",
        "links": [
            "aad684ddf9088691",
            "a2043383.299af",
            "f7379be5739a1bee"
        ],
        "x": 1015,
        "y": 940,
        "wires": []
    },
    {
        "id": "38e25e9b96c3d17e",
        "type": "ui_ui_control",
        "z": "c2b3c257d52b8bba",
        "name": "UI ctrl",
        "events": "all",
        "x": 1050,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "7e45d6fdd21f3e71",
        "type": "link in",
        "z": "c2b3c257d52b8bba",
        "name": "CTRL FSK",
        "links": [
            "4083bceb.ee57f4",
            "b9efc54e4f93971b",
            "807e9d18bc1b8984",
            "0a76570a4638a057",
            "9c61c4fc.ed2908",
            "4c393ed9a98c3238",
            "e46e87b2.31c6f8",
            "79d5d071eac70307",
            "7068aff7.6a6db",
            "97f624e7.8fac58",
            "eade68d2.6b4128",
            "ea8ed9a7.0ec2a8",
            "fa1d176e.9727c8",
            "64b6970b88345687",
            "3e963d24675bcc26",
            "61d92dc566c0e429",
            "ff7b1391df96573b",
            "453bd88d4caea6e6",
            "af29ed53c8853941",
            "48fe0a88a1e98d4b"
        ],
        "x": 255,
        "y": 1060,
        "wires": [
            [
                "39df8886505845c2"
            ]
        ]
    },
    {
        "id": "39df8886505845c2",
        "type": "change",
        "z": "c2b3c257d52b8bba",
        "name": "Display BPSKTransmission",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"show\":[\"RF_test_BPSK_Transmission\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 1060,
        "wires": [
            [
                "38e25e9b96c3d17e"
            ]
        ]
    },
    {
        "id": "30acbe10c977464d",
        "type": "comment",
        "z": "c2b3c257d52b8bba",
        "name": "BPSK",
        "info": "",
        "x": 390,
        "y": 1020,
        "wires": []
    },
    {
        "id": "077e73d4a30b97b1",
        "type": "ui_switch",
        "z": "cd642149e68951f1",
        "name": "Lora Transmit",
        "label": "",
        "tooltip": "",
        "group": "c22a85eb23e3925e",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "transmit",
        "style": "",
        "onvalue": "fake_start",
        "onvalueType": "str",
        "onicon": "fa-wifi fa-3x",
        "oncolor": "green",
        "offvalue": "fake_stop",
        "offvalueType": "str",
        "officon": "fa-wifi fa-3x",
        "offcolor": "grey",
        "x": 1380,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "d1c7c0b899a1de3e",
        "type": "inject",
        "z": "cd642149e68951f1",
        "name": "Init",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "F",
        "payload": "868",
        "payloadType": "num",
        "x": 230,
        "y": 120,
        "wires": [
            [
                "7793d07a2a8fb835"
            ]
        ]
    },
    {
        "id": "a1b848117e6ccbf2",
        "type": "function",
        "z": "cd642149e68951f1",
        "name": "Format config",
        "func": "msg.payload = \"AT+TCONF=\" + flow.get(\"Frequency\")*1000000+ \":14:75000:50000:4/5:0:0:0:255:25000:2:3\\n\";\nmsg.flow=\"TONERX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1120,
        "y": 280,
        "wires": [
            [
                "5db546e4ba138118"
            ]
        ]
    },
    {
        "id": "0727da363cddca60",
        "type": "function",
        "z": "cd642149e68951f1",
        "name": "Start cmd",
        "func": "msg.payload=\"AT+TRSSI\\n\"\nmsg.flow=\"TONERX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1100,
        "y": 320,
        "wires": [
            [
                "5db546e4ba138118"
            ]
        ]
    },
    {
        "id": "3761459fd280da95",
        "type": "function",
        "z": "cd642149e68951f1",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"TONERX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1100,
        "y": 240,
        "wires": [
            [
                "5db546e4ba138118"
            ]
        ]
    },
    {
        "id": "dab286776cdc5532",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "control",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 800,
        "wires": [
            [
                "b9efc54e4f93971b"
            ]
        ]
    },
    {
        "id": "3df2b1aa74265cb8",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 840,
        "wires": [
            [
                "b9efc54e4f93971b"
            ]
        ]
    },
    {
        "id": "5db546e4ba138118",
        "type": "link out",
        "z": "cd642149e68951f1",
        "name": "Serial Port A out",
        "links": [
            "852009e78874179a"
        ],
        "x": 1315,
        "y": 300,
        "wires": []
    },
    {
        "id": "327cb20675658c11",
        "type": "function",
        "z": "cd642149e68951f1",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 690,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "028782ff6b97e431",
        "type": "finite-state-machine",
        "z": "cd642149e68951f1",
        "name": "FSK RX FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"connect\":\"INIT\",\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"STOPPED\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\"},\"CONFIGURING\":{\"ok_a\":\"STARTING\",\"ok_b\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"STARTING\":{\"ok_a\":\"WAIT\",\"ok_b\":\"WAIT\",\"result\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\"},\"WAIT\":{\"stop\":\"STOPPED\",\"next\":\"STARTING\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": false,
        "showTransitionErrors": false,
        "x": 580,
        "y": 500,
        "wires": [
            [
                "bd863f92e8bd5a21"
            ]
        ]
    },
    {
        "id": "b5424d413a064df8",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "start/stop message",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 620,
        "wires": [
            [
                "028782ff6b97e431"
            ]
        ]
    },
    {
        "id": "bd863f92e8bd5a21",
        "type": "switch",
        "z": "cd642149e68951f1",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STARTING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "WAIT",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 810,
        "y": 460,
        "wires": [
            [
                "3761459fd280da95",
                "11e3bb3444e125ce"
            ],
            [
                "a1b848117e6ccbf2",
                "dab286776cdc5532",
                "0bd35342f7855cec"
            ],
            [
                "0727da363cddca60",
                "8b120f91acbfcc5c"
            ],
            [
                "3df2b1aa74265cb8",
                "0eeafa7862f775a4",
                "fb03ef2e97b08add",
                "3c06a58ac0da8a94"
            ],
            [
                "0eeafa7862f775a4",
                "fb03ef2e97b08add",
                "c49985325c3a6508"
            ],
            [
                "f366868bdc99380f"
            ]
        ]
    },
    {
        "id": "0ced968d69b332e0",
        "type": "link in",
        "z": "cd642149e68951f1",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 135,
        "y": 500,
        "wires": [
            [
                "8ce341abc7d78a4b"
            ]
        ]
    },
    {
        "id": "0eeafa7862f775a4",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Set stop",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_stop",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 620,
        "wires": [
            [
                "077e73d4a30b97b1"
            ]
        ]
    },
    {
        "id": "0bd35342f7855cec",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Set start",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 580,
        "wires": [
            [
                "077e73d4a30b97b1"
            ]
        ]
    },
    {
        "id": "4e5ccd5c8f2f5511",
        "type": "ui_led",
        "z": "cd642149e68951f1",
        "order": 4,
        "group": "c22a85eb23e3925e",
        "width": 4,
        "height": 1,
        "label": "Connection status :",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Connection status",
        "x": 1370,
        "y": 700,
        "wires": []
    },
    {
        "id": "e03db03560ee6dd7",
        "type": "ui_text",
        "z": "cd642149e68951f1",
        "group": "c22a85eb23e3925e",
        "order": 5,
        "width": 2,
        "height": 1,
        "name": "icon ",
        "label": "",
        "format": "{{msg.format}}",
        "layout": "col-center",
        "x": 1330,
        "y": 520,
        "wires": []
    },
    {
        "id": "8b120f91acbfcc5c",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Start animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "<font color=\"green\"><i class=\"fa fa-spinner fa-spin fa-3x\"></i></font>",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 500,
        "wires": [
            [
                "e03db03560ee6dd7"
            ]
        ]
    },
    {
        "id": "fb03ef2e97b08add",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Stop animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 540,
        "wires": [
            [
                "e03db03560ee6dd7"
            ]
        ]
    },
    {
        "id": "b9efc54e4f93971b",
        "type": "link out",
        "z": "cd642149e68951f1",
        "name": "CTRL",
        "links": [
            "df809eb82bd0a77f",
            "9a03bbe0571d564e",
            "7737b873ccf3333e",
            "3bd2ed3ffeb7c094",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71"
        ],
        "x": 1295,
        "y": 820,
        "wires": []
    },
    {
        "id": "df809eb82bd0a77f",
        "type": "link in",
        "z": "cd642149e68951f1",
        "name": "CTRL",
        "links": [
            "b9efc54e4f93971b",
            "7e8d1c72.50e824"
        ],
        "x": 275,
        "y": 180,
        "wires": [
            [
                "7793d07a2a8fb835"
            ]
        ]
    },
    {
        "id": "270e7619d9aad42a",
        "type": "comment",
        "z": "cd642149e68951f1",
        "name": "Serial Port Messages",
        "info": "",
        "x": 1140,
        "y": 180,
        "wires": []
    },
    {
        "id": "e66be35da108d998",
        "type": "comment",
        "z": "cd642149e68951f1",
        "name": "Animated icon",
        "info": "",
        "x": 1350,
        "y": 460,
        "wires": []
    },
    {
        "id": "6017c70b72151816",
        "type": "comment",
        "z": "cd642149e68951f1",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1150,
        "y": 760,
        "wires": []
    },
    {
        "id": "6b5bf6b92b27bfe2",
        "type": "comment",
        "z": "cd642149e68951f1",
        "name": "Connection LED",
        "info": "",
        "x": 1360,
        "y": 660,
        "wires": []
    },
    {
        "id": "c151598d84bf84de",
        "type": "comment",
        "z": "cd642149e68951f1",
        "name": "UI parameters",
        "info": "",
        "x": 470,
        "y": 100,
        "wires": []
    },
    {
        "id": "11e3bb3444e125ce",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Set true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 660,
        "wires": [
            [
                "4e5ccd5c8f2f5511"
            ]
        ]
    },
    {
        "id": "c49985325c3a6508",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Set false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 700,
        "wires": [
            [
                "4e5ccd5c8f2f5511"
            ]
        ]
    },
    {
        "id": "8ce341abc7d78a4b",
        "type": "function",
        "z": "cd642149e68951f1",
        "name": "check flow",
        "func": "if (msg.flow===\"TONERX\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 290,
        "y": 500,
        "wires": [
            [
                "028782ff6b97e431",
                "b773c6e6dca2f89a"
            ]
        ]
    },
    {
        "id": "f366868bdc99380f",
        "type": "delay",
        "z": "cd642149e68951f1",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 690,
        "y": 700,
        "wires": [
            [
                "e697ec165c9cb836"
            ]
        ]
    },
    {
        "id": "e697ec165c9cb836",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "next",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "next",
                "tot": "str"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 700,
        "wires": [
            [
                "028782ff6b97e431"
            ]
        ]
    },
    {
        "id": "b773c6e6dca2f89a",
        "type": "function",
        "z": "cd642149e68951f1",
        "name": "RSSI",
        "func": "var input = msg.payload ||\"\";\nvar pos= input.search(\"RSSI Value=\");\nif (pos>1){\n    msg.payload=input.substring(pos+12);\n    return msg;\n} else {\nreturn null;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 550,
        "y": 300,
        "wires": [
            [
                "cd62360a5caf7f65",
                "d68dc29e4db619d4"
            ]
        ]
    },
    {
        "id": "cd62360a5caf7f65",
        "type": "ui_gauge",
        "z": "cd642149e68951f1",
        "name": "",
        "group": "c22a85eb23e3925e",
        "order": 7,
        "width": 4,
        "height": 3,
        "gtype": "gage",
        "title": "RSSI",
        "label": "dBm",
        "format": "{{value}}",
        "min": "-120",
        "max": "0",
        "colors": [
            "#ffd200",
            "#ffd200",
            "#ffd200"
        ],
        "seg1": "",
        "seg2": "",
        "x": 730,
        "y": 320,
        "wires": []
    },
    {
        "id": "d68dc29e4db619d4",
        "type": "ui_chart",
        "z": "cd642149e68951f1",
        "name": "",
        "group": "c22a85eb23e3925e",
        "order": 11,
        "width": 0,
        "height": 0,
        "label": "RSSI (dBm)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "2",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 750,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "236f43bbbc6b25c8",
        "type": "ui_button",
        "z": "cd642149e68951f1",
        "name": "Start",
        "group": "c22a85eb23e3925e",
        "order": 2,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 450,
        "y": 800,
        "wires": [
            [
                "b5424d413a064df8",
                "0b3b2b0fdc4c220d"
            ]
        ]
    },
    {
        "id": "85532f56d9d1757a",
        "type": "ui_button",
        "z": "cd642149e68951f1",
        "name": "Stop",
        "group": "c22a85eb23e3925e",
        "order": 3,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 450,
        "y": 860,
        "wires": [
            [
                "b5424d413a064df8",
                "eb4bb9a54003ca86"
            ]
        ]
    },
    {
        "id": "7793d07a2a8fb835",
        "type": "ui_text_input",
        "z": "cd642149e68951f1",
        "name": "RF Frequency",
        "label": "RF Frequency (MHz)",
        "tooltip": "",
        "group": "c22a85eb23e3925e",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "Frequency",
        "x": 480,
        "y": 160,
        "wires": [
            [
                "327cb20675658c11"
            ]
        ]
    },
    {
        "id": "3c06a58ac0da8a94",
        "type": "link out",
        "z": "cd642149e68951f1",
        "name": "",
        "links": [
            "4832360d7b29886f"
        ],
        "x": 1075,
        "y": 440,
        "wires": []
    },
    {
        "id": "563a3be79e61ccd4",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 900,
        "wires": [
            [
                "85532f56d9d1757a"
            ]
        ]
    },
    {
        "id": "2a64a2a25d03926d",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 800,
        "wires": [
            [
                "236f43bbbc6b25c8"
            ]
        ]
    },
    {
        "id": "48766e8eec6a59c3",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 760,
        "wires": [
            [
                "236f43bbbc6b25c8"
            ]
        ]
    },
    {
        "id": "01fd46625283d89e",
        "type": "change",
        "z": "cd642149e68951f1",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 860,
        "wires": [
            [
                "85532f56d9d1757a"
            ]
        ]
    },
    {
        "id": "fa797b66346b6960",
        "type": "inject",
        "z": "cd642149e68951f1",
        "name": "Init",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payload": "",
        "payloadType": "str",
        "x": 70,
        "y": 700,
        "wires": [
            [
                "48766e8eec6a59c3",
                "563a3be79e61ccd4"
            ]
        ]
    },
    {
        "id": "0b3b2b0fdc4c220d",
        "type": "link out",
        "z": "cd642149e68951f1",
        "name": "start",
        "links": [
            "f7a38c57aa308999"
        ],
        "x": 575,
        "y": 800,
        "wires": []
    },
    {
        "id": "f7a38c57aa308999",
        "type": "link in",
        "z": "cd642149e68951f1",
        "name": "start",
        "links": [
            "0b3b2b0fdc4c220d"
        ],
        "x": 75,
        "y": 880,
        "wires": [
            [
                "2a64a2a25d03926d",
                "01fd46625283d89e"
            ]
        ]
    },
    {
        "id": "eb4bb9a54003ca86",
        "type": "link out",
        "z": "cd642149e68951f1",
        "name": "stop",
        "links": [
            "4832360d7b29886f"
        ],
        "x": 575,
        "y": 860,
        "wires": []
    },
    {
        "id": "4832360d7b29886f",
        "type": "link in",
        "z": "cd642149e68951f1",
        "name": "stop",
        "links": [
            "eb4bb9a54003ca86",
            "e1f8b02f.946ae",
            "3c06a58ac0da8a94",
            "2cc7be71.eed2c2"
        ],
        "x": 75,
        "y": 800,
        "wires": [
            [
                "563a3be79e61ccd4",
                "48766e8eec6a59c3"
            ]
        ]
    },
    {
        "id": "2274f01d5f65df0a",
        "type": "inject",
        "z": "e2831b890cf17bda",
        "name": "init Frequency",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "Frequency",
        "payload": "868",
        "payloadType": "num",
        "x": 240,
        "y": 160,
        "wires": [
            [
                "f0d131a8c88bb71a"
            ]
        ]
    },
    {
        "id": "79787c1c1ff5228b",
        "type": "function",
        "z": "e2831b890cf17bda",
        "name": "Format config",
        "func": "msg.payload = \"AT+TCONF=\" + flow.get(\"Frequency\")*1000000+ \":\"+flow.get(\"Power\")+\":75000:50000:4/5:0:0:0:255:25000:2:3\\n\";\nmsg.flow=\"TONETX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1060,
        "y": 300,
        "wires": [
            [
                "8b3e45f557d687cb"
            ]
        ]
    },
    {
        "id": "802755605c4e8e39",
        "type": "function",
        "z": "e2831b890cf17bda",
        "name": "Start cmd",
        "func": "msg.payload=\"AT+TTONE\\n\"\nmsg.flow=\"TONETX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1040,
        "y": 360,
        "wires": [
            [
                "8b3e45f557d687cb"
            ]
        ]
    },
    {
        "id": "f49eac66f508669d",
        "type": "function",
        "z": "e2831b890cf17bda",
        "name": "stop cmd",
        "func": "msg.payload=\"AT+TOFF\\n\"\nmsg.flow=\"TONETX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1040,
        "y": 400,
        "wires": [
            [
                "8b3e45f557d687cb"
            ]
        ]
    },
    {
        "id": "0f18589661e7a6ea",
        "type": "ui_switch",
        "z": "e2831b890cf17bda",
        "name": "Lora Transmit",
        "label": "",
        "tooltip": "",
        "group": "8c88df4cbbf0b4ef",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "transmit",
        "style": "",
        "onvalue": "fake_start",
        "onvalueType": "str",
        "onicon": "fa-wifi fa-3x",
        "oncolor": "green",
        "offvalue": "fake_stop",
        "offvalueType": "str",
        "officon": "fa-wifi fa-3x",
        "offcolor": "grey",
        "x": 1320,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "71ecaf3de2ede0f0",
        "type": "function",
        "z": "e2831b890cf17bda",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"TONETX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1040,
        "y": 260,
        "wires": [
            [
                "8b3e45f557d687cb"
            ]
        ]
    },
    {
        "id": "458dbcc50160b69f",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "control",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 800,
        "wires": [
            [
                "807e9d18bc1b8984"
            ]
        ]
    },
    {
        "id": "3f8a9333887a1089",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 840,
        "wires": [
            [
                "807e9d18bc1b8984"
            ]
        ]
    },
    {
        "id": "8b3e45f557d687cb",
        "type": "link out",
        "z": "e2831b890cf17bda",
        "name": "Serial Port A out",
        "links": [
            "852009e78874179a"
        ],
        "x": 1255,
        "y": 340,
        "wires": []
    },
    {
        "id": "6bd9de1d0abe1682",
        "type": "function",
        "z": "e2831b890cf17bda",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 790,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "2f63565580d9bcc5",
        "type": "finite-state-machine",
        "z": "e2831b890cf17bda",
        "name": "FSK TX FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"connect\":\"INIT\",\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"STOPPED\":{\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"error\":\"INIT\",\"stop\":\"STOPPED\"},\"CONFIGURING\":{\"ok_a\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"STARTING\":{\"ok_a\":\"STARTED\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"STARTED\":{\"stop\":\"STOPPING\",\"resetok\":\"STOPPED\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"STOPPING\":{\"ok_a\":\"STOPPED\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 530,
        "y": 620,
        "wires": [
            [
                "527897d0f0f5c00a"
            ]
        ]
    },
    {
        "id": "2435e2af479a13f7",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "start/stop message",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 560,
        "wires": [
            [
                "2f63565580d9bcc5"
            ]
        ]
    },
    {
        "id": "527897d0f0f5c00a",
        "type": "switch",
        "z": "e2831b890cf17bda",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STARTING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STARTED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 730,
        "y": 600,
        "wires": [
            [
                "71ecaf3de2ede0f0",
                "f7ab8eab869049e0"
            ],
            [
                "79787c1c1ff5228b",
                "458dbcc50160b69f",
                "5eeea7be657ea340"
            ],
            [
                "802755605c4e8e39"
            ],
            [
                "5c4fe9b173ba8dd3"
            ],
            [
                "f49eac66f508669d",
                "47841c7c16ea4548"
            ],
            [
                "3f8a9333887a1089",
                "10bc2d226c0bf707",
                "47841c7c16ea4548",
                "2f4f4f60135a087f"
            ],
            [
                "10bc2d226c0bf707",
                "47841c7c16ea4548",
                "e58fde78ed427309"
            ]
        ]
    },
    {
        "id": "161fe59d57fe98f4",
        "type": "link in",
        "z": "e2831b890cf17bda",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 155,
        "y": 620,
        "wires": [
            [
                "6676e369449e60c5"
            ]
        ]
    },
    {
        "id": "10bc2d226c0bf707",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Set stop",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_stop",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 620,
        "wires": [
            [
                "0f18589661e7a6ea"
            ]
        ]
    },
    {
        "id": "5eeea7be657ea340",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Set start",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 580,
        "wires": [
            [
                "0f18589661e7a6ea"
            ]
        ]
    },
    {
        "id": "2d2a56a6ecc79bb7",
        "type": "ui_led",
        "z": "e2831b890cf17bda",
        "order": 5,
        "group": "8c88df4cbbf0b4ef",
        "width": 4,
        "height": 1,
        "label": "Connection status :",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Connection status",
        "x": 1290,
        "y": 700,
        "wires": []
    },
    {
        "id": "8cf89963152051ef",
        "type": "ui_text",
        "z": "e2831b890cf17bda",
        "group": "8c88df4cbbf0b4ef",
        "order": 6,
        "width": 2,
        "height": 1,
        "name": "icon ",
        "label": "",
        "format": "{{msg.format}}",
        "layout": "col-center",
        "x": 1250,
        "y": 520,
        "wires": []
    },
    {
        "id": "5c4fe9b173ba8dd3",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Start animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "<font color=\"green\"><i class=\"fa fa-spinner fa-spin fa-3x\"></i></font>",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 500,
        "wires": [
            [
                "8cf89963152051ef"
            ]
        ]
    },
    {
        "id": "47841c7c16ea4548",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Stop animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 540,
        "wires": [
            [
                "8cf89963152051ef"
            ]
        ]
    },
    {
        "id": "807e9d18bc1b8984",
        "type": "link out",
        "z": "e2831b890cf17bda",
        "name": "CTRL",
        "links": [
            "49c4a2b189dca0ad",
            "9a03bbe0571d564e",
            "dd9ffc5a.b8275",
            "7737b873ccf3333e",
            "3bd2ed3ffeb7c094",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71"
        ],
        "x": 1215,
        "y": 820,
        "wires": []
    },
    {
        "id": "49c4a2b189dca0ad",
        "type": "link in",
        "z": "e2831b890cf17bda",
        "name": "CTRL",
        "links": [
            "807e9d18bc1b8984"
        ],
        "x": 275,
        "y": 100,
        "wires": [
            [
                "fe3f9950a288ede3",
                "f0d131a8c88bb71a"
            ]
        ]
    },
    {
        "id": "1771dcc0f70ba851",
        "type": "comment",
        "z": "e2831b890cf17bda",
        "name": "Serial Port Messages",
        "info": "",
        "x": 1080,
        "y": 220,
        "wires": []
    },
    {
        "id": "ecd09cf5ae1da13d",
        "type": "comment",
        "z": "e2831b890cf17bda",
        "name": "Animated icon",
        "info": "",
        "x": 1050,
        "y": 460,
        "wires": []
    },
    {
        "id": "65d6deb317280f32",
        "type": "comment",
        "z": "e2831b890cf17bda",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1070,
        "y": 760,
        "wires": []
    },
    {
        "id": "d6b7c976316764d9",
        "type": "comment",
        "z": "e2831b890cf17bda",
        "name": "Connection LED",
        "info": "",
        "x": 1280,
        "y": 660,
        "wires": []
    },
    {
        "id": "db91d578ea79100f",
        "type": "comment",
        "z": "e2831b890cf17bda",
        "name": "UI parameters",
        "info": "",
        "x": 390,
        "y": 60,
        "wires": []
    },
    {
        "id": "f7ab8eab869049e0",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Set true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 660,
        "wires": [
            [
                "2d2a56a6ecc79bb7"
            ]
        ]
    },
    {
        "id": "e58fde78ed427309",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Set false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 700,
        "wires": [
            [
                "2d2a56a6ecc79bb7"
            ]
        ]
    },
    {
        "id": "6676e369449e60c5",
        "type": "function",
        "z": "e2831b890cf17bda",
        "name": "check flow",
        "func": "if (msg.flow===\"TONETX\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 310,
        "y": 620,
        "wires": [
            [
                "2f63565580d9bcc5"
            ]
        ]
    },
    {
        "id": "3863dffc36034858",
        "type": "inject",
        "z": "e2831b890cf17bda",
        "name": "init Power",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "Power",
        "payload": "0",
        "payloadType": "num",
        "x": 220,
        "y": 220,
        "wires": [
            [
                "fe3f9950a288ede3"
            ]
        ]
    },
    {
        "id": "82b4244fb1a01d5c",
        "type": "ui_button",
        "z": "e2831b890cf17bda",
        "name": "Start",
        "group": "8c88df4cbbf0b4ef",
        "order": 3,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 510,
        "y": 360,
        "wires": [
            [
                "2435e2af479a13f7",
                "50cba30f84acf59e"
            ]
        ]
    },
    {
        "id": "a935e0c53cb31664",
        "type": "ui_button",
        "z": "e2831b890cf17bda",
        "name": "Stop",
        "group": "8c88df4cbbf0b4ef",
        "order": 4,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 510,
        "y": 440,
        "wires": [
            [
                "2435e2af479a13f7",
                "2f4f4f60135a087f"
            ]
        ]
    },
    {
        "id": "f0d131a8c88bb71a",
        "type": "ui_text_input",
        "z": "e2831b890cf17bda",
        "name": "RF Frequency",
        "label": "RF Frequency (MHz)",
        "tooltip": "",
        "group": "8c88df4cbbf0b4ef",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "Frequency",
        "x": 520,
        "y": 160,
        "wires": [
            [
                "6bd9de1d0abe1682"
            ]
        ]
    },
    {
        "id": "fe3f9950a288ede3",
        "type": "ui_text_input",
        "z": "e2831b890cf17bda",
        "name": "TX Power",
        "label": "TX Power (dBm)",
        "tooltip": "Min -9, Max 22",
        "group": "8c88df4cbbf0b4ef",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "Power",
        "x": 500,
        "y": 220,
        "wires": [
            [
                "6bd9de1d0abe1682"
            ]
        ]
    },
    {
        "id": "3a321662f62dbbf1",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 440,
        "wires": [
            [
                "a935e0c53cb31664"
            ]
        ]
    },
    {
        "id": "9f5f48af9f7cd0f8",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 400,
        "wires": [
            [
                "82b4244fb1a01d5c"
            ]
        ]
    },
    {
        "id": "02c91d494dcfe9b9",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 360,
        "wires": [
            [
                "82b4244fb1a01d5c"
            ]
        ]
    },
    {
        "id": "676147305d93a506",
        "type": "change",
        "z": "e2831b890cf17bda",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 480,
        "wires": [
            [
                "a935e0c53cb31664"
            ]
        ]
    },
    {
        "id": "9621808d3ae0c3de",
        "type": "link in",
        "z": "e2831b890cf17bda",
        "name": "start",
        "links": [
            "50cba30f84acf59e"
        ],
        "x": 95,
        "y": 400,
        "wires": [
            [
                "676147305d93a506",
                "9f5f48af9f7cd0f8"
            ]
        ]
    },
    {
        "id": "296acc2cc8739d41",
        "type": "link in",
        "z": "e2831b890cf17bda",
        "name": "stop",
        "links": [
            "2f4f4f60135a087f"
        ],
        "x": 95,
        "y": 440,
        "wires": [
            [
                "3a321662f62dbbf1",
                "02c91d494dcfe9b9"
            ]
        ]
    },
    {
        "id": "2f4f4f60135a087f",
        "type": "link out",
        "z": "e2831b890cf17bda",
        "name": "stop",
        "links": [
            "296acc2cc8739d41"
        ],
        "x": 715,
        "y": 440,
        "wires": []
    },
    {
        "id": "50cba30f84acf59e",
        "type": "link out",
        "z": "e2831b890cf17bda",
        "name": "start",
        "links": [
            "9621808d3ae0c3de"
        ],
        "x": 715,
        "y": 360,
        "wires": []
    },
    {
        "id": "eba992433dbad7a6",
        "type": "inject",
        "z": "e2831b890cf17bda",
        "name": "init button",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 320,
        "wires": [
            [
                "02c91d494dcfe9b9",
                "3a321662f62dbbf1"
            ]
        ]
    },
    {
        "id": "efa8538405586509",
        "type": "ui_switch",
        "z": "24f3cc949653d6f2",
        "name": "FSK Receive",
        "label": "",
        "tooltip": "",
        "group": "8505e1f27b1e40bc",
        "order": 11,
        "width": 2,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "receive",
        "style": "",
        "onvalue": "fake_start",
        "onvalueType": "str",
        "onicon": "fa-wifi fa-3x",
        "oncolor": "green",
        "offvalue": "fake_stop",
        "offvalueType": "str",
        "officon": "fa-wifi fa-3x",
        "offcolor": "grey",
        "x": 1330,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "38cc544924e3ac9f",
        "type": "inject",
        "z": "24f3cc949653d6f2",
        "name": "init Freq",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "F",
        "payload": "868",
        "payloadType": "num",
        "x": 240,
        "y": 120,
        "wires": [
            [
                "35d1c3d41fd24c86"
            ]
        ]
    },
    {
        "id": "b7d0c9d80d647acf",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "Format config",
        "func": "msg.payload = \"AT+TCONF=\"+flow.get(\"FrequencyRx\")*1000000+\":14:75000:50000:4/5:0:0:0:255:25000:2:3\\n\";\nmsg.flow=\"TONERXTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1140,
        "y": 240,
        "wires": [
            [
                "2a990fe2acb9841d"
            ]
        ]
    },
    {
        "id": "b757d33b4e9c440f",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "Start cmd",
        "func": "msg.payload=\"AT+TRSSI\\n\"\nmsg.flow=\"TONERXTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1120,
        "y": 280,
        "wires": [
            [
                "2a990fe2acb9841d"
            ]
        ]
    },
    {
        "id": "99eab30845a96c95",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"TONERXTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1120,
        "y": 200,
        "wires": [
            [
                "2a990fe2acb9841d"
            ]
        ]
    },
    {
        "id": "2a990fe2acb9841d",
        "type": "link out",
        "z": "24f3cc949653d6f2",
        "name": "Serial Port B out",
        "links": [
            "33f3d0b3dcc7bd60"
        ],
        "x": 1335,
        "y": 260,
        "wires": []
    },
    {
        "id": "62dd1ed73a7f8ac3",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 670,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "2ada522dbab01971",
        "type": "finite-state-machine",
        "z": "24f3cc949653d6f2",
        "name": "FSK RX FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"connect\":\"INIT\",\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"STOPPED\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\"},\"CONFIGURING\":{\"ok_a\":\"STARTING\",\"ok_b\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"STARTING\":{\"ok_a\":\"WAIT\",\"ok_b\":\"WAIT\",\"result\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\"},\"WAIT\":{\"stop\":\"STOPPED\",\"next\":\"STARTING\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": false,
        "showTransitionErrors": true,
        "x": 600,
        "y": 460,
        "wires": [
            [
                "86bedda0dc0548d3"
            ]
        ]
    },
    {
        "id": "6ae7271b8b67d6ea",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "start/stop message",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 560,
        "wires": [
            [
                "2ada522dbab01971"
            ]
        ]
    },
    {
        "id": "86bedda0dc0548d3",
        "type": "switch",
        "z": "24f3cc949653d6f2",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STARTING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "WAIT",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 830,
        "y": 420,
        "wires": [
            [
                "99eab30845a96c95",
                "63aee727aef94b87"
            ],
            [
                "b7d0c9d80d647acf",
                "65e491d17f23f41f",
                "ba0c7c93c3531569"
            ],
            [
                "b757d33b4e9c440f",
                "dba2308441bc6e2a"
            ],
            [
                "603873555d82b9b2",
                "6f9f7a779ad918cb",
                "565953f8fc6a3ca7",
                "2a4206979790b5bb"
            ],
            [
                "603873555d82b9b2",
                "6f9f7a779ad918cb",
                "99939cd805735074"
            ],
            [
                "cbf421784b543749"
            ]
        ]
    },
    {
        "id": "87d33bc22a7bcbe4",
        "type": "link in",
        "z": "24f3cc949653d6f2",
        "name": "",
        "links": [
            "f3dfe1e0131d23cd"
        ],
        "x": 155,
        "y": 460,
        "wires": [
            [
                "3fa9c48131f49f64"
            ]
        ]
    },
    {
        "id": "603873555d82b9b2",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Set stop",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_stop",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 540,
        "wires": [
            [
                "efa8538405586509"
            ]
        ]
    },
    {
        "id": "65e491d17f23f41f",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Set start",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 500,
        "wires": [
            [
                "efa8538405586509"
            ]
        ]
    },
    {
        "id": "2f6a45d5ccdc91e8",
        "type": "ui_led",
        "z": "24f3cc949653d6f2",
        "order": 9,
        "group": "8505e1f27b1e40bc",
        "width": 4,
        "height": 1,
        "label": "RX Connection status (Port B):",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "RX Connection status",
        "x": 1380,
        "y": 620,
        "wires": []
    },
    {
        "id": "dba2308441bc6e2a",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Start animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "<font color=\"green\"><i class=\"fa fa-spinner fa-spin fa-3x\"></i></font>",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 420,
        "wires": [
            [
                "d652bafc25c83b08"
            ]
        ]
    },
    {
        "id": "6f9f7a779ad918cb",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Stop animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 460,
        "wires": [
            [
                "d652bafc25c83b08"
            ]
        ]
    },
    {
        "id": "fe4efb30c50b9b42",
        "type": "link out",
        "z": "24f3cc949653d6f2",
        "name": "CTRL",
        "links": [
            "19cca6f4129bafb5",
            "23418646ed28ca2d"
        ],
        "x": 1295,
        "y": 760,
        "wires": []
    },
    {
        "id": "19cca6f4129bafb5",
        "type": "link in",
        "z": "24f3cc949653d6f2",
        "name": "CTRL",
        "links": [
            "fe4efb30c50b9b42",
            "7e8d1c72.50e824"
        ],
        "x": 255,
        "y": 180,
        "wires": [
            [
                "35d1c3d41fd24c86"
            ]
        ]
    },
    {
        "id": "54d8e466ecb92285",
        "type": "comment",
        "z": "24f3cc949653d6f2",
        "name": "Serial Port Messages",
        "info": "",
        "x": 1160,
        "y": 140,
        "wires": []
    },
    {
        "id": "8819de6925aae4b1",
        "type": "comment",
        "z": "24f3cc949653d6f2",
        "name": "Animated icon",
        "info": "",
        "x": 1130,
        "y": 380,
        "wires": []
    },
    {
        "id": "19e9219f65706249",
        "type": "comment",
        "z": "24f3cc949653d6f2",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1150,
        "y": 700,
        "wires": []
    },
    {
        "id": "db8e5b17c158f493",
        "type": "comment",
        "z": "24f3cc949653d6f2",
        "name": "Connection LED",
        "info": "",
        "x": 1360,
        "y": 580,
        "wires": []
    },
    {
        "id": "8e17168cafc183f0",
        "type": "comment",
        "z": "24f3cc949653d6f2",
        "name": "RX UI parameters",
        "info": "",
        "x": 490,
        "y": 120,
        "wires": []
    },
    {
        "id": "63aee727aef94b87",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Set true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 580,
        "wires": [
            [
                "2f6a45d5ccdc91e8"
            ]
        ]
    },
    {
        "id": "99939cd805735074",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Set false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 620,
        "wires": [
            [
                "2f6a45d5ccdc91e8"
            ]
        ]
    },
    {
        "id": "3fa9c48131f49f64",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "check flow",
        "func": "if (msg.flow===\"TONERXTX\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 310,
        "y": 460,
        "wires": [
            [
                "2ada522dbab01971",
                "9ea8d491066c8f54"
            ]
        ]
    },
    {
        "id": "cbf421784b543749",
        "type": "delay",
        "z": "24f3cc949653d6f2",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 710,
        "y": 580,
        "wires": [
            [
                "ae2b298132636a20"
            ]
        ]
    },
    {
        "id": "ae2b298132636a20",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "next",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "next",
                "tot": "str"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 580,
        "wires": [
            [
                "2ada522dbab01971"
            ]
        ]
    },
    {
        "id": "9ea8d491066c8f54",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "RSSI",
        "func": "var input = msg.payload ||\"\";\nvar pos= input.search(\"RSSI Value=\");\nif (pos>1){\n    msg.payload=input.substring(pos+12);\n    return msg;\n} else {\nreturn null;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 590,
        "y": 280,
        "wires": [
            [
                "9ef21478527c7875",
                "d1d58c40ba7c7c10"
            ]
        ]
    },
    {
        "id": "9ef21478527c7875",
        "type": "ui_gauge",
        "z": "24f3cc949653d6f2",
        "name": "",
        "group": "8505e1f27b1e40bc",
        "order": 15,
        "width": 8,
        "height": 3,
        "gtype": "gage",
        "title": "RSSI",
        "label": "dBm",
        "format": "{{value}}",
        "min": "-120",
        "max": "0",
        "colors": [
            "#ffd200",
            "#ffd200",
            "#ffd200"
        ],
        "seg1": "",
        "seg2": "",
        "x": 770,
        "y": 300,
        "wires": []
    },
    {
        "id": "d1d58c40ba7c7c10",
        "type": "ui_chart",
        "z": "24f3cc949653d6f2",
        "name": "",
        "group": "8505e1f27b1e40bc",
        "order": 19,
        "width": 16,
        "height": 5,
        "label": "RSSI (dBm)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "2",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 790,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "72ff7fcdfa17b0ae",
        "type": "inject",
        "z": "24f3cc949653d6f2",
        "name": "init Frequency",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "Frequency",
        "payload": "868",
        "payloadType": "num",
        "x": 360,
        "y": 920,
        "wires": [
            [
                "71adc8d70e0eac5f"
            ]
        ]
    },
    {
        "id": "87ed7de283e0f73b",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "Format config",
        "func": "msg.payload = \"AT+TCONF=\" + flow.get(\"FrequencyTx\")*1000000+ \":\"+flow.get(\"Power\")+\":75000:50000:4/5:0:0:0:255:25000:2:3\\n\";\n\nmsg.flow=\"TONERXTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1100,
        "y": 1040,
        "wires": [
            [
                "41a7e13a9c668ad6"
            ]
        ]
    },
    {
        "id": "9db7b50be9c97b99",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "Start cmd",
        "func": "msg.payload=\"AT+TTONE\\n\"\nmsg.flow=\"TONERXTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1080,
        "y": 1100,
        "wires": [
            [
                "41a7e13a9c668ad6"
            ]
        ]
    },
    {
        "id": "7cd8dcece7786661",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "stop cmd",
        "func": "msg.payload=\"AT+TOFF\\n\"\nmsg.flow=\"TONERXTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1080,
        "y": 1140,
        "wires": [
            [
                "41a7e13a9c668ad6"
            ]
        ]
    },
    {
        "id": "0c90e7ad090d3491",
        "type": "ui_switch",
        "z": "24f3cc949653d6f2",
        "name": "FSK Transmit",
        "label": "",
        "tooltip": "",
        "group": "8505e1f27b1e40bc",
        "order": 14,
        "width": 2,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "transmit",
        "style": "",
        "onvalue": "fake_start",
        "onvalueType": "str",
        "onicon": "fa-wifi fa-3x",
        "oncolor": "green",
        "offvalue": "fake_stop",
        "offvalueType": "str",
        "officon": "fa-wifi fa-3x",
        "offcolor": "grey",
        "x": 1300,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "ab7c15f4fa394a4f",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"TONERXTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1080,
        "y": 1000,
        "wires": [
            [
                "41a7e13a9c668ad6"
            ]
        ]
    },
    {
        "id": "2d7a8bd6aa5fa510",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "controlTx",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 1540,
        "wires": [
            [
                "71d76b8d293d41ae"
            ]
        ]
    },
    {
        "id": "c8c19a82d55ffe5f",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "controlTx",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 1580,
        "wires": [
            [
                "71d76b8d293d41ae"
            ]
        ]
    },
    {
        "id": "41a7e13a9c668ad6",
        "type": "link out",
        "z": "24f3cc949653d6f2",
        "name": "Serial Port A out",
        "links": [
            "852009e78874179a"
        ],
        "x": 1295,
        "y": 1080,
        "wires": []
    },
    {
        "id": "b4494478381a659e",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 830,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "af416243e0dd58f0",
        "type": "finite-state-machine",
        "z": "24f3cc949653d6f2",
        "name": "FSK TX FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"connect\":\"INIT\",\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"STOPPED\":{\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"error\":\"INIT\",\"stop\":\"STOPPED\"},\"CONFIGURING\":{\"ok_a\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"STARTING\":{\"ok_a\":\"STARTED\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"STARTED\":{\"stop\":\"STOPPING\",\"resetok\":\"STOPPED\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"STOPPING\":{\"ok_a\":\"STOPPED\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": true,
        "showTransitionErrors": true,
        "x": 550,
        "y": 1280,
        "wires": [
            [
                "361efce19b689ec8"
            ]
        ]
    },
    {
        "id": "81a094e34b6f72d1",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "start/stop message",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 1200,
        "wires": [
            [
                "af416243e0dd58f0"
            ]
        ]
    },
    {
        "id": "361efce19b689ec8",
        "type": "switch",
        "z": "24f3cc949653d6f2",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STARTING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STARTED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 770,
        "y": 1240,
        "wires": [
            [
                "ab7c15f4fa394a4f",
                "6f79e474b90d2f3f"
            ],
            [
                "87ed7de283e0f73b",
                "2d7a8bd6aa5fa510",
                "8ef0545a434bf2c6"
            ],
            [
                "9db7b50be9c97b99"
            ],
            [
                "30048f55f386fb82"
            ],
            [
                "7cd8dcece7786661",
                "b685f4b043f87b02"
            ],
            [
                "c8c19a82d55ffe5f",
                "a716ef2617f48dd9",
                "b685f4b043f87b02",
                "116b51f81db21d4f"
            ],
            [
                "a716ef2617f48dd9",
                "b685f4b043f87b02",
                "a45d9e7a4a6ffe3d"
            ]
        ]
    },
    {
        "id": "0ec922a8259cf93c",
        "type": "link in",
        "z": "24f3cc949653d6f2",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 175,
        "y": 1280,
        "wires": [
            [
                "8b9415d68e53af9f"
            ]
        ]
    },
    {
        "id": "a716ef2617f48dd9",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Set stop",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_stop",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 1360,
        "wires": [
            [
                "0c90e7ad090d3491"
            ]
        ]
    },
    {
        "id": "8ef0545a434bf2c6",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Set start",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 1320,
        "wires": [
            [
                "0c90e7ad090d3491"
            ]
        ]
    },
    {
        "id": "00a419f13f179d46",
        "type": "ui_led",
        "z": "24f3cc949653d6f2",
        "order": 12,
        "group": "8505e1f27b1e40bc",
        "width": 4,
        "height": 1,
        "label": "TX Connection status (Port A):",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "TX Connection status",
        "x": 1340,
        "y": 1440,
        "wires": []
    },
    {
        "id": "a884bf90dcc912f9",
        "type": "ui_text",
        "z": "24f3cc949653d6f2",
        "group": "8505e1f27b1e40bc",
        "order": 13,
        "width": 2,
        "height": 1,
        "name": "TX icon ",
        "label": "",
        "format": "{{msg.format}}",
        "layout": "col-center",
        "x": 1300,
        "y": 1260,
        "wires": []
    },
    {
        "id": "30048f55f386fb82",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Start animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "<font color=\"green\"><i class=\"fa fa-spinner fa-spin fa-3x\"></i></font>",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 1240,
        "wires": [
            [
                "a884bf90dcc912f9"
            ]
        ]
    },
    {
        "id": "b685f4b043f87b02",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Stop animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 1280,
        "wires": [
            [
                "a884bf90dcc912f9"
            ]
        ]
    },
    {
        "id": "71d76b8d293d41ae",
        "type": "link out",
        "z": "24f3cc949653d6f2",
        "name": "CTRL",
        "links": [
            "23418646ed28ca2d",
            "569675513eca6e6c"
        ],
        "x": 1255,
        "y": 1560,
        "wires": []
    },
    {
        "id": "569675513eca6e6c",
        "type": "link in",
        "z": "24f3cc949653d6f2",
        "name": "CTRL",
        "links": [
            "71d76b8d293d41ae"
        ],
        "x": 395,
        "y": 840,
        "wires": [
            [
                "71adc8d70e0eac5f",
                "0799093825a0f57d"
            ]
        ]
    },
    {
        "id": "2fab0f5ff306181e",
        "type": "comment",
        "z": "24f3cc949653d6f2",
        "name": "Serial Port Messages",
        "info": "",
        "x": 1120,
        "y": 960,
        "wires": []
    },
    {
        "id": "accccdd49037f1e8",
        "type": "comment",
        "z": "24f3cc949653d6f2",
        "name": "Animated icon",
        "info": "",
        "x": 1090,
        "y": 1200,
        "wires": []
    },
    {
        "id": "3b47f2ac2d893a18",
        "type": "comment",
        "z": "24f3cc949653d6f2",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1110,
        "y": 1500,
        "wires": []
    },
    {
        "id": "f07ef57161a51641",
        "type": "comment",
        "z": "24f3cc949653d6f2",
        "name": "Connection LED",
        "info": "",
        "x": 1320,
        "y": 1400,
        "wires": []
    },
    {
        "id": "3bbf6c1f9ff65bde",
        "type": "comment",
        "z": "24f3cc949653d6f2",
        "name": "TX UI parameters",
        "info": "",
        "x": 580,
        "y": 820,
        "wires": []
    },
    {
        "id": "6f79e474b90d2f3f",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Set true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 1400,
        "wires": [
            [
                "00a419f13f179d46"
            ]
        ]
    },
    {
        "id": "a45d9e7a4a6ffe3d",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Set false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 1440,
        "wires": [
            [
                "00a419f13f179d46"
            ]
        ]
    },
    {
        "id": "8b9415d68e53af9f",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "check flow",
        "func": "if (msg.flow===\"TONERXTX\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 330,
        "y": 1280,
        "wires": [
            [
                "af416243e0dd58f0"
            ]
        ]
    },
    {
        "id": "0b2240de804238ea",
        "type": "inject",
        "z": "24f3cc949653d6f2",
        "name": "init Power",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "Power",
        "payload": "0",
        "payloadType": "num",
        "x": 360,
        "y": 880,
        "wires": [
            [
                "0799093825a0f57d"
            ]
        ]
    },
    {
        "id": "35d1c3d41fd24c86",
        "type": "ui_text_input",
        "z": "24f3cc949653d6f2",
        "name": "RF Rx Frequency",
        "label": "RX RF Frequency (MHz)",
        "tooltip": "",
        "group": "8505e1f27b1e40bc",
        "order": 1,
        "width": 8,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "FrequencyRx",
        "x": 470,
        "y": 180,
        "wires": [
            [
                "62dd1ed73a7f8ac3"
            ]
        ]
    },
    {
        "id": "71adc8d70e0eac5f",
        "type": "ui_text_input",
        "z": "24f3cc949653d6f2",
        "name": "RF Tx Frequency",
        "label": "TX RF Frequency (Hz)",
        "tooltip": "",
        "group": "8505e1f27b1e40bc",
        "order": 2,
        "width": 8,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "FrequencyTx",
        "x": 590,
        "y": 920,
        "wires": [
            [
                "b4494478381a659e"
            ]
        ]
    },
    {
        "id": "0799093825a0f57d",
        "type": "ui_text_input",
        "z": "24f3cc949653d6f2",
        "name": "TX Power",
        "label": "TX Power (dBm)",
        "tooltip": "Min -9, Max 22",
        "group": "8505e1f27b1e40bc",
        "order": 4,
        "width": 8,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "Power",
        "x": 580,
        "y": 880,
        "wires": [
            [
                "b4494478381a659e"
            ]
        ]
    },
    {
        "id": "5acbccb42584e9a7",
        "type": "comment",
        "z": "24f3cc949653d6f2",
        "name": "TX on port A and RX on port B",
        "info": "This flow uses 2 serial ports and 2 devices :\nPort A to sent signal\nPort B to receive signal",
        "x": 660,
        "y": 40,
        "wires": []
    },
    {
        "id": "1feaa4842269b3fe",
        "type": "ui_button",
        "z": "24f3cc949653d6f2",
        "name": "Start Rx",
        "group": "8505e1f27b1e40bc",
        "order": 5,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 500,
        "y": 620,
        "wires": [
            [
                "e0b20e7e5565d748",
                "6ae7271b8b67d6ea"
            ]
        ]
    },
    {
        "id": "7fc168a3edaa5368",
        "type": "ui_button",
        "z": "24f3cc949653d6f2",
        "name": "Stop Rx",
        "group": "8505e1f27b1e40bc",
        "order": 6,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 500,
        "y": 700,
        "wires": [
            [
                "2a4206979790b5bb",
                "6ae7271b8b67d6ea"
            ]
        ]
    },
    {
        "id": "697938501dca2fb0",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 700,
        "wires": [
            [
                "7fc168a3edaa5368"
            ]
        ]
    },
    {
        "id": "72aadefc8cfe6f32",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 660,
        "wires": [
            [
                "1feaa4842269b3fe"
            ]
        ]
    },
    {
        "id": "4f18aed23134f59c",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 620,
        "wires": [
            [
                "1feaa4842269b3fe"
            ]
        ]
    },
    {
        "id": "41225c026c51ea98",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 740,
        "wires": [
            [
                "7fc168a3edaa5368"
            ]
        ]
    },
    {
        "id": "8a3717931eb9dec5",
        "type": "link in",
        "z": "24f3cc949653d6f2",
        "name": "start",
        "links": [
            "e0b20e7e5565d748"
        ],
        "x": 75,
        "y": 660,
        "wires": [
            [
                "41225c026c51ea98",
                "72aadefc8cfe6f32"
            ]
        ]
    },
    {
        "id": "0ef09fe9cadbb1a3",
        "type": "link in",
        "z": "24f3cc949653d6f2",
        "name": "stop",
        "links": [
            "2a4206979790b5bb"
        ],
        "x": 75,
        "y": 700,
        "wires": [
            [
                "697938501dca2fb0",
                "4f18aed23134f59c"
            ]
        ]
    },
    {
        "id": "2a4206979790b5bb",
        "type": "link out",
        "z": "24f3cc949653d6f2",
        "name": "stop",
        "links": [
            "0ef09fe9cadbb1a3"
        ],
        "x": 675,
        "y": 700,
        "wires": []
    },
    {
        "id": "e0b20e7e5565d748",
        "type": "link out",
        "z": "24f3cc949653d6f2",
        "name": "start",
        "links": [
            "8a3717931eb9dec5"
        ],
        "x": 595,
        "y": 620,
        "wires": []
    },
    {
        "id": "c8ba872845c0efc0",
        "type": "inject",
        "z": "24f3cc949653d6f2",
        "name": "init button",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 880,
        "wires": [
            [
                "697938501dca2fb0",
                "4f18aed23134f59c",
                "6c424e686de9c7d3",
                "47ef93963ff72152"
            ]
        ]
    },
    {
        "id": "3cc65c41aeee9061",
        "type": "ui_button",
        "z": "24f3cc949653d6f2",
        "name": "Start Tx",
        "group": "8505e1f27b1e40bc",
        "order": 7,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 520,
        "y": 1000,
        "wires": [
            [
                "642e371c8189afa4",
                "81a094e34b6f72d1"
            ]
        ]
    },
    {
        "id": "3ab211829c61b2fb",
        "type": "ui_button",
        "z": "24f3cc949653d6f2",
        "name": "Stop Tx",
        "group": "8505e1f27b1e40bc",
        "order": 8,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 520,
        "y": 1080,
        "wires": [
            [
                "116b51f81db21d4f",
                "81a094e34b6f72d1"
            ]
        ]
    },
    {
        "id": "47ef93963ff72152",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1060,
        "wires": [
            [
                "3ab211829c61b2fb"
            ]
        ]
    },
    {
        "id": "60d3b3f69a981e3b",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1020,
        "wires": [
            [
                "3cc65c41aeee9061"
            ]
        ]
    },
    {
        "id": "6c424e686de9c7d3",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 980,
        "wires": [
            [
                "3cc65c41aeee9061"
            ]
        ]
    },
    {
        "id": "2f29db9763bb890a",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1100,
        "wires": [
            [
                "3ab211829c61b2fb"
            ]
        ]
    },
    {
        "id": "b11e9269ae6ed163",
        "type": "link in",
        "z": "24f3cc949653d6f2",
        "name": "start",
        "links": [
            "642e371c8189afa4"
        ],
        "x": 95,
        "y": 1020,
        "wires": [
            [
                "2f29db9763bb890a",
                "60d3b3f69a981e3b"
            ]
        ]
    },
    {
        "id": "24af008893a916ae",
        "type": "link in",
        "z": "24f3cc949653d6f2",
        "name": "stop",
        "links": [
            "116b51f81db21d4f"
        ],
        "x": 95,
        "y": 1060,
        "wires": [
            [
                "47ef93963ff72152",
                "6c424e686de9c7d3"
            ]
        ]
    },
    {
        "id": "116b51f81db21d4f",
        "type": "link out",
        "z": "24f3cc949653d6f2",
        "name": "stop",
        "links": [
            "24af008893a916ae"
        ],
        "x": 715,
        "y": 1080,
        "wires": []
    },
    {
        "id": "642e371c8189afa4",
        "type": "link out",
        "z": "24f3cc949653d6f2",
        "name": "start",
        "links": [
            "b11e9269ae6ed163"
        ],
        "x": 715,
        "y": 1000,
        "wires": []
    },
    {
        "id": "d652bafc25c83b08",
        "type": "ui_text",
        "z": "24f3cc949653d6f2",
        "group": "8505e1f27b1e40bc",
        "order": 10,
        "width": 2,
        "height": 1,
        "name": "RX icon ",
        "label": "",
        "format": "{{msg.format}}",
        "layout": "col-center",
        "x": 1340,
        "y": 440,
        "wires": []
    },
    {
        "id": "52e39b2b703ea8d4",
        "type": "function",
        "z": "24f3cc949653d6f2",
        "name": "Lock top bar",
        "func": "if (msg.topic===\"controlRx\") {\n    context.set (\"enableRx\", msg.enabled);\n}\nif (msg.topic===\"controlTx\") {\n    context.set (\"enableTx\", msg.enabled);\n}\nif (context.get(\"enableRx\")===false || context.get(\"enableTx\")===false) {\n    msg.enabled=false;\n} else {\n    msg.enabled=true;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1230,
        "y": 880,
        "wires": [
            [
                "79d5d071eac70307"
            ]
        ]
    },
    {
        "id": "23418646ed28ca2d",
        "type": "link in",
        "z": "24f3cc949653d6f2",
        "name": "",
        "links": [
            "fe4efb30c50b9b42",
            "71d76b8d293d41ae"
        ],
        "x": 1095,
        "y": 880,
        "wires": [
            [
                "52e39b2b703ea8d4"
            ]
        ]
    },
    {
        "id": "79d5d071eac70307",
        "type": "link out",
        "z": "24f3cc949653d6f2",
        "name": "",
        "links": [
            "7737b873ccf3333e",
            "9a03bbe0571d564e",
            "3bd2ed3ffeb7c094",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71"
        ],
        "x": 1395,
        "y": 880,
        "wires": []
    },
    {
        "id": "ba0c7c93c3531569",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "controlRx",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 740,
        "wires": [
            [
                "fe4efb30c50b9b42"
            ]
        ]
    },
    {
        "id": "565953f8fc6a3ca7",
        "type": "change",
        "z": "24f3cc949653d6f2",
        "name": "Enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "controlRx",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 780,
        "wires": [
            [
                "fe4efb30c50b9b42"
            ]
        ]
    },
    {
        "id": "b2208282afd45c73",
        "type": "ui_dropdown",
        "z": "966c14ab7eb4113a",
        "name": "",
        "label": "Bandwidth",
        "tooltip": "",
        "place": "Select option",
        "group": "d2882b6142db394d",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "7.8125 KHz",
                "value": "0",
                "type": "str"
            },
            {
                "label": "15.625 KHz",
                "value": "1",
                "type": "str"
            },
            {
                "label": "31.25 KHz",
                "value": "3",
                "type": "str"
            },
            {
                "label": "62.5 KHz",
                "value": "2",
                "type": "str"
            },
            {
                "label": "125 KHz",
                "value": "4",
                "type": "str"
            },
            {
                "label": "250 KHz",
                "value": "5",
                "type": "str"
            },
            {
                "label": "500 KHz",
                "value": "6",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "B",
        "x": 2170,
        "y": 460,
        "wires": [
            [
                "a6b537e93054d403"
            ]
        ]
    },
    {
        "id": "719abca2c9bd7655",
        "type": "ui_dropdown",
        "z": "966c14ab7eb4113a",
        "name": "",
        "label": "Spreading factor",
        "tooltip": "",
        "place": "Select option",
        "group": "d2882b6142db394d",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "5 bit/s",
                "value": "5",
                "type": "str"
            },
            {
                "label": "6 bit/s",
                "value": "6",
                "type": "str"
            },
            {
                "label": "7 bit/s",
                "value": "7",
                "type": "str"
            },
            {
                "label": "8 bit/s",
                "value": "8",
                "type": "str"
            },
            {
                "label": "9 bit/s",
                "value": "9",
                "type": "str"
            },
            {
                "label": "10 bit/s",
                "value": "10",
                "type": "str"
            },
            {
                "label": "11 bit/s",
                "value": "11",
                "type": "str"
            },
            {
                "label": "12 bit/s",
                "value": "12",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "SF",
        "x": 2180,
        "y": 520,
        "wires": [
            [
                "a6b537e93054d403"
            ]
        ]
    },
    {
        "id": "0a1bda2b3f243248",
        "type": "ui_dropdown",
        "z": "966c14ab7eb4113a",
        "name": "",
        "label": "Coding Rate         ",
        "tooltip": "",
        "place": "Select option",
        "group": "d2882b6142db394d",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "4/5",
                "value": "4/5",
                "type": "str"
            },
            {
                "label": "4/6",
                "value": "4/6",
                "type": "str"
            },
            {
                "label": "4/7",
                "value": "4/7",
                "type": "str"
            },
            {
                "label": "4/8",
                "value": "4/8",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "CR",
        "x": 2170,
        "y": 580,
        "wires": [
            [
                "a6b537e93054d403"
            ]
        ]
    },
    {
        "id": "490e7c9cb00a7bf1",
        "type": "inject",
        "z": "966c14ab7eb4113a",
        "name": "Bandwidth",
        "props": [
            {
                "p": "payload",
                "v": "4",
                "vt": "str"
            },
            {
                "p": "topic",
                "v": "B",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "B",
        "payload": "4",
        "payloadType": "str",
        "x": 1830,
        "y": 460,
        "wires": [
            [
                "b2208282afd45c73"
            ]
        ]
    },
    {
        "id": "a516d20f4606cb3e",
        "type": "inject",
        "z": "966c14ab7eb4113a",
        "name": "Spreading Factor",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "12",
        "payloadType": "str",
        "x": 1850,
        "y": 520,
        "wires": [
            [
                "719abca2c9bd7655"
            ]
        ]
    },
    {
        "id": "86269cd58d607e15",
        "type": "inject",
        "z": "966c14ab7eb4113a",
        "name": "Coding Rate",
        "props": [
            {
                "p": "payload",
                "v": "4/6",
                "vt": "str"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "4/6",
        "payloadType": "str",
        "x": 1832,
        "y": 581,
        "wires": [
            [
                "0a1bda2b3f243248"
            ]
        ]
    },
    {
        "id": "a6b537e93054d403",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2530,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "878a96282dd0d644",
        "type": "link in",
        "z": "966c14ab7eb4113a",
        "name": "CTRL",
        "links": [
            "64b6970b88345687"
        ],
        "x": 1855,
        "y": 360,
        "wires": [
            [
                "0a1bda2b3f243248",
                "719abca2c9bd7655",
                "b2208282afd45c73",
                "6b5021e4ebcfca9c",
                "aa571acbd5822657",
                "2707b3a601c9f8da",
                "5788584cbbe1aa5d",
                "e44817636f7854ea"
            ]
        ]
    },
    {
        "id": "2edd0a9791b17b35",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "stop cmd",
        "func": "msg.payload=\"AT+TOFF\\n\"\nmsg.flow=\"LORARX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 440,
        "wires": [
            [
                "27e9c5bbb226d228"
            ]
        ]
    },
    {
        "id": "08ac539d19331501",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"LORARX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 260,
        "wires": [
            [
                "27e9c5bbb226d228"
            ]
        ]
    },
    {
        "id": "7741a4db9d130de7",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "control",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 920,
        "wires": [
            [
                "64b6970b88345687"
            ]
        ]
    },
    {
        "id": "6573cc7ac20988fd",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 980,
        "wires": [
            [
                "64b6970b88345687"
            ]
        ]
    },
    {
        "id": "2e3853e5c903c644",
        "type": "finite-state-machine",
        "z": "966c14ab7eb4113a",
        "name": "LORA RX FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"connect\":\"INIT\",\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"CONFIGURING\":{\"ok_a\":\"MEASURING\",\"ok_b\":\"MEASURING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"MEASURING\":{\"ok_a\":\"STOPPED_OK\",\"ok_b\":\"STOPPED_OK\",\"result\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPING\"},\"STOPPING\":{\"ok_b\":\"STOPPED\"},\"STOPPED\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\"},\"STOPPED_OK\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"WAIT\":{\"stop\":\"STOPPED_OK\",\"next\":\"STARTING\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 680,
        "y": 560,
        "wires": [
            [
                "fe2b93cbf9ed0590",
                "658646e091afea4a"
            ]
        ]
    },
    {
        "id": "fe2b93cbf9ed0590",
        "type": "switch",
        "z": "966c14ab7eb4113a",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "MEASURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 990,
        "y": 540,
        "wires": [
            [
                "08ac539d19331501",
                "276f510b25418557",
                "6b04ba1cbe0fd39f"
            ],
            [
                "b09bac259488467a",
                "9be2cfa76fddc3c4"
            ],
            [
                "cb19f4db3a183d9a",
                "276f510b25418557",
                "9be2cfa76fddc3c4"
            ],
            [
                "2edd0a9791b17b35",
                "91c53377e175b66b"
            ],
            [
                "08f50112203dc3e8",
                "906d57ac8f60c18c"
            ],
            [
                "08f50112203dc3e8",
                "906d57ac8f60c18c"
            ],
            [
                "08f50112203dc3e8",
                "4ac31d6c2e86cccb",
                "906d57ac8f60c18c"
            ]
        ]
    },
    {
        "id": "64b6970b88345687",
        "type": "link out",
        "z": "966c14ab7eb4113a",
        "name": "CTRL",
        "links": [
            "878a96282dd0d644",
            "9a03bbe0571d564e",
            "b1640a15.bac4e8",
            "dd9ffc5a.b8275",
            "7737b873ccf3333e",
            "3bd2ed3ffeb7c094",
            "5b6e697c.076b78",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71"
        ],
        "x": 1495,
        "y": 960,
        "wires": []
    },
    {
        "id": "e43db7c6c9cf0c2a",
        "type": "comment",
        "z": "966c14ab7eb4113a",
        "name": "Radio icon",
        "info": "",
        "x": 1280,
        "y": 580,
        "wires": []
    },
    {
        "id": "4eee7f3509de5045",
        "type": "comment",
        "z": "966c14ab7eb4113a",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1330,
        "y": 860,
        "wires": []
    },
    {
        "id": "1b7197025aa3ae7d",
        "type": "debug",
        "z": "966c14ab7eb4113a",
        "name": "Result PER",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 930,
        "y": 380,
        "wires": []
    },
    {
        "id": "35e5548b5a11ed70",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "PER",
        "func": "var input = msg.payload ||\"\";\nvar pos= input.search(\"PER\");\nif (pos>1){\n    msg.payload=input.substring(pos+4);\n    flow.set(\"currentPER\", msg.payload);\n    return msg;\n} else {\nreturn null;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 360,
        "wires": [
            [
                "1b7197025aa3ae7d",
                "9cd9b5d1f7997e33"
            ]
        ]
    },
    {
        "id": "b09bac259488467a",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "Format config B",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\") +\":\" + flow.get(\"B\") + \":\"  + flow.get(\"SF\") + \":\" + flow.get(\"CR\") +\":0:0:1:\" + flow.get(\"payloadlength\") +\":25000:\" + flow.get(\"lowdropt\") +\":3\\n\";\nmsg.flow=\"LORARX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1300,
        "y": 320,
        "wires": [
            [
                "27e9c5bbb226d228"
            ]
        ]
    },
    {
        "id": "27e9c5bbb226d228",
        "type": "link out",
        "z": "966c14ab7eb4113a",
        "name": "Serial Port B out",
        "links": [
            "33f3d0b3dcc7bd60"
        ],
        "x": 1575,
        "y": 360,
        "wires": []
    },
    {
        "id": "cb19f4db3a183d9a",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "Start B",
        "func": "msg.payload=\"AT+TRX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"LORARX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1270,
        "y": 380,
        "wires": [
            [
                "27e9c5bbb226d228"
            ]
        ]
    },
    {
        "id": "9cd9b5d1f7997e33",
        "type": "ui_text",
        "z": "966c14ab7eb4113a",
        "group": "d2882b6142db394d",
        "order": 16,
        "width": 0,
        "height": 0,
        "name": "PER Result",
        "label": "PER",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 930,
        "y": 340,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "5fed80d29781cff6",
        "type": "debug",
        "z": "966c14ab7eb4113a",
        "name": "Result RSSI",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 930,
        "y": 180,
        "wires": []
    },
    {
        "id": "22ec28ccdec34d8b",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "RSSI SNR",
        "func": "var input = msg.payload ||\"\";\nvar posRssi= input.search(\"RssiValue\");\nvar posdBm=input.search(\"dBm\");\nvar posSnrValue=input.search(\"SnrValue\");\n\nif (posRssi>1){\n    //save the values in temporary variables\n    msg.payload=input.substring(posRssi+10,posdBm);\n    flow.set(\"currentRSSItmp\",msg.payload);\n    flow.set(\"currentSNRtmp\",input.substring(posSnrValue+9));\n    return null;\n}\n    \n   \nvar posRX= input.search(\":Rx\");\nif (posRX>-1)\n{\n    // update the data and then clean the temporary variables \n    msg.payload=flow.get(\"currentRSSItmp\");\n    msg.topic=\"RSSI\";\n    flow.set(\"currentRSSI\",msg.payload);\n    flow.set(\"currentRSSItmp\",\"No packet\");\n\n    var snrMsg= { payload:flow.get(\"currentSNRtmp\")};\n    snrMsg.topic=\"SNR\";\n    flow.set(\"currentSNR\",snrMsg.payload);\n    flow.set(\"currentSNRtmp\",\"No packet\");\n    return [msg,snrMsg];\n} \n    \nreturn null;\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 240,
        "wires": [
            [
                "5fed80d29781cff6",
                "f51f33f25599e288"
            ],
            [
                "93c8b1d6a63e6e28",
                "418d936e2c6ed58b"
            ]
        ]
    },
    {
        "id": "f51f33f25599e288",
        "type": "ui_text",
        "z": "966c14ab7eb4113a",
        "group": "d2882b6142db394d",
        "order": 15,
        "width": 0,
        "height": 0,
        "name": "RSSI Result",
        "label": "RSSI (dBm)",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 930,
        "y": 140,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "418d936e2c6ed58b",
        "type": "debug",
        "z": "966c14ab7eb4113a",
        "name": "Result SNR",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 930,
        "y": 280,
        "wires": []
    },
    {
        "id": "93c8b1d6a63e6e28",
        "type": "ui_text",
        "z": "966c14ab7eb4113a",
        "group": "d2882b6142db394d",
        "order": 17,
        "width": 0,
        "height": 0,
        "name": "SNR Result",
        "label": "SNR (dB)",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 930,
        "y": 240,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "9ab559144b18ff80",
        "type": "switch",
        "z": "966c14ab7eb4113a",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "result",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "undefined",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 450,
        "y": 500,
        "wires": [
            [
                "35e5548b5a11ed70",
                "22ec28ccdec34d8b",
                "0c3f55cbc41b49d1"
            ],
            [],
            [
                "2e3853e5c903c644"
            ]
        ]
    },
    {
        "id": "4a3f5d7b56e1a966",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "Store Parameters",
        "func": "flow.set(msg.topic,msg.payload)\n\nif (flow.get(\"multiplefrequency\")===false){\n    msg.payload=\"Single Frequency  :\" + flow.get(\"singleFreq\")+\"#\"+flow.get(\"iterations\");\n    return msg\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2550,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "6f2f012157c991f8",
        "type": "finite-state-machine",
        "z": "966c14ab7eb4113a",
        "name": "Global",
        "fsmDefinition": "{\"state\":{\"status\":\"IDLE\"},\"transitions\":{\"IDLE\":{\"start\":\"RUN\",\"testdone\":\"IDLE\"},\"RUN\":{\"stop\":\"IDLE\",\"testdone\":\"RUN\",\"dotest\":\"RUN\",\"forcedstop\":\"IDLE\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 730,
        "y": 860,
        "wires": [
            [
                "5e57ee9bf2f1afc7",
                "cc61fca4188a54f0"
            ]
        ]
    },
    {
        "id": "5e57ee9bf2f1afc7",
        "type": "switch",
        "z": "966c14ab7eb4113a",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RUN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "IDLE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 860,
        "wires": [
            [
                "e39fd38b27b78579",
                "7741a4db9d130de7"
            ],
            [
                "a92ccb20b39838e9",
                "6573cc7ac20988fd",
                "719c622210e55ef9"
            ]
        ]
    },
    {
        "id": "9db314e8d6442a5d",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "check flow B",
        "func": "if (msg.flow===\"LORARX\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 250,
        "y": 500,
        "wires": [
            [
                "9ab559144b18ff80"
            ]
        ]
    },
    {
        "id": "1562eb402649818e",
        "type": "link in",
        "z": "966c14ab7eb4113a",
        "name": "",
        "links": [
            "f3dfe1e0131d23cd"
        ],
        "x": 95,
        "y": 500,
        "wires": [
            [
                "9db314e8d6442a5d"
            ]
        ]
    },
    {
        "id": "6fe7026ba911640d",
        "type": "inject",
        "z": "966c14ab7eb4113a",
        "name": "Iterations",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "iteration",
        "payload": "0",
        "payloadType": "num",
        "x": 1800,
        "y": 940,
        "wires": [
            [
                "4a3f5d7b56e1a966"
            ]
        ]
    },
    {
        "id": "3d43a006d32b25e0",
        "type": "inject",
        "z": "966c14ab7eb4113a",
        "name": "TX Power",
        "props": [
            {
                "p": "payload",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "txpower",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "txpower",
        "payload": "0",
        "payloadType": "num",
        "x": 1820,
        "y": 820,
        "wires": [
            [
                "6b5021e4ebcfca9c"
            ]
        ]
    },
    {
        "id": "763af9a8ddf8f7b9",
        "type": "inject",
        "z": "966c14ab7eb4113a",
        "name": "Start Freq",
        "props": [
            {
                "p": "payload",
                "v": "863",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "startfreq",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "startfreq",
        "payload": "863",
        "payloadType": "num",
        "x": 1810,
        "y": 1000,
        "wires": [
            [
                "2707b3a601c9f8da"
            ]
        ]
    },
    {
        "id": "6315ab7395c1b219",
        "type": "inject",
        "z": "966c14ab7eb4113a",
        "name": "FrameNumber",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "cycle",
        "payload": "5",
        "payloadType": "num",
        "x": 1840,
        "y": 760,
        "wires": [
            [
                "aa571acbd5822657"
            ]
        ]
    },
    {
        "id": "2707b3a601c9f8da",
        "type": "ui_text_input",
        "z": "966c14ab7eb4113a",
        "name": " Single PER Frequency",
        "label": "PER Frequency (MHz)",
        "tooltip": "",
        "group": "d2882b6142db394d",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "singleFreq",
        "x": 2180,
        "y": 1000,
        "wires": [
            [
                "4a3f5d7b56e1a966"
            ]
        ]
    },
    {
        "id": "6b5021e4ebcfca9c",
        "type": "ui_text_input",
        "z": "966c14ab7eb4113a",
        "name": "TX Power",
        "label": "TX Power (dBm)",
        "tooltip": "Min -9, Max 22",
        "group": "d2882b6142db394d",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "txpower",
        "x": 2160,
        "y": 820,
        "wires": [
            [
                "4a3f5d7b56e1a966"
            ]
        ]
    },
    {
        "id": "aa571acbd5822657",
        "type": "ui_text_input",
        "z": "966c14ab7eb4113a",
        "name": "Number of Frames",
        "label": "Number of Frames",
        "tooltip": "",
        "group": "d2882b6142db394d",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "cycle",
        "x": 2190,
        "y": 760,
        "wires": [
            [
                "4a3f5d7b56e1a966"
            ]
        ]
    },
    {
        "id": "6b04ba1cbe0fd39f",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "Turn LED green",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 700,
        "wires": [
            [
                "b8fded201ccd7f54"
            ]
        ]
    },
    {
        "id": "4ac31d6c2e86cccb",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "Turn LED red",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 740,
        "wires": [
            [
                "b8fded201ccd7f54"
            ]
        ]
    },
    {
        "id": "b8fded201ccd7f54",
        "type": "ui_led",
        "z": "966c14ab7eb4113a",
        "order": 11,
        "group": "d2882b6142db394d",
        "width": 6,
        "height": 1,
        "label": "Connection status :",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Connection status",
        "x": 1530,
        "y": 720,
        "wires": []
    },
    {
        "id": "8a48e7dbd6408a34",
        "type": "comment",
        "z": "966c14ab7eb4113a",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1850,
        "y": 260,
        "wires": []
    },
    {
        "id": "079dd89c61bdfe3e",
        "type": "comment",
        "z": "966c14ab7eb4113a",
        "name": "Group Parameters",
        "info": "",
        "x": 2050,
        "y": 260,
        "wires": []
    },
    {
        "id": "c1de91c714a85f4a",
        "type": "comment",
        "z": "966c14ab7eb4113a",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1830,
        "y": 900,
        "wires": []
    },
    {
        "id": "083783671f01ad98",
        "type": "comment",
        "z": "966c14ab7eb4113a",
        "name": "Group multiple & single frequencies",
        "info": "",
        "x": 2120,
        "y": 900,
        "wires": []
    },
    {
        "id": "8de880f285c7c9ec",
        "type": "comment",
        "z": "966c14ab7eb4113a",
        "name": "Group Results",
        "info": "",
        "x": 930,
        "y": 80,
        "wires": []
    },
    {
        "id": "70dd45783cf6156a",
        "type": "comment",
        "z": "966c14ab7eb4113a",
        "name": "PER Test management",
        "info": "",
        "x": 760,
        "y": 500,
        "wires": []
    },
    {
        "id": "5739b906c34e8c57",
        "type": "comment",
        "z": "966c14ab7eb4113a",
        "name": "Frequency management",
        "info": "",
        "x": 510,
        "y": 820,
        "wires": []
    },
    {
        "id": "0c3f55cbc41b49d1",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "Frames counter",
        "func": "var input = msg.payload ||\"\";\n\nvar posRX= input.search(\":Rx\");\nif (posRX>-1)\n{\n    var posOf = input.search(\"of\");\n    var pos3xSup = input.search(\">>>\");\n    var nb1=input.substring(posRX+4, posOf-1);\n    var nb2=input.substring(posOf+3, pos3xSup-2);\n    msg.payload=nb1+\"/\"+nb2;\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 680,
        "y": 440,
        "wires": [
            [
                "d2efc6c5c3bc6e4e"
            ]
        ]
    },
    {
        "id": "d2efc6c5c3bc6e4e",
        "type": "ui_text",
        "z": "966c14ab7eb4113a",
        "group": "d2882b6142db394d",
        "order": 13,
        "width": 0,
        "height": 0,
        "name": "Frames counter",
        "label": "Frames counter",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 940,
        "y": 440,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "19a94ae1b1d79a51",
        "type": "ui_button",
        "z": "966c14ab7eb4113a",
        "name": "Start",
        "group": "d2882b6142db394d",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 490,
        "y": 1140,
        "wires": [
            [
                "a9cb33887c3e6b3c",
                "6f3ba4293c15e557"
            ]
        ]
    },
    {
        "id": "57ebec9c0e5cda27",
        "type": "ui_button",
        "z": "966c14ab7eb4113a",
        "name": "Stop",
        "group": "d2882b6142db394d",
        "order": 10,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 490,
        "y": 1220,
        "wires": [
            [
                "6f3ba4293c15e557"
            ]
        ]
    },
    {
        "id": "90d99a2dc32e5aa5",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1240,
        "wires": [
            [
                "57ebec9c0e5cda27"
            ]
        ]
    },
    {
        "id": "21e770ceedac1e06",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1160,
        "wires": [
            [
                "19a94ae1b1d79a51"
            ]
        ]
    },
    {
        "id": "33656a763f070b8b",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1120,
        "wires": [
            [
                "19a94ae1b1d79a51"
            ]
        ]
    },
    {
        "id": "83e846030fa54398",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1200,
        "wires": [
            [
                "57ebec9c0e5cda27"
            ]
        ]
    },
    {
        "id": "4475c6c6b84fd34c",
        "type": "inject",
        "z": "966c14ab7eb4113a",
        "name": "init",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1080,
        "wires": [
            [
                "90d99a2dc32e5aa5",
                "33656a763f070b8b"
            ]
        ]
    },
    {
        "id": "a9cb33887c3e6b3c",
        "type": "link out",
        "z": "966c14ab7eb4113a",
        "name": "Start",
        "links": [
            "43b06210758fdf79"
        ],
        "x": 615,
        "y": 1160,
        "wires": []
    },
    {
        "id": "43b06210758fdf79",
        "type": "link in",
        "z": "966c14ab7eb4113a",
        "name": "start",
        "links": [
            "a9cb33887c3e6b3c"
        ],
        "x": 95,
        "y": 1220,
        "wires": [
            [
                "83e846030fa54398",
                "21e770ceedac1e06"
            ]
        ]
    },
    {
        "id": "cf96d56740c6da6b",
        "type": "link in",
        "z": "966c14ab7eb4113a",
        "name": "stop",
        "links": [
            "a92ccb20b39838e9",
            "b573b69.2452b48"
        ],
        "x": 95,
        "y": 1160,
        "wires": [
            [
                "33656a763f070b8b",
                "90d99a2dc32e5aa5"
            ]
        ]
    },
    {
        "id": "a92ccb20b39838e9",
        "type": "link out",
        "z": "966c14ab7eb4113a",
        "name": "stop",
        "links": [
            "cf96d56740c6da6b"
        ],
        "x": 1035,
        "y": 940,
        "wires": []
    },
    {
        "id": "276f510b25418557",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "Empty payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 540,
        "wires": [
            [
                "48b72fa02534d20e"
            ]
        ]
    },
    {
        "id": "cc61fca4188a54f0",
        "type": "debug",
        "z": "966c14ab7eb4113a",
        "name": "top FSM",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 920,
        "wires": []
    },
    {
        "id": "c82734387c69260d",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "unexpected stop",
        "func": "msg.topic=\"forcedstop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 860,
        "wires": [
            [
                "6f2f012157c991f8"
            ]
        ]
    },
    {
        "id": "184bcd9ca53d55d9",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "PrepareNextRun",
        "func": "flow.set(\"I\",flow.get(\"I\")+1);\n\n    if (flow.get(\"I\")>=flow.get(\"iterations\"))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n    }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 900,
        "wires": [
            [
                "6f2f012157c991f8"
            ]
        ]
    },
    {
        "id": "e39fd38b27b78579",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "start new test",
        "func": "msg.topic=\"start\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 830,
        "y": 740,
        "wires": [
            [
                "2e3853e5c903c644"
            ]
        ]
    },
    {
        "id": "658646e091afea4a",
        "type": "switch",
        "z": "966c14ab7eb4113a",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 210,
        "y": 880,
        "wires": [
            [
                "c82734387c69260d"
            ],
            [
                "184bcd9ca53d55d9"
            ]
        ]
    },
    {
        "id": "ba293d2b914d8349",
        "type": "link in",
        "z": "966c14ab7eb4113a",
        "name": "clear results",
        "links": [
            "48b72fa02534d20e"
        ],
        "x": 715,
        "y": 300,
        "wires": [
            [
                "f51f33f25599e288",
                "93c8b1d6a63e6e28",
                "9cd9b5d1f7997e33",
                "d2efc6c5c3bc6e4e"
            ]
        ]
    },
    {
        "id": "48b72fa02534d20e",
        "type": "link out",
        "z": "966c14ab7eb4113a",
        "name": "clear results",
        "links": [
            "ba293d2b914d8349"
        ],
        "x": 1435,
        "y": 540,
        "wires": []
    },
    {
        "id": "2de29dcde8a3994c",
        "type": "comment",
        "z": "966c14ab7eb4113a",
        "name": "Clear results",
        "info": "",
        "x": 1290,
        "y": 500,
        "wires": []
    },
    {
        "id": "6f3ba4293c15e557",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "Initialisation",
        "func": "flow.set(\"I\",0);\nflow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\nmsg.topic=msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 670,
        "y": 960,
        "wires": [
            [
                "6f2f012157c991f8"
            ]
        ]
    },
    {
        "id": "69f67dc2a2758c49",
        "type": "inject",
        "z": "966c14ab7eb4113a",
        "name": "Payload length",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "payloadlength",
        "payload": "16",
        "payloadType": "num",
        "x": 1840,
        "y": 640,
        "wires": [
            [
                "5788584cbbe1aa5d"
            ]
        ]
    },
    {
        "id": "5788584cbbe1aa5d",
        "type": "ui_text_input",
        "z": "966c14ab7eb4113a",
        "name": "Payload length",
        "label": "Payload length (bit)",
        "tooltip": "1 to 256 bits",
        "group": "d2882b6142db394d",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "payloadlength",
        "x": 2180,
        "y": 640,
        "wires": [
            [
                "a6b537e93054d403"
            ]
        ]
    },
    {
        "id": "e58c9dc1a0ee66c2",
        "type": "ui_text",
        "z": "966c14ab7eb4113a",
        "group": "d2882b6142db394d",
        "order": 12,
        "width": 6,
        "height": 1,
        "name": "icon ",
        "label": "",
        "format": "{{msg.format}}",
        "layout": "col-center",
        "x": 1490,
        "y": 640,
        "wires": []
    },
    {
        "id": "9be2cfa76fddc3c4",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "Start animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "<font color=\"green\"><i class=\"fa fa-spinner fa-spin fa-3x\"></i></font>",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 620,
        "wires": [
            [
                "e58c9dc1a0ee66c2"
            ]
        ]
    },
    {
        "id": "08f50112203dc3e8",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "Stop animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 660,
        "wires": [
            [
                "e58c9dc1a0ee66c2"
            ]
        ]
    },
    {
        "id": "719c622210e55ef9",
        "type": "function",
        "z": "966c14ab7eb4113a",
        "name": "stop test",
        "func": "msg.topic=\"stop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1125,
        "y": 826,
        "wires": [
            [
                "2e3853e5c903c644"
            ]
        ]
    },
    {
        "id": "e44817636f7854ea",
        "type": "ui_dropdown",
        "z": "966c14ab7eb4113a",
        "name": "",
        "label": "Low DR opt",
        "tooltip": "",
        "place": "Select option",
        "group": "d2882b6142db394d",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Off",
                "value": "0",
                "type": "str"
            },
            {
                "label": "ON",
                "value": "1",
                "type": "str"
            },
            {
                "label": "Auto (1 when SF11 or SF12, 0 otherwise)",
                "value": "2",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "lowdropt",
        "x": 2170,
        "y": 700,
        "wires": [
            [
                "a6b537e93054d403"
            ]
        ]
    },
    {
        "id": "fd23bc7c294c080e",
        "type": "inject",
        "z": "966c14ab7eb4113a",
        "name": "lowdropt",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "lowdropt",
        "payload": "2",
        "payloadType": "str",
        "x": 1822,
        "y": 701,
        "wires": [
            [
                "e44817636f7854ea"
            ]
        ]
    },
    {
        "id": "906d57ac8f60c18c",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "Wait msg OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 820,
        "wires": [
            [
                "bad51e9614801cef"
            ]
        ]
    },
    {
        "id": "91c53377e175b66b",
        "type": "change",
        "z": "966c14ab7eb4113a",
        "name": "Wait msg ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please wait the end of the frames",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 780,
        "wires": [
            [
                "bad51e9614801cef"
            ]
        ]
    },
    {
        "id": "bad51e9614801cef",
        "type": "ui_text",
        "z": "966c14ab7eb4113a",
        "group": "d2882b6142db394d",
        "order": 14,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1550,
        "y": 780,
        "wires": []
    },
    {
        "id": "29c036ce62a59725",
        "type": "ui_dropdown",
        "z": "beea6254a1476ad4",
        "name": "",
        "label": "Bandwidth",
        "tooltip": "",
        "place": "Select option",
        "group": "f40f13c5a159be0a",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "7.8125 KHz",
                "value": "0",
                "type": "str"
            },
            {
                "label": "15.625 KHz",
                "value": "1",
                "type": "str"
            },
            {
                "label": "31.25 KHz",
                "value": "3",
                "type": "str"
            },
            {
                "label": "62.5 KHz",
                "value": "2",
                "type": "str"
            },
            {
                "label": "125 KHz",
                "value": "4",
                "type": "str"
            },
            {
                "label": "250 KHz",
                "value": "5",
                "type": "str"
            },
            {
                "label": "500 KHz",
                "value": "6",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "B",
        "x": 2170,
        "y": 380,
        "wires": [
            [
                "9f05665804040afe"
            ]
        ]
    },
    {
        "id": "9207823f91f2d532",
        "type": "ui_dropdown",
        "z": "beea6254a1476ad4",
        "name": "",
        "label": "Spreading factor",
        "tooltip": "",
        "place": "Select option",
        "group": "f40f13c5a159be0a",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "5 bit/s",
                "value": "5",
                "type": "str"
            },
            {
                "label": "6 bit/s",
                "value": "6",
                "type": "str"
            },
            {
                "label": "7 bit/s",
                "value": "7",
                "type": "str"
            },
            {
                "label": "8 bit/s",
                "value": "8",
                "type": "str"
            },
            {
                "label": "9 bit/s",
                "value": "9",
                "type": "str"
            },
            {
                "label": "10 bit/s",
                "value": "10",
                "type": "str"
            },
            {
                "label": "11 bit/s",
                "value": "11",
                "type": "str"
            },
            {
                "label": "12 bit/s",
                "value": "12",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "SF",
        "x": 2180,
        "y": 440,
        "wires": [
            [
                "9f05665804040afe"
            ]
        ]
    },
    {
        "id": "8ed7c3697b9d24fe",
        "type": "ui_dropdown",
        "z": "beea6254a1476ad4",
        "name": "",
        "label": "Coding Rate    ",
        "tooltip": "",
        "place": "Select option",
        "group": "f40f13c5a159be0a",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "4/5",
                "value": "4/5",
                "type": "str"
            },
            {
                "label": "4/6",
                "value": "4/6",
                "type": "str"
            },
            {
                "label": "4/7",
                "value": "4/7",
                "type": "str"
            },
            {
                "label": "4/8",
                "value": "4/8",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "CR",
        "x": 2170,
        "y": 500,
        "wires": [
            [
                "9f05665804040afe"
            ]
        ]
    },
    {
        "id": "1adf4723b641a5c4",
        "type": "inject",
        "z": "beea6254a1476ad4",
        "name": "Bandwidth",
        "props": [
            {
                "p": "payload",
                "v": "4",
                "vt": "str"
            },
            {
                "p": "topic",
                "v": "B",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "B",
        "payload": "4",
        "payloadType": "str",
        "x": 1830,
        "y": 380,
        "wires": [
            [
                "29c036ce62a59725"
            ]
        ]
    },
    {
        "id": "2786d25417c5ddbd",
        "type": "inject",
        "z": "beea6254a1476ad4",
        "name": "Spreading Factor",
        "props": [
            {
                "p": "payload",
                "v": "12",
                "vt": "str"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "12",
        "payloadType": "str",
        "x": 1850,
        "y": 440,
        "wires": [
            [
                "9207823f91f2d532"
            ]
        ]
    },
    {
        "id": "f935b7178cf529c5",
        "type": "inject",
        "z": "beea6254a1476ad4",
        "name": "Coding Rate",
        "props": [
            {
                "p": "payload",
                "v": "4/6",
                "vt": "str"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "4/6",
        "payloadType": "str",
        "x": 1830,
        "y": 500,
        "wires": [
            [
                "8ed7c3697b9d24fe"
            ]
        ]
    },
    {
        "id": "9f05665804040afe",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2510,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "d15204e2577e2566",
        "type": "link in",
        "z": "beea6254a1476ad4",
        "name": "CTRL",
        "links": [
            "3e963d24675bcc26"
        ],
        "x": 1875,
        "y": 280,
        "wires": [
            [
                "8ed7c3697b9d24fe",
                "9207823f91f2d532",
                "29c036ce62a59725",
                "db9c05a6a77a996d",
                "aa4e50c9fe9a25bf",
                "a34c7d745a253a43",
                "14ed4fbf04f03f79",
                "5becb8add09a7ef5"
            ]
        ]
    },
    {
        "id": "5e76ca91871b1206",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "stop cmd",
        "func": "msg.payload=\"AT+TOFF\\n\"\nmsg.flow=\"LORATX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1320,
        "y": 400,
        "wires": [
            [
                "33b7355c53b805b3"
            ]
        ]
    },
    {
        "id": "ef59ddff1d65abee",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"LORATX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1320,
        "y": 220,
        "wires": [
            [
                "33b7355c53b805b3"
            ]
        ]
    },
    {
        "id": "061464ca1495f7a3",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "control",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 980,
        "wires": [
            [
                "3e963d24675bcc26"
            ]
        ]
    },
    {
        "id": "f4750fb55e45d1c8",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 1040,
        "wires": [
            [
                "3e963d24675bcc26"
            ]
        ]
    },
    {
        "id": "d2086d196197fc2c",
        "type": "finite-state-machine",
        "z": "beea6254a1476ad4",
        "name": "LORA TX FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"connect\":\"INIT\",\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"CONFIGURING\":{\"ok_a\":\"MEASURING\",\"ok_b\":\"MEASURING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"MEASURING\":{\"ok_a\":\"STOPPED_OK\",\"ok_b\":\"STOPPED_OK\",\"result\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPING\"},\"STOPPING\":{\"ok_a\":\"STOPPED\",\"ok_b\":\"STOPPED\"},\"STOPPED\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\"},\"STOPPED_OK\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"WAIT\":{\"stop\":\"STOPPED_OK\",\"next\":\"STARTING\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 720,
        "y": 560,
        "wires": [
            [
                "4550ec8465b5a67a",
                "f39e0c6386c38d66"
            ]
        ]
    },
    {
        "id": "4550ec8465b5a67a",
        "type": "switch",
        "z": "beea6254a1476ad4",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "MEASURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 1030,
        "y": 500,
        "wires": [
            [
                "ef59ddff1d65abee",
                "6a9be520841d70be",
                "935d6f6e844f6aa8"
            ],
            [
                "3ebdea97782889e9",
                "7ef62c5eef067337"
            ],
            [
                "4747ca38797ee603",
                "6a9be520841d70be",
                "7ef62c5eef067337"
            ],
            [
                "5e76ca91871b1206",
                "483e8bce91217dd3"
            ],
            [
                "be0371a21936c86b",
                "32390a56c52f59f2"
            ],
            [
                "be0371a21936c86b",
                "32390a56c52f59f2"
            ],
            [
                "be0371a21936c86b",
                "2fbb06b9ba5cf009",
                "32390a56c52f59f2"
            ]
        ]
    },
    {
        "id": "3e963d24675bcc26",
        "type": "link out",
        "z": "beea6254a1476ad4",
        "name": "CTRL",
        "links": [
            "d15204e2577e2566",
            "9a03bbe0571d564e",
            "b1640a15.bac4e8",
            "dd9ffc5a.b8275",
            "7737b873ccf3333e",
            "3bd2ed3ffeb7c094",
            "5b6e697c.076b78",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71",
            "477e629d9436b01b"
        ],
        "x": 1515,
        "y": 1020,
        "wires": []
    },
    {
        "id": "586ff0867c86ed25",
        "type": "comment",
        "z": "beea6254a1476ad4",
        "name": "Radio icon",
        "info": "",
        "x": 1320,
        "y": 540,
        "wires": []
    },
    {
        "id": "1385f5bcecfe09a9",
        "type": "comment",
        "z": "beea6254a1476ad4",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1350,
        "y": 920,
        "wires": []
    },
    {
        "id": "3ebdea97782889e9",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "Format config A",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\") +\":\" + flow.get(\"B\") + \":\"  + flow.get(\"SF\") + \":\" + flow.get(\"CR\") +\":0:0:1:\" + flow.get(\"payloadlength\") +\":25000:\" + flow.get(\"lowdropt\") +\":3\\n\";\nmsg.flow=\"LORATX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1340,
        "y": 280,
        "wires": [
            [
                "33b7355c53b805b3"
            ]
        ]
    },
    {
        "id": "33b7355c53b805b3",
        "type": "link out",
        "z": "beea6254a1476ad4",
        "name": "Serial Port B out",
        "links": [
            "852009e78874179a"
        ],
        "x": 1615,
        "y": 320,
        "wires": []
    },
    {
        "id": "4747ca38797ee603",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "Start A",
        "func": "msg.payload=\"AT+TTX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"LORATX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1310,
        "y": 340,
        "wires": [
            [
                "33b7355c53b805b3"
            ]
        ]
    },
    {
        "id": "b5704f5749902675",
        "type": "switch",
        "z": "beea6254a1476ad4",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "result",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "undefined",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 490,
        "y": 460,
        "wires": [
            [],
            [
                "d42e518ba258e64c"
            ],
            [
                "d2086d196197fc2c"
            ]
        ]
    },
    {
        "id": "e77ae9eb9972c153",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "Store Parameters",
        "func": "flow.set(msg.topic,msg.payload)\n\nif (flow.get(\"multiplefrequency\")===false){\n    msg.payload=\"Single Frequency  :\" + flow.get(\"singleFreq\")+\"#\"+flow.get(\"iterations\");\n    return msg\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2530,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "0257a1e75ca70fd6",
        "type": "finite-state-machine",
        "z": "beea6254a1476ad4",
        "name": "Global",
        "fsmDefinition": "{\"state\":{\"status\":\"IDLE\"},\"transitions\":{\"IDLE\":{\"start\":\"RUN\",\"testdone\":\"IDLE\"},\"RUN\":{\"stop\":\"IDLE\",\"testdone\":\"RUN\",\"dotest\":\"RUN\",\"forcedstop\":\"IDLE\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 770,
        "y": 820,
        "wires": [
            [
                "6c8aecabae7ac7b2",
                "7235225132ef6b7a"
            ]
        ]
    },
    {
        "id": "6c8aecabae7ac7b2",
        "type": "switch",
        "z": "beea6254a1476ad4",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RUN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "IDLE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 950,
        "y": 820,
        "wires": [
            [
                "b8ca01f42b6d2445",
                "061464ca1495f7a3"
            ],
            [
                "76a8d951ca0aad87",
                "f4750fb55e45d1c8",
                "08452a6968ad8d39"
            ]
        ]
    },
    {
        "id": "9842294247c86bc1",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "check flow A",
        "func": "if (msg.flow===\"LORATX\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 290,
        "y": 460,
        "wires": [
            [
                "b5704f5749902675"
            ]
        ]
    },
    {
        "id": "f1ccd1ca965f2ec8",
        "type": "link in",
        "z": "beea6254a1476ad4",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 135,
        "y": 460,
        "wires": [
            [
                "9842294247c86bc1"
            ]
        ]
    },
    {
        "id": "61f8955bb4648775",
        "type": "inject",
        "z": "beea6254a1476ad4",
        "name": "Iterations",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "iteration",
        "payload": "0",
        "payloadType": "num",
        "x": 1820,
        "y": 840,
        "wires": [
            [
                "e77ae9eb9972c153"
            ]
        ]
    },
    {
        "id": "01edfd5ff04093a8",
        "type": "inject",
        "z": "beea6254a1476ad4",
        "name": "TX Power",
        "props": [
            {
                "p": "payload",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "txpower",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "txpower",
        "payload": "0",
        "payloadType": "num",
        "x": 1820,
        "y": 740,
        "wires": [
            [
                "db9c05a6a77a996d"
            ]
        ]
    },
    {
        "id": "ebee2d8e0ed3a919",
        "type": "inject",
        "z": "beea6254a1476ad4",
        "name": "Start Freq",
        "props": [
            {
                "p": "payload",
                "v": "863",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "startfreq",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "startfreq",
        "payload": "863",
        "payloadType": "num",
        "x": 1830,
        "y": 880,
        "wires": [
            [
                "a34c7d745a253a43"
            ]
        ]
    },
    {
        "id": "eab0d27cc73bde09",
        "type": "inject",
        "z": "beea6254a1476ad4",
        "name": "FrameNumber",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "cycle",
        "payload": "5",
        "payloadType": "num",
        "x": 1840,
        "y": 680,
        "wires": [
            [
                "aa4e50c9fe9a25bf"
            ]
        ]
    },
    {
        "id": "a34c7d745a253a43",
        "type": "ui_text_input",
        "z": "beea6254a1476ad4",
        "name": " Single PER Frequency",
        "label": "PER Frequency (MHz)",
        "tooltip": "",
        "group": "f40f13c5a159be0a",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "singleFreq",
        "x": 2200,
        "y": 880,
        "wires": [
            [
                "e77ae9eb9972c153"
            ]
        ]
    },
    {
        "id": "db9c05a6a77a996d",
        "type": "ui_text_input",
        "z": "beea6254a1476ad4",
        "name": "TX Power",
        "label": "TX Power (dBm)",
        "tooltip": "Min -9, Max 22",
        "group": "f40f13c5a159be0a",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "txpower",
        "x": 2160,
        "y": 740,
        "wires": [
            [
                "e77ae9eb9972c153"
            ]
        ]
    },
    {
        "id": "aa4e50c9fe9a25bf",
        "type": "ui_text_input",
        "z": "beea6254a1476ad4",
        "name": "Number of Frames",
        "label": "Number of Frames",
        "tooltip": "",
        "group": "f40f13c5a159be0a",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "cycle",
        "x": 2190,
        "y": 680,
        "wires": [
            [
                "e77ae9eb9972c153"
            ]
        ]
    },
    {
        "id": "935d6f6e844f6aa8",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "Turn LED green",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 660,
        "wires": [
            [
                "8164195529a7ca65"
            ]
        ]
    },
    {
        "id": "2fbb06b9ba5cf009",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "Turn LED red",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 700,
        "wires": [
            [
                "8164195529a7ca65"
            ]
        ]
    },
    {
        "id": "8164195529a7ca65",
        "type": "ui_led",
        "z": "beea6254a1476ad4",
        "order": 11,
        "group": "f40f13c5a159be0a",
        "width": 6,
        "height": 1,
        "label": "Connection status :",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Connection status",
        "x": 1570,
        "y": 660,
        "wires": []
    },
    {
        "id": "f2eab486af85dd67",
        "type": "comment",
        "z": "beea6254a1476ad4",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1870,
        "y": 180,
        "wires": []
    },
    {
        "id": "78f65055689d2e75",
        "type": "comment",
        "z": "beea6254a1476ad4",
        "name": "Group Parameters",
        "info": "",
        "x": 2070,
        "y": 180,
        "wires": []
    },
    {
        "id": "8b751fd5d732ebea",
        "type": "comment",
        "z": "beea6254a1476ad4",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1830,
        "y": 800,
        "wires": []
    },
    {
        "id": "39db96abc7724550",
        "type": "comment",
        "z": "beea6254a1476ad4",
        "name": "Group multiple & single frequencies",
        "info": "",
        "x": 2120,
        "y": 800,
        "wires": []
    },
    {
        "id": "738e14e717c7607f",
        "type": "comment",
        "z": "beea6254a1476ad4",
        "name": "Group Results",
        "info": "",
        "x": 950,
        "y": 200,
        "wires": []
    },
    {
        "id": "afad23ed9a07eca9",
        "type": "comment",
        "z": "beea6254a1476ad4",
        "name": "PER Test management",
        "info": "",
        "x": 800,
        "y": 460,
        "wires": []
    },
    {
        "id": "0197ae60d853439c",
        "type": "comment",
        "z": "beea6254a1476ad4",
        "name": "Frequency management",
        "info": "",
        "x": 550,
        "y": 780,
        "wires": []
    },
    {
        "id": "d42e518ba258e64c",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "Frames counter",
        "func": "var input = msg.payload ||\"\";\nvar posOf= input.search(\"of\");\nif (posOf>-1)\n{\n    var posTX= input.search(\":Tx\");\n    var nb1=input.substring(posTX+4, posOf-1);\n    var nb2=input.substring(posOf+3,);\n    msg.payload=nb1+\"/\"+nb2;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 680,
        "y": 340,
        "wires": [
            [
                "be460b98473f830f"
            ]
        ]
    },
    {
        "id": "be460b98473f830f",
        "type": "ui_text",
        "z": "beea6254a1476ad4",
        "group": "f40f13c5a159be0a",
        "order": 14,
        "width": 0,
        "height": 0,
        "name": "Frames counter",
        "label": "Frames counter",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 980,
        "y": 400,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "54b3fec588a3651a",
        "type": "ui_button",
        "z": "beea6254a1476ad4",
        "name": "Start",
        "group": "f40f13c5a159be0a",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 490,
        "y": 1160,
        "wires": [
            [
                "6d69810c41c3741e",
                "983451fc651dc720"
            ]
        ]
    },
    {
        "id": "1625ac1f4a3fabfd",
        "type": "ui_button",
        "z": "beea6254a1476ad4",
        "name": "Stop",
        "group": "f40f13c5a159be0a",
        "order": 10,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 490,
        "y": 1240,
        "wires": [
            [
                "983451fc651dc720"
            ]
        ]
    },
    {
        "id": "febad560f5a3a4cb",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1260,
        "wires": [
            [
                "1625ac1f4a3fabfd"
            ]
        ]
    },
    {
        "id": "2fb62cfc492187a8",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1180,
        "wires": [
            [
                "54b3fec588a3651a"
            ]
        ]
    },
    {
        "id": "feb03c3e763f1542",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1140,
        "wires": [
            [
                "54b3fec588a3651a"
            ]
        ]
    },
    {
        "id": "e099b493f0cdf7f3",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1220,
        "wires": [
            [
                "1625ac1f4a3fabfd"
            ]
        ]
    },
    {
        "id": "bb741e57dc6b7afc",
        "type": "inject",
        "z": "beea6254a1476ad4",
        "name": "init",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "d",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1100,
        "wires": [
            [
                "febad560f5a3a4cb",
                "feb03c3e763f1542"
            ]
        ]
    },
    {
        "id": "6d69810c41c3741e",
        "type": "link out",
        "z": "beea6254a1476ad4",
        "name": "Start",
        "links": [
            "a2c6eb3eefea8eec"
        ],
        "x": 615,
        "y": 1180,
        "wires": []
    },
    {
        "id": "a2c6eb3eefea8eec",
        "type": "link in",
        "z": "beea6254a1476ad4",
        "name": "start",
        "links": [
            "6d69810c41c3741e"
        ],
        "x": 95,
        "y": 1240,
        "wires": [
            [
                "e099b493f0cdf7f3",
                "2fb62cfc492187a8"
            ]
        ]
    },
    {
        "id": "560702f9f2e61429",
        "type": "link in",
        "z": "beea6254a1476ad4",
        "name": "stop",
        "links": [
            "76a8d951ca0aad87",
            "b573b69.2452b48"
        ],
        "x": 95,
        "y": 1180,
        "wires": [
            [
                "feb03c3e763f1542",
                "febad560f5a3a4cb"
            ]
        ]
    },
    {
        "id": "76a8d951ca0aad87",
        "type": "link out",
        "z": "beea6254a1476ad4",
        "name": "stop",
        "links": [
            "560702f9f2e61429"
        ],
        "x": 1075,
        "y": 900,
        "wires": []
    },
    {
        "id": "6a9be520841d70be",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "Empty payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 500,
        "wires": [
            [
                "729672577d46fbb6"
            ]
        ]
    },
    {
        "id": "340742e7663645b6",
        "type": "debug",
        "z": "beea6254a1476ad4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 1000,
        "wires": []
    },
    {
        "id": "7235225132ef6b7a",
        "type": "debug",
        "z": "beea6254a1476ad4",
        "name": "top FSM",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 940,
        "y": 880,
        "wires": []
    },
    {
        "id": "77b427528ffc9de6",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "unexpected stop",
        "func": "msg.topic=\"forcedstop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 820,
        "wires": [
            [
                "0257a1e75ca70fd6"
            ]
        ]
    },
    {
        "id": "87cf89fd6848af84",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "PrepareNextRun",
        "func": "flow.set(\"I\",flow.get(\"I\")+1);\n\n    if (flow.get(\"I\")>=flow.get(\"iterations\"))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n    }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 530,
        "y": 860,
        "wires": [
            [
                "0257a1e75ca70fd6"
            ]
        ]
    },
    {
        "id": "b8ca01f42b6d2445",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "start new test",
        "func": "msg.topic=\"start\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 870,
        "y": 700,
        "wires": [
            [
                "d2086d196197fc2c"
            ]
        ]
    },
    {
        "id": "f39e0c6386c38d66",
        "type": "switch",
        "z": "beea6254a1476ad4",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 840,
        "wires": [
            [
                "77b427528ffc9de6",
                "340742e7663645b6"
            ],
            [
                "87cf89fd6848af84"
            ]
        ]
    },
    {
        "id": "14a719e5edcb3349",
        "type": "link in",
        "z": "beea6254a1476ad4",
        "name": "clear results",
        "links": [
            "729672577d46fbb6"
        ],
        "x": 755,
        "y": 260,
        "wires": [
            [
                "be460b98473f830f"
            ]
        ]
    },
    {
        "id": "729672577d46fbb6",
        "type": "link out",
        "z": "beea6254a1476ad4",
        "name": "clear results",
        "links": [
            "14a719e5edcb3349"
        ],
        "x": 1475,
        "y": 500,
        "wires": []
    },
    {
        "id": "c3ebaea772c65e4c",
        "type": "comment",
        "z": "beea6254a1476ad4",
        "name": "Clear results",
        "info": "",
        "x": 1330,
        "y": 460,
        "wires": []
    },
    {
        "id": "983451fc651dc720",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "Initialisation",
        "func": "flow.set(\"I\",0);\nflow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\nmsg.topic=msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 690,
        "y": 920,
        "wires": [
            [
                "0257a1e75ca70fd6"
            ]
        ]
    },
    {
        "id": "666c73fb9ad5a578",
        "type": "inject",
        "z": "beea6254a1476ad4",
        "name": "Payload length",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "payloadlength",
        "payload": "16",
        "payloadType": "num",
        "x": 1840,
        "y": 560,
        "wires": [
            [
                "14ed4fbf04f03f79"
            ]
        ]
    },
    {
        "id": "14ed4fbf04f03f79",
        "type": "ui_text_input",
        "z": "beea6254a1476ad4",
        "name": "Payload length",
        "label": "Payload length (bit)",
        "tooltip": "1 to 256",
        "group": "f40f13c5a159be0a",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "payloadlength",
        "x": 2180,
        "y": 560,
        "wires": [
            [
                "9f05665804040afe"
            ]
        ]
    },
    {
        "id": "e405d8084cb3014a",
        "type": "ui_text",
        "z": "beea6254a1476ad4",
        "group": "f40f13c5a159be0a",
        "order": 12,
        "width": 6,
        "height": 1,
        "name": "icon ",
        "label": "",
        "format": "{{msg.format}}",
        "layout": "col-center",
        "x": 1530,
        "y": 600,
        "wires": []
    },
    {
        "id": "7ef62c5eef067337",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "Start animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "<font color=\"green\"><i class=\"fa fa-spinner fa-spin fa-3x\"></i></font>",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 580,
        "wires": [
            [
                "e405d8084cb3014a"
            ]
        ]
    },
    {
        "id": "be0371a21936c86b",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "Stop animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 620,
        "wires": [
            [
                "e405d8084cb3014a"
            ]
        ]
    },
    {
        "id": "08452a6968ad8d39",
        "type": "function",
        "z": "beea6254a1476ad4",
        "name": "stop test",
        "func": "msg.topic=\"stop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1160,
        "y": 820,
        "wires": [
            [
                "d2086d196197fc2c"
            ]
        ]
    },
    {
        "id": "5becb8add09a7ef5",
        "type": "ui_dropdown",
        "z": "beea6254a1476ad4",
        "name": "",
        "label": "Low DR opt",
        "tooltip": "",
        "place": "Select option",
        "group": "f40f13c5a159be0a",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Off",
                "value": "0",
                "type": "str"
            },
            {
                "label": "ON",
                "value": "1",
                "type": "str"
            },
            {
                "label": "Auto (1 when SF11 or SF12, 0 otherwise)",
                "value": "2",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "lowdropt",
        "x": 2170,
        "y": 620,
        "wires": [
            [
                "9f05665804040afe"
            ]
        ]
    },
    {
        "id": "94ed6fd0b7a4ac7c",
        "type": "inject",
        "z": "beea6254a1476ad4",
        "name": "lowdropt",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "lowdropt",
        "payload": "2",
        "payloadType": "str",
        "x": 1820,
        "y": 620,
        "wires": [
            [
                "5becb8add09a7ef5"
            ]
        ]
    },
    {
        "id": "b28543ce84ccd7cc",
        "type": "ui_text",
        "z": "beea6254a1476ad4",
        "group": "f40f13c5a159be0a",
        "order": 13,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1590,
        "y": 720,
        "wires": []
    },
    {
        "id": "483e8bce91217dd3",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "Wait msg ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please wait the end of the frames",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 740,
        "wires": [
            [
                "b28543ce84ccd7cc"
            ]
        ]
    },
    {
        "id": "32390a56c52f59f2",
        "type": "change",
        "z": "beea6254a1476ad4",
        "name": "Wait msg OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 780,
        "wires": [
            [
                "b28543ce84ccd7cc"
            ]
        ]
    },
    {
        "id": "69d36534e2da5f19",
        "type": "ui_dropdown",
        "z": "c9320097655cf10e",
        "name": "",
        "label": "Bandwidth",
        "tooltip": "",
        "place": "Select option",
        "group": "08dfd1895e2865d7",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "7.8125 KHz",
                "value": "0",
                "type": "str"
            },
            {
                "label": "15.625 KHz",
                "value": "1",
                "type": "str"
            },
            {
                "label": "31.25 KHz",
                "value": "3",
                "type": "str"
            },
            {
                "label": "62.5 KHz",
                "value": "2",
                "type": "str"
            },
            {
                "label": "125 KHz",
                "value": "4",
                "type": "str"
            },
            {
                "label": "250 KHz",
                "value": "5",
                "type": "str"
            },
            {
                "label": "500 KHz",
                "value": "6",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "B",
        "x": 2310,
        "y": 380,
        "wires": [
            [
                "3047868db6f49339"
            ]
        ]
    },
    {
        "id": "dcd81bcf7ef1f903",
        "type": "ui_dropdown",
        "z": "c9320097655cf10e",
        "name": "",
        "label": "Spreading factor",
        "tooltip": "",
        "place": "Select option",
        "group": "08dfd1895e2865d7",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "5 bit/s",
                "value": "5",
                "type": "str"
            },
            {
                "label": "6 bit/s",
                "value": "6",
                "type": "str"
            },
            {
                "label": "7 bit/s",
                "value": "7",
                "type": "str"
            },
            {
                "label": "8 bit/s",
                "value": "8",
                "type": "str"
            },
            {
                "label": "9 bit/s",
                "value": "9",
                "type": "str"
            },
            {
                "label": "10 bit/s",
                "value": "10",
                "type": "str"
            },
            {
                "label": "11 bit/s",
                "value": "11",
                "type": "str"
            },
            {
                "label": "12 bit/s",
                "value": "12",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "SF",
        "x": 2320,
        "y": 440,
        "wires": [
            [
                "3047868db6f49339"
            ]
        ]
    },
    {
        "id": "b3a76db8d74833a7",
        "type": "ui_dropdown",
        "z": "c9320097655cf10e",
        "name": "",
        "label": "Coding Rate                 ",
        "tooltip": "",
        "place": "Select option",
        "group": "08dfd1895e2865d7",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "4/5",
                "value": "4/5",
                "type": "str"
            },
            {
                "label": "4/6",
                "value": "4/6",
                "type": "str"
            },
            {
                "label": "4/7",
                "value": "4/7",
                "type": "str"
            },
            {
                "label": "4/8",
                "value": "4/8",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "CR",
        "x": 2310,
        "y": 500,
        "wires": [
            [
                "3047868db6f49339"
            ]
        ]
    },
    {
        "id": "7c330d2591c51f78",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "Bandwidth",
        "props": [
            {
                "p": "payload",
                "v": "4",
                "vt": "str"
            },
            {
                "p": "topic",
                "v": "B",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "B",
        "payload": "4",
        "payloadType": "str",
        "x": 1970,
        "y": 380,
        "wires": [
            [
                "69d36534e2da5f19"
            ]
        ]
    },
    {
        "id": "c367e373e20ebc0c",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "Spreading Factor",
        "props": [
            {
                "p": "payload",
                "v": "12",
                "vt": "str"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "12",
        "payloadType": "str",
        "x": 1990,
        "y": 440,
        "wires": [
            [
                "dcd81bcf7ef1f903"
            ]
        ]
    },
    {
        "id": "be2dcd5a394644bf",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "Coding Rate",
        "props": [
            {
                "p": "payload",
                "v": "4/6",
                "vt": "str"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "4/6",
        "payloadType": "str",
        "x": 1972,
        "y": 501,
        "wires": [
            [
                "b3a76db8d74833a7"
            ]
        ]
    },
    {
        "id": "3047868db6f49339",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2690,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "ec2f59a24d8dee94",
        "type": "link in",
        "z": "c9320097655cf10e",
        "name": "CTRL",
        "links": [
            "0a76570a4638a057"
        ],
        "x": 1995,
        "y": 280,
        "wires": [
            [
                "b3a76db8d74833a7",
                "dcd81bcf7ef1f903",
                "69d36534e2da5f19",
                "b4618f2095efdee9",
                "fd6e4da9f34d8771",
                "0bd36eaacdbf7170",
                "dd92f183c57e1e4a",
                "82202445f76735ef",
                "383c2767a1f1b3f7",
                "bcf935359b84904b",
                "45cd461462f4069f",
                "53e0a6d8ae141e28",
                "5288e4e4e3557b86"
            ]
        ]
    },
    {
        "id": "6c19da5b7153e418",
        "type": "ui_switch",
        "z": "c9320097655cf10e",
        "name": "Lora Transmit",
        "label": "",
        "tooltip": "",
        "group": "08dfd1895e2865d7",
        "order": 12,
        "width": 6,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "transmit",
        "style": "",
        "onvalue": "start",
        "onvalueType": "str",
        "onicon": "fa-wifi fa-3x",
        "oncolor": "green",
        "offvalue": "stop",
        "offvalueType": "str",
        "officon": "fa-wifi fa-3x",
        "offcolor": "grey",
        "x": 1680,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "d7a659d107809d79",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "Format config A",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\") +\":\" + flow.get(\"B\") + \":\"  + flow.get(\"SF\")  + \":\"  + flow.get(\"CR\") + \":0:0:1:\" + flow.get(\"payloadlength\") + \":25000:\"  + flow.get(\"lowdropt\") + \":3\\n\";\nmsg.flow=\"LORAPER\";\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1360,
        "y": 220,
        "wires": [
            [
                "a4c1f2344a35ed8c"
            ]
        ]
    },
    {
        "id": "b821f55a2759e4f2",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "Start A",
        "func": "msg.payload=\"AT+TTX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"LORAPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1370,
        "y": 440,
        "wires": [
            [
                "a4c1f2344a35ed8c"
            ]
        ]
    },
    {
        "id": "9d33ca271a259e4a",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "stop cmd",
        "func": "msg.payload=\"AT+TOFF\\n\"\nmsg.flow=\"LORAPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1360,
        "y": 500,
        "wires": [
            [
                "a4c1f2344a35ed8c",
                "4109b6fd18e2fb1a"
            ]
        ]
    },
    {
        "id": "d5908acedcebde29",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"LORAPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1340,
        "y": 160,
        "wires": [
            [
                "a4c1f2344a35ed8c",
                "4109b6fd18e2fb1a"
            ]
        ]
    },
    {
        "id": "369f0868b2af7331",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "control",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 900,
        "wires": [
            [
                "0a76570a4638a057"
            ]
        ]
    },
    {
        "id": "9b2ea92bc094c28f",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 960,
        "wires": [
            [
                "0a76570a4638a057"
            ]
        ]
    },
    {
        "id": "9af8c0dac20c593c",
        "type": "finite-state-machine",
        "z": "c9320097655cf10e",
        "name": "LORA PER FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"CONFIGURING_A\":{\"ok_a\":\"CONFIGURING_B\",\"ok_b\":\"CONFIGURING_B\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"CONFIGURING_B\":{\"ok_a\":\"MEASURING\",\"ok_b\":\"MEASURING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"MEASURING\":{\"ok_a\":\"WAIT_END\",\"ok_b\":\"WAIT_END\",\"stop\":\"STOPPED\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"WAIT_END\":{\"ok_a\":\"STOPPING\",\"ok_b\":\"STOPPING\",\"stop\":\"OK\",\"resetok\":\"STOPPED\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"STOPPING\":{\"ok_a\":\"STOPPED_A\",\"ok_b\":\"STOPPED_B\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"STOPPED_A\":{\"ok_b\":\"STOPPED_OK\",\"ok_a\":\"STOPPED_A\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"STOPPED_B\":{\"ok_a\":\"STOPPED_OK\",\"ok_b\":\"STOPPED_B\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"STOPPED\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING_A\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"STOPPED_OK\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING_A\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 830,
        "y": 540,
        "wires": [
            [
                "f181a729ee08b935",
                "7d25bc2464425175",
                "7e05108c52b6f0d7"
            ]
        ]
    },
    {
        "id": "f181a729ee08b935",
        "type": "switch",
        "z": "c9320097655cf10e",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING_A",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING_B",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "MEASURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 8,
        "x": 1050,
        "y": 540,
        "wires": [
            [
                "d5908acedcebde29",
                "79511b2600940126"
            ],
            [
                "d7a659d107809d79",
                "86869ec5fdace8f3"
            ],
            [
                "88394f31fbc69f96"
            ],
            [
                "f99a9d069f3b3b05",
                "783d4ef148ef9d14",
                "79511b2600940126"
            ],
            [
                "9d33ca271a259e4a"
            ],
            [
                "e2d7eb3140bff20b",
                "43766aafe1ae11fa"
            ],
            [
                "e2d7eb3140bff20b",
                "43766aafe1ae11fa"
            ],
            [
                "e2d7eb3140bff20b",
                "43766aafe1ae11fa"
            ]
        ]
    },
    {
        "id": "24f9c4a544e33654",
        "type": "link in",
        "z": "c9320097655cf10e",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 175,
        "y": 440,
        "wires": [
            [
                "f478555c7201967d"
            ]
        ]
    },
    {
        "id": "e2d7eb3140bff20b",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "stop",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 740,
        "wires": [
            [
                "6c19da5b7153e418"
            ]
        ]
    },
    {
        "id": "86869ec5fdace8f3",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 700,
        "wires": [
            [
                "6c19da5b7153e418"
            ]
        ]
    },
    {
        "id": "0a76570a4638a057",
        "type": "link out",
        "z": "c9320097655cf10e",
        "name": "CTRL",
        "links": [
            "ec2f59a24d8dee94",
            "9a03bbe0571d564e",
            "b1640a15.bac4e8",
            "dd9ffc5a.b8275",
            "7737b873ccf3333e",
            "3bd2ed3ffeb7c094",
            "5b6e697c.076b78",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71"
        ],
        "x": 1595,
        "y": 920,
        "wires": []
    },
    {
        "id": "1e013549ef8d2984",
        "type": "comment",
        "z": "c9320097655cf10e",
        "name": "Radio icon",
        "info": "",
        "x": 1360,
        "y": 660,
        "wires": []
    },
    {
        "id": "f08ddc93560cd58e",
        "type": "comment",
        "z": "c9320097655cf10e",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1390,
        "y": 860,
        "wires": []
    },
    {
        "id": "f478555c7201967d",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "check flow A",
        "func": "if (msg.flow===\"LORAPER\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 310,
        "y": 440,
        "wires": [
            [
                "50f043831e90252f"
            ]
        ]
    },
    {
        "id": "2a4d4178e8fd28f5",
        "type": "debug",
        "z": "c9320097655cf10e",
        "name": "Result PER",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 990,
        "y": 340,
        "wires": []
    },
    {
        "id": "93da93c9107152c1",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "PER",
        "func": "var input = msg.payload ||\"\";\nvar pos= input.search(\"PER\");\nif (pos>1){\n    msg.payload=input.substring(pos+4);\n    flow.set(\"currentPER\", msg.payload);\n    return msg;\n} else {\nreturn null;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 690,
        "y": 320,
        "wires": [
            [
                "2a4d4178e8fd28f5",
                "4ddd0b6a7ab2d755"
            ]
        ]
    },
    {
        "id": "88394f31fbc69f96",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "Format config B",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\") +\":\" + flow.get(\"B\") + \":\"  + flow.get(\"SF\") + \":\" + flow.get(\"CR\") +\":0:0:1:\" + flow.get(\"payloadlength\") + \":25000:\"  + flow.get(\"lowdropt\") + \":3\\n\";\nmsg.flow=\"LORAPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1360,
        "y": 280,
        "wires": [
            [
                "4109b6fd18e2fb1a"
            ]
        ]
    },
    {
        "id": "a4c1f2344a35ed8c",
        "type": "link out",
        "z": "c9320097655cf10e",
        "name": "Serial Port A out",
        "links": [
            "852009e78874179a"
        ],
        "x": 1655,
        "y": 300,
        "wires": []
    },
    {
        "id": "4109b6fd18e2fb1a",
        "type": "link out",
        "z": "c9320097655cf10e",
        "name": "Serial Port B out",
        "links": [
            "33f3d0b3dcc7bd60"
        ],
        "x": 1655,
        "y": 380,
        "wires": []
    },
    {
        "id": "f99a9d069f3b3b05",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "Start B",
        "func": "msg.payload=\"AT+TRX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"LORAPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1330,
        "y": 340,
        "wires": [
            [
                "4109b6fd18e2fb1a"
            ]
        ]
    },
    {
        "id": "4ddd0b6a7ab2d755",
        "type": "ui_text",
        "z": "c9320097655cf10e",
        "group": "5ec891f027922fdf",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "PER Result",
        "label": "PER",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 990,
        "y": 300,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "3bbc95a3b5addad7",
        "type": "debug",
        "z": "c9320097655cf10e",
        "name": "Result RSSI",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 990,
        "y": 140,
        "wires": []
    },
    {
        "id": "8d0ba07edd7782ab",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "RSSI SNR",
        "func": "var input = msg.payload ||\"\";\nvar posRssi= input.search(\"RssiValue\");\nvar posdBm=input.search(\"dBm\");\nvar posSnrValue=input.search(\"SnrValue\");\n\nif (posRssi>1){\n    //save the values in temporary variables\n    msg.payload=input.substring(posRssi+10,posdBm+3);\n    flow.set(\"currentRSSItmp\",msg.payload);\n    flow.set(\"currentSNRtmp\",input.substring(posSnrValue+9));\n    return null;\n}\n    \n   \nvar posRX= input.search(\":Rx\");\nif (posRX>-1)\n{\n    // update the data and then clean the temporary variables \n    msg.payload=flow.get(\"currentRSSItmp\");\n    msg.topic=\"RSSI\";\n    flow.set(\"currentRSSI\",msg.payload);\n    flow.set(\"currentRSSItmp\",\"No packet\");\n\n    var snrMsg= { payload:flow.get(\"currentSNRtmp\")};\n    snrMsg.topic=\"SNR\";\n    flow.set(\"currentSNR\",snrMsg.payload);\n    flow.set(\"currentSNRtmp\",\"No packet\");\n    return [msg,snrMsg];\n} \n    \nreturn null;\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 200,
        "wires": [
            [
                "3bbc95a3b5addad7",
                "480a3f72e4509934"
            ],
            [
                "0d2196af58776b55",
                "507f533a520a395c"
            ]
        ]
    },
    {
        "id": "480a3f72e4509934",
        "type": "ui_text",
        "z": "c9320097655cf10e",
        "group": "5ec891f027922fdf",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "RSSI Result",
        "label": "RSSI",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 990,
        "y": 100,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "507f533a520a395c",
        "type": "debug",
        "z": "c9320097655cf10e",
        "name": "Result SNR",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 990,
        "y": 240,
        "wires": []
    },
    {
        "id": "0d2196af58776b55",
        "type": "ui_text",
        "z": "c9320097655cf10e",
        "group": "5ec891f027922fdf",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "SNR Result",
        "label": "SNR",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 990,
        "y": 200,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "50f043831e90252f",
        "type": "switch",
        "z": "c9320097655cf10e",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "result",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "undefined",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 510,
        "y": 460,
        "wires": [
            [
                "93da93c9107152c1",
                "8d0ba07edd7782ab",
                "4a3f483e133e9bfa"
            ],
            [],
            [
                "9af8c0dac20c593c"
            ]
        ]
    },
    {
        "id": "c0081a5dcdb9ec3c",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "Store Parameters",
        "func": "flow.set(msg.topic,msg.payload)\n\nif (flow.get(\"multiplefrequency\")===false){\n    msg.payload=\"Single Frequency  :\" + flow.get(\"startFreq\")+\"#\"+flow.get(\"iterations\");\n    return msg\n}\nelse\n{\n}\nif (flow.get(\"startFreq\")>flow.get(\"endFreq\"))\n{\n    msg.payload=\"startFreq is superior to endFreq:\"+flow.get(\"startFreq\") +\":\"+ flow.get(\"endFreq\");\n    return msg\n}\nelse\n{\n    msg.payload=\"Variable frequency :\" + flow.get(\"startFreq\")+\"#\"+flow.get(\"endFreq\")+\"#\"+flow.get(\"stepFreq\")+\", TXPower: \" + flow.get(\"txpower\");\n    return msg\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2710,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "3dad754544ffd2b8",
        "type": "finite-state-machine",
        "z": "c9320097655cf10e",
        "name": "Global",
        "fsmDefinition": "{\"state\":{\"status\":\"IDLE\"},\"transitions\":{\"IDLE\":{\"start\":\"RUN\",\"testdone\":\"IDLE\"},\"RUN\":{\"stop\":\"IDLE\",\"testdone\":\"RUN\",\"dotest\":\"RUN\",\"forcedstop\":\"IDLE\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 710,
        "y": 820,
        "wires": [
            [
                "de5dfad39ea0d2f6",
                "04daed70cf435adb"
            ]
        ]
    },
    {
        "id": "de5dfad39ea0d2f6",
        "type": "switch",
        "z": "c9320097655cf10e",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RUN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "IDLE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 820,
        "wires": [
            [
                "aef34ac702183743",
                "369f0868b2af7331"
            ],
            [
                "5b768d9b42570ade",
                "9b2ea92bc094c28f"
            ]
        ]
    },
    {
        "id": "b0dd6f3018f6c7a2",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "check flow B",
        "func": "if (msg.flow===\"LORAPER\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 310,
        "y": 500,
        "wires": [
            [
                "50f043831e90252f"
            ]
        ]
    },
    {
        "id": "4741c79fb43ac217",
        "type": "link in",
        "z": "c9320097655cf10e",
        "name": "",
        "links": [
            "f3dfe1e0131d23cd"
        ],
        "x": 175,
        "y": 500,
        "wires": [
            [
                "b0dd6f3018f6c7a2"
            ]
        ]
    },
    {
        "id": "9158625f18f35818",
        "type": "ui_table",
        "z": "c9320097655cf10e",
        "group": "5ec891f027922fdf",
        "name": "Table Results",
        "order": 6,
        "width": 12,
        "height": 4,
        "columns": [],
        "outputs": 0,
        "cts": false,
        "x": 1000,
        "y": 1120,
        "wires": []
    },
    {
        "id": "8ddc584a148754ce",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "ClearTable",
        "func": "msg.payload=[{\n        \"Frequency\":\"\",\n        \"Last RSSI\":\"\",\n        \"Last SNR\": \"\",\n        \"PER\": \"\"\n        }];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 750,
        "y": 1160,
        "wires": [
            [
                "9158625f18f35818"
            ]
        ]
    },
    {
        "id": "25aea519f1b128e7",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "addrow",
        "func": "msg.payload=\n{\n    command: \"addRow\",\n    arguments: [\n        {\n        \"Frequency\":flow.get(\"currentFrequency\")/1000000 + \" MHz\",\n        \"Last RSSI\":flow.get(\"currentRSSI\"),\n        \"Last SNR\": flow.get(\"currentSNR\"),\n        \"PER\": flow.get(\"currentPER\")\n        },\n        false\n    ],\n    returnPromise: true\n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 740,
        "y": 1080,
        "wires": [
            [
                "9158625f18f35818"
            ]
        ]
    },
    {
        "id": "45cd461462f4069f",
        "type": "ui_text_input",
        "z": "c9320097655cf10e",
        "name": "PER Frequency",
        "label": "Start PER Frequency (MHz)",
        "tooltip": "",
        "group": "6612dd0ebe2cee9f",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "startFreq",
        "x": 2320,
        "y": 860,
        "wires": [
            [
                "c0081a5dcdb9ec3c"
            ]
        ]
    },
    {
        "id": "383c2767a1f1b3f7",
        "type": "ui_text_input",
        "z": "c9320097655cf10e",
        "name": "Max PER Frequency",
        "label": "End PER Frequency (MHz)",
        "tooltip": "",
        "group": "6612dd0ebe2cee9f",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "endFreq",
        "x": 2340,
        "y": 900,
        "wires": [
            [
                "c0081a5dcdb9ec3c"
            ]
        ]
    },
    {
        "id": "82202445f76735ef",
        "type": "ui_text_input",
        "z": "c9320097655cf10e",
        "name": "Step PER Frequency",
        "label": "Step PER Frequency (MHz)",
        "tooltip": "",
        "group": "6612dd0ebe2cee9f",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "stepFreq",
        "x": 2340,
        "y": 960,
        "wires": [
            [
                "c0081a5dcdb9ec3c"
            ]
        ]
    },
    {
        "id": "0bd36eaacdbf7170",
        "type": "ui_switch",
        "z": "c9320097655cf10e",
        "name": "Multiple Frequency",
        "label": "Multiple Frequency",
        "tooltip": "",
        "group": "08dfd1895e2865d7",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "multiplefrequency",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 2330,
        "y": 1080,
        "wires": [
            [
                "c0081a5dcdb9ec3c",
                "0f7c03ca1066aebb"
            ]
        ]
    },
    {
        "id": "dd92f183c57e1e4a",
        "type": "ui_text_input",
        "z": "c9320097655cf10e",
        "name": "Iterations",
        "label": "Iterations",
        "tooltip": "",
        "group": "588b0b17028652cd",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "iterations",
        "x": 2300,
        "y": 1020,
        "wires": [
            [
                "c0081a5dcdb9ec3c"
            ]
        ]
    },
    {
        "id": "38d93feaf8ab7673",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "Step",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "step",
        "payload": "0.2",
        "payloadType": "num",
        "x": 1950,
        "y": 960,
        "wires": [
            [
                "82202445f76735ef"
            ]
        ]
    },
    {
        "id": "c6c543c50f5b0d9c",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "Max Freq",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "maxfreq",
        "payload": "864",
        "payloadType": "num",
        "x": 1960,
        "y": 900,
        "wires": [
            [
                "383c2767a1f1b3f7"
            ]
        ]
    },
    {
        "id": "83a33cd9bbfda871",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "Iterations",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "iteration",
        "payload": "5",
        "payloadType": "num",
        "x": 1960,
        "y": 1020,
        "wires": [
            [
                "dd92f183c57e1e4a"
            ]
        ]
    },
    {
        "id": "e17c1263d7c18044",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "Variable",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "fixorvariable",
        "payload": "true",
        "payloadType": "bool",
        "x": 1960,
        "y": 1080,
        "wires": [
            [
                "0bd36eaacdbf7170"
            ]
        ]
    },
    {
        "id": "fc31c438fe29b092",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "TX Power",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "txpower",
        "payload": "0",
        "payloadType": "num",
        "x": 1960,
        "y": 740,
        "wires": [
            [
                "b4618f2095efdee9"
            ]
        ]
    },
    {
        "id": "c3d115a235da2a81",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "Start Freq",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "startfreq",
        "payload": "863",
        "payloadType": "num",
        "x": 1970,
        "y": 840,
        "wires": [
            [
                "45cd461462f4069f",
                "bcf935359b84904b"
            ]
        ]
    },
    {
        "id": "31c20d2242ab4f28",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "FrameNumber",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "cycle",
        "payload": "5",
        "payloadType": "num",
        "x": 1980,
        "y": 680,
        "wires": [
            [
                "fd6e4da9f34d8771"
            ]
        ]
    },
    {
        "id": "3781629e63c946f6",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "display multiple F",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_LORA_PER_Single_Frequency\"],\"show\":[\"RF_test_LORA_PER_Multiple_Frequencies\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2890,
        "y": 1060,
        "wires": [
            [
                "f89def2281375339"
            ]
        ]
    },
    {
        "id": "f89def2281375339",
        "type": "ui_ui_control",
        "z": "c9320097655cf10e",
        "name": "UI ctrl",
        "events": "all",
        "x": 3070,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "6859c4a04500bc5e",
        "type": "switch",
        "z": "c9320097655cf10e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2710,
        "y": 1080,
        "wires": [
            [
                "3781629e63c946f6"
            ],
            [
                "e29acc9911c5b451"
            ]
        ]
    },
    {
        "id": "e29acc9911c5b451",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "display single F",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_LORA_PER_Multiple_Frequencies\"],\"show\":[\"RF_test_LORA_PER_Single_Frequency\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2880,
        "y": 1100,
        "wires": [
            [
                "f89def2281375339"
            ]
        ]
    },
    {
        "id": "bcf935359b84904b",
        "type": "ui_text_input",
        "z": "c9320097655cf10e",
        "name": " Single PER Frequency",
        "label": "PER Frequency (MHz)",
        "tooltip": "",
        "group": "588b0b17028652cd",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "singleFreq",
        "x": 2340,
        "y": 820,
        "wires": [
            [
                "c0081a5dcdb9ec3c"
            ]
        ]
    },
    {
        "id": "b4618f2095efdee9",
        "type": "ui_text_input",
        "z": "c9320097655cf10e",
        "name": "TX Power",
        "label": "TX Power (dBm)",
        "tooltip": "Min -9, Max 22",
        "group": "08dfd1895e2865d7",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "txpower",
        "x": 2300,
        "y": 740,
        "wires": [
            [
                "c0081a5dcdb9ec3c"
            ]
        ]
    },
    {
        "id": "fd6e4da9f34d8771",
        "type": "ui_text_input",
        "z": "c9320097655cf10e",
        "name": "Number of Frames",
        "label": "Number of Frames",
        "tooltip": "",
        "group": "08dfd1895e2865d7",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "cycle",
        "x": 2330,
        "y": 680,
        "wires": [
            [
                "c0081a5dcdb9ec3c"
            ]
        ]
    },
    {
        "id": "887ccfda9f1e86a5",
        "type": "link in",
        "z": "c9320097655cf10e",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 275,
        "y": 1360,
        "wires": [
            [
                "94605683434c2c81"
            ]
        ]
    },
    {
        "id": "94605683434c2c81",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "check flow A",
        "func": "if (msg.flow===\"LORAPER\" || msg.flow===\"ALL\") {\n    \n    if (msg.topic==\"connect\")\n    {\n        msg.topic=\"connect_a\";\n    }\n    \n    if (msg.topic==\"disconnect\")\n    {\n        msg.topic=\"disconnect_a\";\n    }\n    \nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 410,
        "y": 1360,
        "wires": [
            [
                "7bf58dcbb8b7e080"
            ]
        ]
    },
    {
        "id": "798de781e385f640",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "check flow B",
        "func": "if (msg.flow===\"LORAPER\" || msg.flow===\"ALL\") {\n    \n        if (msg.topic==\"connect\")\n    {\n        msg.topic=\"connect_b\";\n    }\n    \n    if (msg.topic==\"disconnect\")\n    {\n        msg.topic=\"disconnect_b\";\n    }\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 410,
        "y": 1440,
        "wires": [
            [
                "7bf58dcbb8b7e080"
            ]
        ]
    },
    {
        "id": "be13a2d2e0e88169",
        "type": "link in",
        "z": "c9320097655cf10e",
        "name": "",
        "links": [
            "f3dfe1e0131d23cd"
        ],
        "x": 275,
        "y": 1440,
        "wires": [
            [
                "798de781e385f640"
            ]
        ]
    },
    {
        "id": "7bf58dcbb8b7e080",
        "type": "switch",
        "z": "c9320097655cf10e",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "connect_a",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "connect_b",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "disconnect_a",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "disconnect_b",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 610,
        "y": 1400,
        "wires": [
            [
                "88f9b991550810f7"
            ],
            [
                "88f9b991550810f7"
            ],
            [
                "88f9b991550810f7"
            ],
            [
                "88f9b991550810f7"
            ],
            []
        ]
    },
    {
        "id": "88f9b991550810f7",
        "type": "finite-state-machine",
        "z": "c9320097655cf10e",
        "name": "Connection Status",
        "fsmDefinition": "{\"state\":{\"status\":\"UNKNOWN\"},\"transitions\":{\"UNKNOWN\":{\"d\":\"DISCONNECTED_AB\",\"connect_a\":\"CONNECTED_A\",\"connect_b\":\"CONNECTED_B\",\"disconnect_a\":\"DISCONNECTED_A\",\"disconnect_b\":\"DISCONNECTED_B\"},\"CONNECTED_A\":{\"connect_b\":\"CONNECTED_AB\",\"disconnect_a\":\"DISCONNECTED_AB\",\"disconnect_b\":\"DISCONNECTED_A\"},\"CONNECTED_B\":{\"connect_a\":\"CONNECTED_AB\",\"disconnect_b\":\"DISCONNECTED_AB\",\"disconnect_a\":\"DISCONNECTED_B\"},\"CONNECTED_AB\":{\"disconnect_b\":\"CONNECTED_A\",\"disconnect_a\":\"CONNECTED_B\"},\"DISCONNECTED_AB\":{\"connect_a\":\"CONNECTED_A\",\"connect_b\":\"CONNECTED_B\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": false,
        "showTransitionErrors": true,
        "x": 830,
        "y": 1400,
        "wires": [
            [
                "680854834d91485c"
            ]
        ]
    },
    {
        "id": "680854834d91485c",
        "type": "switch",
        "z": "c9320097655cf10e",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "CONNECTED_AB",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 1400,
        "wires": [
            [
                "f51a58bcee7c5dfa"
            ],
            [
                "ee3cd3e2c599218d"
            ]
        ]
    },
    {
        "id": "f51a58bcee7c5dfa",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "Turn LED green",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 1380,
        "wires": [
            [
                "9af5c0183c90c083"
            ]
        ]
    },
    {
        "id": "ee3cd3e2c599218d",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "Turn LED red",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 1420,
        "wires": [
            [
                "9af5c0183c90c083"
            ]
        ]
    },
    {
        "id": "9af5c0183c90c083",
        "type": "ui_led",
        "z": "c9320097655cf10e",
        "order": 11,
        "group": "08dfd1895e2865d7",
        "width": 6,
        "height": 1,
        "label": "Connection status :",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Connection status",
        "x": 1510,
        "y": 1400,
        "wires": []
    },
    {
        "id": "4b0e54818c5c13ff",
        "type": "comment",
        "z": "c9320097655cf10e",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1990,
        "y": 180,
        "wires": []
    },
    {
        "id": "015ea47dcd51e0c9",
        "type": "comment",
        "z": "c9320097655cf10e",
        "name": "Group Parameters",
        "info": "",
        "x": 2190,
        "y": 180,
        "wires": []
    },
    {
        "id": "118dd726dc58b938",
        "type": "comment",
        "z": "c9320097655cf10e",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1990,
        "y": 780,
        "wires": []
    },
    {
        "id": "3cfa8591e9accac0",
        "type": "comment",
        "z": "c9320097655cf10e",
        "name": "Group multiple & single frequencies",
        "info": "",
        "x": 2240,
        "y": 780,
        "wires": []
    },
    {
        "id": "e3c166eb2168cf2c",
        "type": "comment",
        "z": "c9320097655cf10e",
        "name": "Group Results",
        "info": "",
        "x": 990,
        "y": 40,
        "wires": []
    },
    {
        "id": "b89e7f8a5706a843",
        "type": "comment",
        "z": "c9320097655cf10e",
        "name": "Boards connections management",
        "info": "",
        "x": 850,
        "y": 1340,
        "wires": []
    },
    {
        "id": "72fc02b7a8e852f0",
        "type": "comment",
        "z": "c9320097655cf10e",
        "name": "PER Test management",
        "info": "",
        "x": 820,
        "y": 460,
        "wires": []
    },
    {
        "id": "f99fb904aeefb9e6",
        "type": "comment",
        "z": "c9320097655cf10e",
        "name": "Frequency management",
        "info": "",
        "x": 710,
        "y": 740,
        "wires": []
    },
    {
        "id": "4a3f483e133e9bfa",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "Frames counter",
        "func": "var input = msg.payload ||\"\";\n\nvar posRX= input.search(\":Rx\");\nif (posRX>-1)\n{\n    var posOf = input.search(\"of\");\n    var pos3xSup = input.search(\">>>\");\n    var nb1=input.substring(posRX+4, posOf-1);\n    var nb2=input.substring(posOf+3, pos3xSup-2);\n    msg.payload=nb1+\"/\"+nb2;\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 740,
        "y": 400,
        "wires": [
            [
                "900e5aa1c9bc4ca6"
            ]
        ]
    },
    {
        "id": "900e5aa1c9bc4ca6",
        "type": "ui_text",
        "z": "c9320097655cf10e",
        "group": "5ec891f027922fdf",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "Frames counter",
        "label": "Frames counter",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1000,
        "y": 400,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "9251769115e6c6f1",
        "type": "ui_button",
        "z": "c9320097655cf10e",
        "name": "Start",
        "group": "08dfd1895e2865d7",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 510,
        "y": 1160,
        "wires": [
            [
                "a3f755c1e2ce8eb5",
                "8ddc584a148754ce",
                "3f808f6cd3944259"
            ]
        ]
    },
    {
        "id": "08faf5cd39240a2f",
        "type": "ui_button",
        "z": "c9320097655cf10e",
        "name": "Stop",
        "group": "08dfd1895e2865d7",
        "order": 10,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 510,
        "y": 1240,
        "wires": [
            [
                "3f808f6cd3944259",
                "fd677f985b92a599"
            ]
        ]
    },
    {
        "id": "ff82ec2eb114b74c",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1260,
        "wires": [
            [
                "08faf5cd39240a2f"
            ]
        ]
    },
    {
        "id": "912980bf11101634",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1180,
        "wires": [
            [
                "9251769115e6c6f1"
            ]
        ]
    },
    {
        "id": "439710ce860abb85",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1140,
        "wires": [
            [
                "9251769115e6c6f1"
            ]
        ]
    },
    {
        "id": "d638d45dc8d1e4d7",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1220,
        "wires": [
            [
                "08faf5cd39240a2f"
            ]
        ]
    },
    {
        "id": "e70a1f1d3d5ff07d",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "init",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payloadType": "date",
        "x": 110,
        "y": 1120,
        "wires": [
            [
                "ff82ec2eb114b74c",
                "439710ce860abb85",
                "88f9b991550810f7"
            ]
        ]
    },
    {
        "id": "783d4ef148ef9d14",
        "type": "delay",
        "z": "c9320097655cf10e",
        "name": "100ms",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1330,
        "y": 400,
        "wires": [
            [
                "b821f55a2759e4f2"
            ]
        ]
    },
    {
        "id": "a3f755c1e2ce8eb5",
        "type": "link out",
        "z": "c9320097655cf10e",
        "name": "Start",
        "links": [
            "89e60c03b38d67e0"
        ],
        "x": 635,
        "y": 1180,
        "wires": []
    },
    {
        "id": "89e60c03b38d67e0",
        "type": "link in",
        "z": "c9320097655cf10e",
        "name": "start",
        "links": [
            "a3f755c1e2ce8eb5"
        ],
        "x": 115,
        "y": 1240,
        "wires": [
            [
                "d638d45dc8d1e4d7",
                "912980bf11101634"
            ]
        ]
    },
    {
        "id": "ec317be442273ae3",
        "type": "link in",
        "z": "c9320097655cf10e",
        "name": "stop",
        "links": [
            "5b768d9b42570ade",
            "b573b69.2452b48"
        ],
        "x": 115,
        "y": 1180,
        "wires": [
            [
                "439710ce860abb85",
                "ff82ec2eb114b74c"
            ]
        ]
    },
    {
        "id": "5b768d9b42570ade",
        "type": "link out",
        "z": "c9320097655cf10e",
        "name": "stop",
        "links": [
            "ec317be442273ae3"
        ],
        "x": 1015,
        "y": 900,
        "wires": []
    },
    {
        "id": "79511b2600940126",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "Empty payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 600,
        "wires": [
            [
                "082026348fb76251"
            ]
        ]
    },
    {
        "id": "7d25bc2464425175",
        "type": "debug",
        "z": "c9320097655cf10e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1050,
        "y": 640,
        "wires": []
    },
    {
        "id": "04daed70cf435adb",
        "type": "debug",
        "z": "c9320097655cf10e",
        "name": "top FSM",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 880,
        "y": 880,
        "wires": []
    },
    {
        "id": "56cf04e3f48e97ef",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "unexpected stop",
        "func": "msg.topic=\"forcedstop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 460,
        "y": 780,
        "wires": [
            [
                "3dad754544ffd2b8"
            ]
        ]
    },
    {
        "id": "a6a777bb4aceb676",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "PrepareNextRun",
        "func": "flow.set(\"I\",flow.get(\"I\")+1);\nif (flow.get(\"multiplefrequency\")===false)\n{   \n    if (flow.get(\"I\")>=flow.get(\"iterations\"))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n    }\n}\nelse\n{\n    // case frequency variable\n    currentFrequency= (flow.get(\"startFreq\")+flow.get(\"stepFreq\")*flow.get(\"I\"))*1000000;\n    flow.set(\"currentFrequency\",currentFrequency);\n    if (currentFrequency> (flow.get(\"endFreq\")*1000000))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 840,
        "wires": [
            [
                "3dad754544ffd2b8"
            ]
        ]
    },
    {
        "id": "aef34ac702183743",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "start new test",
        "func": "msg.topic=\"start\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1070,
        "y": 780,
        "wires": [
            [
                "9af8c0dac20c593c"
            ]
        ]
    },
    {
        "id": "7e05108c52b6f0d7",
        "type": "switch",
        "z": "c9320097655cf10e",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 190,
        "y": 840,
        "wires": [
            [
                "56cf04e3f48e97ef"
            ],
            [
                "25aea519f1b128e7",
                "a6a777bb4aceb676"
            ]
        ]
    },
    {
        "id": "3ec31e8fe2f27f2a",
        "type": "link in",
        "z": "c9320097655cf10e",
        "name": "clear results",
        "links": [
            "082026348fb76251"
        ],
        "x": 775,
        "y": 260,
        "wires": [
            [
                "480a3f72e4509934",
                "0d2196af58776b55",
                "4ddd0b6a7ab2d755",
                "900e5aa1c9bc4ca6"
            ]
        ]
    },
    {
        "id": "082026348fb76251",
        "type": "link out",
        "z": "c9320097655cf10e",
        "name": "clear results",
        "links": [
            "3ec31e8fe2f27f2a"
        ],
        "x": 1515,
        "y": 600,
        "wires": []
    },
    {
        "id": "9d0f2d586fc46142",
        "type": "comment",
        "z": "c9320097655cf10e",
        "name": "Clear results",
        "info": "",
        "x": 1370,
        "y": 560,
        "wires": []
    },
    {
        "id": "3f808f6cd3944259",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "Initialisation",
        "func": "flow.set(\"I\",0);\nif (flow.get(\"multiplefrequency\")===false)\n{   \n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n}\nelse\n{\n    // case frequency variable\n    flow.set(\"currentFrequency\",flow.get(\"startFreq\")*1000000);\n}\nmsg.topic=msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 750,
        "y": 1000,
        "wires": [
            [
                "3dad754544ffd2b8"
            ]
        ]
    },
    {
        "id": "0f7c03ca1066aebb",
        "type": "function",
        "z": "c9320097655cf10e",
        "name": "filter control msg",
        "func": "if (msg.enabled!==undefined) {\n    // do not forward the enable/disable messages\n    return null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2540,
        "y": 1080,
        "wires": [
            [
                "6859c4a04500bc5e"
            ]
        ]
    },
    {
        "id": "efb9e74485f2f882",
        "type": "link in",
        "z": "c9320097655cf10e",
        "name": "multiFreq",
        "links": [
            "b02ffd7854ff3256"
        ],
        "x": 1995,
        "y": 1140,
        "wires": [
            [
                "0bd36eaacdbf7170"
            ]
        ]
    },
    {
        "id": "5288e4e4e3557b86",
        "type": "ui_dropdown",
        "z": "c9320097655cf10e",
        "name": "",
        "label": "Low DR opt",
        "tooltip": "",
        "place": "Select option",
        "group": "08dfd1895e2865d7",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Off",
                "value": "0",
                "type": "str"
            },
            {
                "label": "ON",
                "value": "1",
                "type": "str"
            },
            {
                "label": "Auto (1 when SF11 or SF12, 0 otherwise)",
                "value": "2",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "lowdropt",
        "x": 2310,
        "y": 620,
        "wires": [
            [
                "3047868db6f49339"
            ]
        ]
    },
    {
        "id": "840c8d4d90676209",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "lowdropt",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "lowdropt",
        "payload": "2",
        "payloadType": "str",
        "x": 1960,
        "y": 620,
        "wires": [
            [
                "5288e4e4e3557b86"
            ]
        ]
    },
    {
        "id": "6794e6af981cb847",
        "type": "inject",
        "z": "c9320097655cf10e",
        "name": "Payload length",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "payloadlength",
        "payload": "16",
        "payloadType": "num",
        "x": 1980,
        "y": 560,
        "wires": [
            [
                "53e0a6d8ae141e28"
            ]
        ]
    },
    {
        "id": "53e0a6d8ae141e28",
        "type": "ui_text_input",
        "z": "c9320097655cf10e",
        "name": "Payload length",
        "label": "Payload length (bit)",
        "tooltip": "1 to 256 bits",
        "group": "08dfd1895e2865d7",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "payloadlength",
        "x": 2320,
        "y": 560,
        "wires": [
            [
                "3047868db6f49339"
            ]
        ]
    },
    {
        "id": "fd677f985b92a599",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "Wait msg ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please wait the end of the frames",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 780,
        "wires": [
            [
                "677e7cb67c782a97"
            ]
        ]
    },
    {
        "id": "43766aafe1ae11fa",
        "type": "change",
        "z": "c9320097655cf10e",
        "name": "Wait msg OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 820,
        "wires": [
            [
                "677e7cb67c782a97"
            ]
        ]
    },
    {
        "id": "677e7cb67c782a97",
        "type": "ui_text",
        "z": "c9320097655cf10e",
        "group": "5ec891f027922fdf",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1590,
        "y": 820,
        "wires": []
    },
    {
        "id": "1528a662ffb48b7b",
        "type": "inject",
        "z": "1995875a31c6f417",
        "name": "Bandwidth",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "B",
        "payload": "75",
        "payloadType": "num",
        "x": 1990,
        "y": 400,
        "wires": [
            [
                "9c13b6818f84b979"
            ]
        ]
    },
    {
        "id": "e0d166e5dffbc861",
        "type": "inject",
        "z": "1995875a31c6f417",
        "name": "Freq deviation",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "FreqDev",
        "payload": "25",
        "payloadType": "num",
        "x": 2000,
        "y": 580,
        "wires": [
            [
                "6133b375f6eb6942"
            ]
        ]
    },
    {
        "id": "ef78c44062a3d45f",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2690,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "a2ad953182b52f0b",
        "type": "link in",
        "z": "1995875a31c6f417",
        "name": "CTRL",
        "links": [
            "61d92dc566c0e429"
        ],
        "x": 2015,
        "y": 300,
        "wires": [
            [
                "c4fb71f9024a2661",
                "b8108aebc4ef29de",
                "4380e249d70f2fb4",
                "b2470e1efd24d11d",
                "9c13b6818f84b979",
                "6133b375f6eb6942",
                "c23a4996a0170121",
                "a870d2186c1da283"
            ]
        ]
    },
    {
        "id": "0dfd83d032d65510",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "stop cmd",
        "func": "msg.payload=\"AT+TOFF\\n\"\nmsg.flow=\"FSKRX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1240,
        "y": 400,
        "wires": [
            [
                "f5beeeadddab40ef"
            ]
        ]
    },
    {
        "id": "30fa20e213ff29bc",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"FSKRX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1240,
        "y": 220,
        "wires": [
            [
                "f5beeeadddab40ef"
            ]
        ]
    },
    {
        "id": "43bafde8fd65f4d6",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "control",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 880,
        "wires": [
            [
                "61d92dc566c0e429"
            ]
        ]
    },
    {
        "id": "c4fdd1435d3986d0",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 940,
        "wires": [
            [
                "61d92dc566c0e429"
            ]
        ]
    },
    {
        "id": "8b0d1e09fd8558bf",
        "type": "finite-state-machine",
        "z": "1995875a31c6f417",
        "name": "FSK RX FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"connect\":\"INIT\",\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"CONFIGURING\":{\"ok_a\":\"MEASURING\",\"ok_b\":\"MEASURING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"MEASURING\":{\"ok_a\":\"STOPPED_OK\",\"ok_b\":\"STOPPED_OK\",\"result\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPING\"},\"STOPPING\":{\"ok_b\":\"STOPPED\"},\"STOPPED\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\"},\"STOPPED_OK\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"WAIT\":{\"stop\":\"STOPPED_OK\",\"next\":\"STARTING\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 640,
        "y": 520,
        "wires": [
            [
                "11934b70cb8c6a67",
                "c59518ad73cc8270"
            ]
        ]
    },
    {
        "id": "11934b70cb8c6a67",
        "type": "switch",
        "z": "1995875a31c6f417",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "MEASURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 950,
        "y": 500,
        "wires": [
            [
                "30fa20e213ff29bc",
                "56a79f025d7586bd",
                "bc5c2465392c792b"
            ],
            [
                "d6bbd0f138df077d",
                "02d68f0899d61a4e"
            ],
            [
                "52a9e78bd4574447",
                "56a79f025d7586bd",
                "02d68f0899d61a4e"
            ],
            [
                "0dfd83d032d65510",
                "23fce2f47081faad"
            ],
            [
                "27ab6e139b0c79a8",
                "379f1264061f3feb"
            ],
            [
                "27ab6e139b0c79a8",
                "379f1264061f3feb"
            ],
            [
                "27ab6e139b0c79a8",
                "7d633c8d51c22048",
                "379f1264061f3feb"
            ]
        ]
    },
    {
        "id": "61d92dc566c0e429",
        "type": "link out",
        "z": "1995875a31c6f417",
        "name": "CTRL",
        "links": [
            "a2ad953182b52f0b",
            "9a03bbe0571d564e",
            "b1640a15.bac4e8",
            "dd9ffc5a.b8275",
            "7737b873ccf3333e",
            "3bd2ed3ffeb7c094",
            "5b6e697c.076b78",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71"
        ],
        "x": 1455,
        "y": 920,
        "wires": []
    },
    {
        "id": "c3ead36f227fe6c6",
        "type": "comment",
        "z": "1995875a31c6f417",
        "name": "Radio icon",
        "info": "",
        "x": 1240,
        "y": 540,
        "wires": []
    },
    {
        "id": "54662c15a9862fe5",
        "type": "comment",
        "z": "1995875a31c6f417",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1290,
        "y": 820,
        "wires": []
    },
    {
        "id": "27f5814b0d851b1b",
        "type": "debug",
        "z": "1995875a31c6f417",
        "name": "Result PER",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 890,
        "y": 340,
        "wires": []
    },
    {
        "id": "f82abe5ea3b4311f",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "PER",
        "func": "var input = msg.payload ||\"\";\nvar pos= input.search(\"PER\");\nif (pos>1){\n    msg.payload=input.substring(pos+4);\n    flow.set(\"currentPER\", msg.payload);\n    return msg;\n} else {\nreturn null;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 590,
        "y": 320,
        "wires": [
            [
                "27f5814b0d851b1b",
                "e9d88d8e1863aa82"
            ]
        ]
    },
    {
        "id": "d6bbd0f138df077d",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "Format config B",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\") +\":\" + flow.get(\"B\")*1000 + \":\" + flow.get(\"DR\") + \":4/5:0:0:0:\" + flow.get(\"payloadlength\") +\":\" + flow.get(\"FreqDev\")*1000 +\":2:\" + flow.get(\"BWT\") +\"\\n\";\nmsg.flow=\"FSKRX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1260,
        "y": 280,
        "wires": [
            [
                "f5beeeadddab40ef"
            ]
        ]
    },
    {
        "id": "f5beeeadddab40ef",
        "type": "link out",
        "z": "1995875a31c6f417",
        "name": "Serial Port B out",
        "links": [
            "33f3d0b3dcc7bd60"
        ],
        "x": 1535,
        "y": 320,
        "wires": []
    },
    {
        "id": "52a9e78bd4574447",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "Start B",
        "func": "msg.payload=\"AT+TRX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"FSKRX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1230,
        "y": 340,
        "wires": [
            [
                "f5beeeadddab40ef"
            ]
        ]
    },
    {
        "id": "e9d88d8e1863aa82",
        "type": "ui_text",
        "z": "1995875a31c6f417",
        "group": "3ef6baa638acd345",
        "order": 16,
        "width": 0,
        "height": 0,
        "name": "PER Result",
        "label": "PER",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 890,
        "y": 300,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "f9aabc9f5b550362",
        "type": "debug",
        "z": "1995875a31c6f417",
        "name": "Result RSSI",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 890,
        "y": 140,
        "wires": []
    },
    {
        "id": "e0a39ec483e3485c",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "RSSI SNR",
        "func": "var input = msg.payload ||\"\";\nvar posRssi= input.search(\"RssiValue\");\nvar posdBm=input.search(\"dBm\");\nvar posSnrValue=input.search(\"SnrValue\");\n\nif (posRssi>1){\n    //save the values in temporary variables\n    msg.payload=input.substring(posRssi+10,posdBm);\n    flow.set(\"currentRSSItmp\",msg.payload);\n    flow.set(\"currentSNRtmp\",input.substring(posSnrValue+9));\n    return null;\n}\n    \n   \nvar posRX= input.search(\":Rx\");\nif (posRX>-1)\n{\n    // update the data and then clean the temporary variables \n    msg.payload=flow.get(\"currentRSSItmp\");\n    msg.topic=\"RSSI\";\n    flow.set(\"currentRSSI\",msg.payload);\n    flow.set(\"currentRSSItmp\",\"No packet\");\n\n    var snrMsg= { payload:flow.get(\"currentSNRtmp\")};\n    snrMsg.topic=\"SNR\";\n    flow.set(\"currentSNR\",snrMsg.payload);\n    flow.set(\"currentSNRtmp\",\"No packet\");\n    return [msg,snrMsg];\n} \n    \nreturn null;\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 590,
        "y": 200,
        "wires": [
            [
                "f9aabc9f5b550362",
                "1ef676d72fe35f3f"
            ],
            [
                "b58b95bf9b9507c0",
                "45adb7e4419258d5"
            ]
        ]
    },
    {
        "id": "1ef676d72fe35f3f",
        "type": "ui_text",
        "z": "1995875a31c6f417",
        "group": "3ef6baa638acd345",
        "order": 15,
        "width": 0,
        "height": 0,
        "name": "RSSI Result",
        "label": "RSSI (dBm)",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 890,
        "y": 100,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "45adb7e4419258d5",
        "type": "debug",
        "z": "1995875a31c6f417",
        "name": "Result SNR",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 890,
        "y": 240,
        "wires": []
    },
    {
        "id": "b58b95bf9b9507c0",
        "type": "ui_text",
        "z": "1995875a31c6f417",
        "group": "3ef6baa638acd345",
        "order": 17,
        "width": 0,
        "height": 0,
        "name": "SNR Result",
        "label": "SNR",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 890,
        "y": 200,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "c53031580a3bc4cd",
        "type": "switch",
        "z": "1995875a31c6f417",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "result",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "undefined",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 410,
        "y": 460,
        "wires": [
            [
                "f82abe5ea3b4311f",
                "e0a39ec483e3485c",
                "d580b91890dabf86"
            ],
            [],
            [
                "8b0d1e09fd8558bf"
            ]
        ]
    },
    {
        "id": "a4c4e61db07753f5",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "Store Parameters",
        "func": "flow.set(msg.topic,msg.payload)\n\nif (flow.get(\"multiplefrequency\")===false){\n    msg.payload=\"Single Frequency  :\" + flow.get(\"singleFreq\")+\"#\"+flow.get(\"iterations\");\n    return msg\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2710,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "2666a04646b22f46",
        "type": "finite-state-machine",
        "z": "1995875a31c6f417",
        "name": "Global",
        "fsmDefinition": "{\"state\":{\"status\":\"IDLE\"},\"transitions\":{\"IDLE\":{\"start\":\"RUN\",\"testdone\":\"IDLE\"},\"RUN\":{\"stop\":\"IDLE\",\"testdone\":\"RUN\",\"dotest\":\"RUN\",\"forcedstop\":\"IDLE\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 690,
        "y": 820,
        "wires": [
            [
                "a20b4941086a8f66",
                "36b719de4b4d96ac"
            ]
        ]
    },
    {
        "id": "a20b4941086a8f66",
        "type": "switch",
        "z": "1995875a31c6f417",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RUN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "IDLE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 870,
        "y": 820,
        "wires": [
            [
                "f3ea419002d20b4f",
                "43bafde8fd65f4d6"
            ],
            [
                "bc1d828dfefe92d4",
                "c4fdd1435d3986d0",
                "f9e86845a0b3cb47"
            ]
        ]
    },
    {
        "id": "3c9b4b6da4ef9635",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "check flow B",
        "func": "if (msg.flow===\"FSKRX\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 210,
        "y": 460,
        "wires": [
            [
                "c53031580a3bc4cd"
            ]
        ]
    },
    {
        "id": "89da594216cb5766",
        "type": "link in",
        "z": "1995875a31c6f417",
        "name": "",
        "links": [
            "f3dfe1e0131d23cd"
        ],
        "x": 55,
        "y": 460,
        "wires": [
            [
                "3c9b4b6da4ef9635"
            ]
        ]
    },
    {
        "id": "4baeef6c7a4df03b",
        "type": "inject",
        "z": "1995875a31c6f417",
        "name": "Iterations",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "iteration",
        "payload": "0",
        "payloadType": "num",
        "x": 1980,
        "y": 860,
        "wires": [
            [
                "a4c4e61db07753f5"
            ]
        ]
    },
    {
        "id": "2c8e77133a312299",
        "type": "inject",
        "z": "1995875a31c6f417",
        "name": "TX Power",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "txpower",
        "payload": "0",
        "payloadType": "num",
        "x": 1980,
        "y": 760,
        "wires": [
            [
                "c4fb71f9024a2661"
            ]
        ]
    },
    {
        "id": "5b97572356d45f93",
        "type": "inject",
        "z": "1995875a31c6f417",
        "name": "Start Freq",
        "props": [
            {
                "p": "payload",
                "v": "863",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "startfreq",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "startfreq",
        "payload": "863",
        "payloadType": "num",
        "x": 1990,
        "y": 900,
        "wires": [
            [
                "4380e249d70f2fb4"
            ]
        ]
    },
    {
        "id": "26f3488b77dc44ee",
        "type": "inject",
        "z": "1995875a31c6f417",
        "name": "FrameNumber",
        "props": [
            {
                "p": "payload",
                "v": "5",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "cycle",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "cycle",
        "payload": "5",
        "payloadType": "num",
        "x": 2000,
        "y": 700,
        "wires": [
            [
                "b8108aebc4ef29de"
            ]
        ]
    },
    {
        "id": "4380e249d70f2fb4",
        "type": "ui_text_input",
        "z": "1995875a31c6f417",
        "name": " Single PER Frequency",
        "label": "PER Frequency (MHz)",
        "tooltip": "",
        "group": "3ef6baa638acd345",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "singleFreq",
        "x": 2360,
        "y": 900,
        "wires": [
            [
                "a4c4e61db07753f5"
            ]
        ]
    },
    {
        "id": "c4fb71f9024a2661",
        "type": "ui_text_input",
        "z": "1995875a31c6f417",
        "name": "TX Power",
        "label": "TX Power (dBm)",
        "tooltip": "Min -9, Max 22",
        "group": "3ef6baa638acd345",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "txpower",
        "x": 2320,
        "y": 760,
        "wires": [
            [
                "a4c4e61db07753f5"
            ]
        ]
    },
    {
        "id": "b8108aebc4ef29de",
        "type": "ui_text_input",
        "z": "1995875a31c6f417",
        "name": "Number of Frames",
        "label": "Number of Frames",
        "tooltip": "",
        "group": "3ef6baa638acd345",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "cycle",
        "x": 2350,
        "y": 700,
        "wires": [
            [
                "a4c4e61db07753f5"
            ]
        ]
    },
    {
        "id": "bc5c2465392c792b",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "Turn LED green",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 660,
        "wires": [
            [
                "25d22d4968613a7a"
            ]
        ]
    },
    {
        "id": "7d633c8d51c22048",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "Turn LED red",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 700,
        "wires": [
            [
                "25d22d4968613a7a"
            ]
        ]
    },
    {
        "id": "25d22d4968613a7a",
        "type": "ui_led",
        "z": "1995875a31c6f417",
        "order": 11,
        "group": "3ef6baa638acd345",
        "width": 6,
        "height": 1,
        "label": "Connection status :",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Connection status",
        "x": 1490,
        "y": 680,
        "wires": []
    },
    {
        "id": "2839167dd31c6da9",
        "type": "comment",
        "z": "1995875a31c6f417",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1990,
        "y": 260,
        "wires": []
    },
    {
        "id": "d62eefa33e960c83",
        "type": "comment",
        "z": "1995875a31c6f417",
        "name": "Group Parameters",
        "info": "",
        "x": 2350,
        "y": 320,
        "wires": []
    },
    {
        "id": "3d604d2bdf30e586",
        "type": "comment",
        "z": "1995875a31c6f417",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1990,
        "y": 820,
        "wires": []
    },
    {
        "id": "ec5a843821b04301",
        "type": "comment",
        "z": "1995875a31c6f417",
        "name": "Group multiple & single frequencies",
        "info": "",
        "x": 2280,
        "y": 820,
        "wires": []
    },
    {
        "id": "98ac4a37eb96e69c",
        "type": "comment",
        "z": "1995875a31c6f417",
        "name": "Group Results",
        "info": "",
        "x": 890,
        "y": 40,
        "wires": []
    },
    {
        "id": "90dd9f8493455038",
        "type": "comment",
        "z": "1995875a31c6f417",
        "name": "PER Test management",
        "info": "",
        "x": 720,
        "y": 460,
        "wires": []
    },
    {
        "id": "63b589b7dd653da0",
        "type": "comment",
        "z": "1995875a31c6f417",
        "name": "Frequency management",
        "info": "",
        "x": 470,
        "y": 780,
        "wires": []
    },
    {
        "id": "d580b91890dabf86",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "Frames counter",
        "func": "var input = msg.payload ||\"\";\n\nvar posRX= input.search(\":Rx\");\nif (posRX>-1)\n{\n    var posOf = input.search(\"of\");\n    var pos3xSup = input.search(\">>>\");\n    var nb1=input.substring(posRX+4, posOf-1);\n    var nb2=input.substring(posOf+3, pos3xSup-2);\n    msg.payload=nb1+\"/\"+nb2;\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 640,
        "y": 400,
        "wires": [
            [
                "6b047db8e6448447"
            ]
        ]
    },
    {
        "id": "6b047db8e6448447",
        "type": "ui_text",
        "z": "1995875a31c6f417",
        "group": "3ef6baa638acd345",
        "order": 13,
        "width": 0,
        "height": 0,
        "name": "Frames counter",
        "label": "Frames counter",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 900,
        "y": 400,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "42b34ba6a0743a15",
        "type": "ui_button",
        "z": "1995875a31c6f417",
        "name": "Start",
        "group": "3ef6baa638acd345",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 410,
        "y": 1160,
        "wires": [
            [
                "3bbd5eafb15cfa8d",
                "388bfd3ce764bb6e"
            ]
        ]
    },
    {
        "id": "eb517267cfa963e5",
        "type": "ui_button",
        "z": "1995875a31c6f417",
        "name": "Stop",
        "group": "3ef6baa638acd345",
        "order": 10,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 410,
        "y": 1240,
        "wires": [
            [
                "388bfd3ce764bb6e"
            ]
        ]
    },
    {
        "id": "6166a1a0f9058fff",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 230,
        "y": 1260,
        "wires": [
            [
                "eb517267cfa963e5"
            ]
        ]
    },
    {
        "id": "3b374bb0592e508e",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 230,
        "y": 1180,
        "wires": [
            [
                "42b34ba6a0743a15"
            ]
        ]
    },
    {
        "id": "c3a42d5b3122cc89",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 230,
        "y": 1140,
        "wires": [
            [
                "42b34ba6a0743a15"
            ]
        ]
    },
    {
        "id": "655e9be6b2578218",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 230,
        "y": 1220,
        "wires": [
            [
                "eb517267cfa963e5"
            ]
        ]
    },
    {
        "id": "c132013810d7467d",
        "type": "inject",
        "z": "1995875a31c6f417",
        "name": "init",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "d",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payload": "",
        "payloadType": "date",
        "x": 50,
        "y": 1100,
        "wires": [
            [
                "6166a1a0f9058fff",
                "c3a42d5b3122cc89"
            ]
        ]
    },
    {
        "id": "3bbd5eafb15cfa8d",
        "type": "link out",
        "z": "1995875a31c6f417",
        "name": "Start",
        "links": [
            "79385075f5a7daee"
        ],
        "x": 535,
        "y": 1180,
        "wires": []
    },
    {
        "id": "79385075f5a7daee",
        "type": "link in",
        "z": "1995875a31c6f417",
        "name": "start",
        "links": [
            "3bbd5eafb15cfa8d"
        ],
        "x": 15,
        "y": 1240,
        "wires": [
            [
                "655e9be6b2578218",
                "3b374bb0592e508e"
            ]
        ]
    },
    {
        "id": "d95b942720ba8847",
        "type": "link in",
        "z": "1995875a31c6f417",
        "name": "stop",
        "links": [
            "bc1d828dfefe92d4",
            "b573b69.2452b48"
        ],
        "x": 15,
        "y": 1180,
        "wires": [
            [
                "c3a42d5b3122cc89",
                "6166a1a0f9058fff"
            ]
        ]
    },
    {
        "id": "bc1d828dfefe92d4",
        "type": "link out",
        "z": "1995875a31c6f417",
        "name": "stop",
        "links": [
            "d95b942720ba8847"
        ],
        "x": 995,
        "y": 900,
        "wires": []
    },
    {
        "id": "56a79f025d7586bd",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "Empty payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 500,
        "wires": [
            [
                "226541a0da9a2fc9"
            ]
        ]
    },
    {
        "id": "36b719de4b4d96ac",
        "type": "debug",
        "z": "1995875a31c6f417",
        "name": "top FSM",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 860,
        "y": 880,
        "wires": []
    },
    {
        "id": "9bf325fc17879658",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "unexpected stop",
        "func": "msg.topic=\"forcedstop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 440,
        "y": 820,
        "wires": [
            [
                "2666a04646b22f46"
            ]
        ]
    },
    {
        "id": "49af013de0547129",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "PrepareNextRun",
        "func": "flow.set(\"I\",flow.get(\"I\")+1);\n\n    if (flow.get(\"I\")>=flow.get(\"iterations\"))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n    }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 450,
        "y": 860,
        "wires": [
            [
                "2666a04646b22f46"
            ]
        ]
    },
    {
        "id": "f3ea419002d20b4f",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "start new test",
        "func": "msg.topic=\"start\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 790,
        "y": 700,
        "wires": [
            [
                "8b0d1e09fd8558bf"
            ]
        ]
    },
    {
        "id": "c59518ad73cc8270",
        "type": "switch",
        "z": "1995875a31c6f417",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 170,
        "y": 840,
        "wires": [
            [
                "9bf325fc17879658"
            ],
            [
                "49af013de0547129"
            ]
        ]
    },
    {
        "id": "04c62d34e019167f",
        "type": "link in",
        "z": "1995875a31c6f417",
        "name": "clear results",
        "links": [
            "226541a0da9a2fc9"
        ],
        "x": 675,
        "y": 260,
        "wires": [
            [
                "1ef676d72fe35f3f",
                "b58b95bf9b9507c0",
                "e9d88d8e1863aa82",
                "6b047db8e6448447"
            ]
        ]
    },
    {
        "id": "226541a0da9a2fc9",
        "type": "link out",
        "z": "1995875a31c6f417",
        "name": "clear results",
        "links": [
            "04c62d34e019167f"
        ],
        "x": 1395,
        "y": 500,
        "wires": []
    },
    {
        "id": "eb024a2283f9ac3d",
        "type": "comment",
        "z": "1995875a31c6f417",
        "name": "Clear results",
        "info": "",
        "x": 1250,
        "y": 460,
        "wires": []
    },
    {
        "id": "388bfd3ce764bb6e",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "Initialisation",
        "func": "flow.set(\"I\",0);\nflow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\nmsg.topic=msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 610,
        "y": 920,
        "wires": [
            [
                "2666a04646b22f46"
            ]
        ]
    },
    {
        "id": "d871d985fc774bd7",
        "type": "inject",
        "z": "1995875a31c6f417",
        "name": "Payload length",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "payloadlength",
        "payload": "255",
        "payloadType": "num",
        "x": 2000,
        "y": 520,
        "wires": [
            [
                "b2470e1efd24d11d"
            ]
        ]
    },
    {
        "id": "b2470e1efd24d11d",
        "type": "ui_text_input",
        "z": "1995875a31c6f417",
        "name": "Payload length",
        "label": "Payload length (bit)",
        "tooltip": "1 to 256 bits",
        "group": "3ef6baa638acd345",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "payloadlength",
        "x": 2340,
        "y": 520,
        "wires": [
            [
                "ef78c44062a3d45f"
            ]
        ]
    },
    {
        "id": "421c607b7d5ac842",
        "type": "ui_text",
        "z": "1995875a31c6f417",
        "group": "3ef6baa638acd345",
        "order": 12,
        "width": 6,
        "height": 1,
        "name": "icon ",
        "label": "",
        "format": "{{msg.format}}",
        "layout": "col-center",
        "x": 1450,
        "y": 600,
        "wires": []
    },
    {
        "id": "02d68f0899d61a4e",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "Start animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "<font color=\"green\"><i class=\"fa fa-spinner fa-spin fa-3x\"></i></font>",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 580,
        "wires": [
            [
                "421c607b7d5ac842"
            ]
        ]
    },
    {
        "id": "27ab6e139b0c79a8",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "Stop animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 620,
        "wires": [
            [
                "421c607b7d5ac842"
            ]
        ]
    },
    {
        "id": "f9e86845a0b3cb47",
        "type": "function",
        "z": "1995875a31c6f417",
        "name": "stop test",
        "func": "msg.topic=\"stop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1085,
        "y": 786,
        "wires": [
            [
                "8b0d1e09fd8558bf"
            ]
        ]
    },
    {
        "id": "6133b375f6eb6942",
        "type": "ui_text_input",
        "z": "1995875a31c6f417",
        "name": "Frequency deviation",
        "label": "Freq deviation (KHz)",
        "tooltip": "From 0.6 KHz to 200 Khz",
        "group": "3ef6baa638acd345",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "FreqDev",
        "x": 2360,
        "y": 580,
        "wires": [
            [
                "ef78c44062a3d45f"
            ]
        ]
    },
    {
        "id": "c23a4996a0170121",
        "type": "ui_dropdown",
        "z": "1995875a31c6f417",
        "name": "",
        "label": "Bandwidth time",
        "tooltip": "",
        "place": "Select option",
        "group": "3ef6baa638acd345",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Off",
                "value": "0",
                "type": "str"
            },
            {
                "label": "0.3",
                "value": "1",
                "type": "str"
            },
            {
                "label": "0.5",
                "value": "2",
                "type": "str"
            },
            {
                "label": "0.7",
                "value": "3",
                "type": "str"
            },
            {
                "label": "1",
                "value": "4",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "BWT",
        "x": 2340,
        "y": 640,
        "wires": [
            [
                "ef78c44062a3d45f"
            ]
        ]
    },
    {
        "id": "a13c8b477d994a19",
        "type": "inject",
        "z": "1995875a31c6f417",
        "name": "Bandwidth time",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "BWT",
        "payload": "3",
        "payloadType": "str",
        "x": 2000,
        "y": 640,
        "wires": [
            [
                "c23a4996a0170121"
            ]
        ]
    },
    {
        "id": "9c13b6818f84b979",
        "type": "ui_text_input",
        "z": "1995875a31c6f417",
        "name": "",
        "label": "Bandwidth (KHz)",
        "tooltip": "from 4.8 to 467 KHz",
        "group": "3ef6baa638acd345",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "B",
        "x": 2350,
        "y": 400,
        "wires": [
            [
                "ef78c44062a3d45f"
            ]
        ]
    },
    {
        "id": "d2349bcc89943f6b",
        "type": "inject",
        "z": "1995875a31c6f417",
        "name": "Datarate",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "DR",
        "payload": "50000",
        "payloadType": "num",
        "x": 1980,
        "y": 460,
        "wires": [
            [
                "a870d2186c1da283"
            ]
        ]
    },
    {
        "id": "a870d2186c1da283",
        "type": "ui_text_input",
        "z": "1995875a31c6f417",
        "name": "",
        "label": "Bit rate (bit/s)",
        "tooltip": "from 600 to 300000 bits/s",
        "group": "3ef6baa638acd345",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "DR",
        "x": 2330,
        "y": 460,
        "wires": [
            [
                "ef78c44062a3d45f"
            ]
        ]
    },
    {
        "id": "23fce2f47081faad",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "Wait msg ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please wait the end of the frames",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 740,
        "wires": [
            [
                "d9a0bf50ff5b2674"
            ]
        ]
    },
    {
        "id": "379f1264061f3feb",
        "type": "change",
        "z": "1995875a31c6f417",
        "name": "Wait msg OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 780,
        "wires": [
            [
                "d9a0bf50ff5b2674"
            ]
        ]
    },
    {
        "id": "d9a0bf50ff5b2674",
        "type": "ui_text",
        "z": "1995875a31c6f417",
        "group": "3ef6baa638acd345",
        "order": 14,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1510,
        "y": 740,
        "wires": []
    },
    {
        "id": "f085f210602ef5fb",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2530,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "34f8219032e6a27f",
        "type": "link in",
        "z": "94d0a1ce8bdf23d5",
        "name": "CTRL",
        "links": [
            "ff7b1391df96573b"
        ],
        "x": 1835,
        "y": 240,
        "wires": [
            [
                "ad07b1c536df0758",
                "0807af72ebd9969b",
                "1f5f98aba4a436da",
                "b0557f1ac6a93864",
                "4267d6b17724dfdb",
                "5ba7c3ea54b47842",
                "7aae3b8cf7a5df18",
                "192749ab3d226177"
            ]
        ]
    },
    {
        "id": "36456ac596d50ed7",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "stop cmd",
        "func": "msg.payload=\"AT+TOFF\\n\"\nmsg.flow=\"FSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 360,
        "wires": [
            [
                "d816cb0cf64c0dcc"
            ]
        ]
    },
    {
        "id": "3b7720770a51a7aa",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"FSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 180,
        "wires": [
            [
                "d816cb0cf64c0dcc"
            ]
        ]
    },
    {
        "id": "5016b5803a3f78e8",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "control",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 840,
        "wires": [
            [
                "ff7b1391df96573b"
            ]
        ]
    },
    {
        "id": "6d9322beca43904c",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 900,
        "wires": [
            [
                "ff7b1391df96573b"
            ]
        ]
    },
    {
        "id": "19d13cd539cd2be6",
        "type": "finite-state-machine",
        "z": "94d0a1ce8bdf23d5",
        "name": "FSK TX FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"connect\":\"INIT\",\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"CONFIGURING\":{\"ok_a\":\"MEASURING\",\"ok_b\":\"MEASURING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"MEASURING\":{\"ok_a\":\"STOPPED_OK\",\"ok_b\":\"STOPPED_OK\",\"result\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPING\"},\"STOPPING\":{\"ok_a\":\"STOPPED\",\"ok_b\":\"STOPPED\"},\"STOPPED\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\"},\"STOPPED_OK\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"WAIT\":{\"stop\":\"STOPPED_OK\",\"next\":\"STARTING\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 670,
        "y": 520,
        "wires": [
            [
                "b63403538ee8613e",
                "601e8008bf7e0447"
            ]
        ]
    },
    {
        "id": "b63403538ee8613e",
        "type": "switch",
        "z": "94d0a1ce8bdf23d5",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "MEASURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 990,
        "y": 460,
        "wires": [
            [
                "3b7720770a51a7aa",
                "3c0a30ad328fd893",
                "4af1956882310907"
            ],
            [
                "3718794a89c47bca",
                "1b503ccd3177a922"
            ],
            [
                "e28ed0fa5f55ab8b",
                "3c0a30ad328fd893",
                "1b503ccd3177a922"
            ],
            [
                "36456ac596d50ed7",
                "f11e601f3744222c"
            ],
            [
                "f465edd6ea3c0936",
                "4026c5c1a189fce8"
            ],
            [
                "f465edd6ea3c0936",
                "4026c5c1a189fce8"
            ],
            [
                "f465edd6ea3c0936",
                "0896790e22aff087",
                "4026c5c1a189fce8"
            ]
        ]
    },
    {
        "id": "ff7b1391df96573b",
        "type": "link out",
        "z": "94d0a1ce8bdf23d5",
        "name": "CTRL",
        "links": [
            "34f8219032e6a27f",
            "9a03bbe0571d564e",
            "b1640a15.bac4e8",
            "dd9ffc5a.b8275",
            "7737b873ccf3333e",
            "3bd2ed3ffeb7c094",
            "5b6e697c.076b78",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71"
        ],
        "x": 1495,
        "y": 880,
        "wires": []
    },
    {
        "id": "49e9bca0bbbb6512",
        "type": "comment",
        "z": "94d0a1ce8bdf23d5",
        "name": "Radio icon",
        "info": "",
        "x": 1280,
        "y": 500,
        "wires": []
    },
    {
        "id": "1096ef964f1bf6b7",
        "type": "comment",
        "z": "94d0a1ce8bdf23d5",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1330,
        "y": 780,
        "wires": []
    },
    {
        "id": "3718794a89c47bca",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "Format config A",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\") +\":\" + flow.get(\"B\")*1000 + \":\" + flow.get(\"DR\") + \":4/5:0:0:0:\" + flow.get(\"payloadlength\") +\":\" + flow.get(\"FreqDev\")*1000 +\":2:\" + flow.get(\"BWT\")+\"\\n\";\nmsg.flow=\"FSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1300,
        "y": 240,
        "wires": [
            [
                "d816cb0cf64c0dcc"
            ]
        ]
    },
    {
        "id": "d816cb0cf64c0dcc",
        "type": "link out",
        "z": "94d0a1ce8bdf23d5",
        "name": "Serial Port B out",
        "links": [
            "852009e78874179a"
        ],
        "x": 1575,
        "y": 280,
        "wires": []
    },
    {
        "id": "e28ed0fa5f55ab8b",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "Start A",
        "func": "msg.payload=\"AT+TTX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"FSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1270,
        "y": 300,
        "wires": [
            [
                "d816cb0cf64c0dcc"
            ]
        ]
    },
    {
        "id": "d31a55d32685929d",
        "type": "switch",
        "z": "94d0a1ce8bdf23d5",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "result",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "undefined",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 450,
        "y": 420,
        "wires": [
            [],
            [
                "a6eb29ef33ccdf18"
            ],
            [
                "19d13cd539cd2be6"
            ]
        ]
    },
    {
        "id": "3933292b0333f610",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "Store Parameters",
        "func": "flow.set(msg.topic,msg.payload)\n\nif (flow.get(\"multiplefrequency\")===false){\n    msg.payload=\"Single Frequency  :\" + flow.get(\"singleFreq\")+\"#\"+flow.get(\"iterations\");\n    return msg\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2550,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "55d7a0eb6df1ab52",
        "type": "finite-state-machine",
        "z": "94d0a1ce8bdf23d5",
        "name": "Global",
        "fsmDefinition": "{\"state\":{\"status\":\"IDLE\"},\"transitions\":{\"IDLE\":{\"start\":\"RUN\",\"testdone\":\"IDLE\"},\"RUN\":{\"stop\":\"IDLE\",\"testdone\":\"RUN\",\"dotest\":\"RUN\",\"forcedstop\":\"IDLE\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 730,
        "y": 780,
        "wires": [
            [
                "ce26f4831ab05b83",
                "edd7da5e601094d1"
            ]
        ]
    },
    {
        "id": "ce26f4831ab05b83",
        "type": "switch",
        "z": "94d0a1ce8bdf23d5",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RUN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "IDLE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 780,
        "wires": [
            [
                "cc80eea0678a043e",
                "5016b5803a3f78e8"
            ],
            [
                "71d668f09dbbebc8",
                "6d9322beca43904c",
                "d3842336c978a1cc"
            ]
        ]
    },
    {
        "id": "b8dff9666b90cb57",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "check flow A",
        "func": "if (msg.flow===\"FSKTX\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 250,
        "y": 420,
        "wires": [
            [
                "d31a55d32685929d"
            ]
        ]
    },
    {
        "id": "b53955c095af95df",
        "type": "link in",
        "z": "94d0a1ce8bdf23d5",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 95,
        "y": 420,
        "wires": [
            [
                "b8dff9666b90cb57"
            ]
        ]
    },
    {
        "id": "d2c54a48b255d667",
        "type": "inject",
        "z": "94d0a1ce8bdf23d5",
        "name": "Iterations",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "iteration",
        "payload": "0",
        "payloadType": "num",
        "x": 1780,
        "y": 900,
        "wires": [
            [
                "3933292b0333f610"
            ]
        ]
    },
    {
        "id": "0be01193092580e4",
        "type": "inject",
        "z": "94d0a1ce8bdf23d5",
        "name": "TX Power",
        "props": [
            {
                "p": "payload",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "txpower",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "txpower",
        "payload": "0",
        "payloadType": "num",
        "x": 1780,
        "y": 760,
        "wires": [
            [
                "ad07b1c536df0758"
            ]
        ]
    },
    {
        "id": "602d46cfadbee8b8",
        "type": "inject",
        "z": "94d0a1ce8bdf23d5",
        "name": "Start Freq",
        "props": [
            {
                "p": "payload",
                "v": "863",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "startfreq",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "startfreq",
        "payload": "863",
        "payloadType": "num",
        "x": 1790,
        "y": 860,
        "wires": [
            [
                "1f5f98aba4a436da"
            ]
        ]
    },
    {
        "id": "390372b9a55d08b1",
        "type": "inject",
        "z": "94d0a1ce8bdf23d5",
        "name": "FrameNumber",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "cycle",
        "payload": "5",
        "payloadType": "num",
        "x": 1800,
        "y": 700,
        "wires": [
            [
                "0807af72ebd9969b"
            ]
        ]
    },
    {
        "id": "1f5f98aba4a436da",
        "type": "ui_text_input",
        "z": "94d0a1ce8bdf23d5",
        "name": " Single PER Frequency",
        "label": "PER Frequency (MHz)",
        "tooltip": "",
        "group": "0a981c832143e299",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "singleFreq",
        "x": 2180,
        "y": 860,
        "wires": [
            [
                "3933292b0333f610"
            ]
        ]
    },
    {
        "id": "ad07b1c536df0758",
        "type": "ui_text_input",
        "z": "94d0a1ce8bdf23d5",
        "name": "TX Power",
        "label": "TX Power (dBm)",
        "tooltip": "Min -9, Max 22",
        "group": "0a981c832143e299",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "txpower",
        "x": 2140,
        "y": 760,
        "wires": [
            [
                "3933292b0333f610"
            ]
        ]
    },
    {
        "id": "0807af72ebd9969b",
        "type": "ui_text_input",
        "z": "94d0a1ce8bdf23d5",
        "name": "Number of Frames",
        "label": "Number of Frames",
        "tooltip": "",
        "group": "0a981c832143e299",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "cycle",
        "x": 2170,
        "y": 700,
        "wires": [
            [
                "3933292b0333f610"
            ]
        ]
    },
    {
        "id": "4af1956882310907",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "Turn LED green",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 620,
        "wires": [
            [
                "54c65d6bca9f7e64"
            ]
        ]
    },
    {
        "id": "0896790e22aff087",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "Turn LED red",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 660,
        "wires": [
            [
                "54c65d6bca9f7e64"
            ]
        ]
    },
    {
        "id": "54c65d6bca9f7e64",
        "type": "ui_led",
        "z": "94d0a1ce8bdf23d5",
        "order": 11,
        "group": "0a981c832143e299",
        "width": 6,
        "height": 1,
        "label": "Connection status :",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Connection status",
        "x": 1530,
        "y": 640,
        "wires": []
    },
    {
        "id": "8fa12f2d0b7d79ad",
        "type": "comment",
        "z": "94d0a1ce8bdf23d5",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1830,
        "y": 140,
        "wires": []
    },
    {
        "id": "98a03bcf222e070f",
        "type": "comment",
        "z": "94d0a1ce8bdf23d5",
        "name": "Group Parameters",
        "info": "",
        "x": 2030,
        "y": 140,
        "wires": []
    },
    {
        "id": "c6208b042aa2591a",
        "type": "comment",
        "z": "94d0a1ce8bdf23d5",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1790,
        "y": 820,
        "wires": []
    },
    {
        "id": "9d41e559df385c0c",
        "type": "comment",
        "z": "94d0a1ce8bdf23d5",
        "name": "Group multiple & single frequencies",
        "info": "",
        "x": 2080,
        "y": 820,
        "wires": []
    },
    {
        "id": "b8a0fa4cd7b5e47e",
        "type": "comment",
        "z": "94d0a1ce8bdf23d5",
        "name": "Group Results",
        "info": "",
        "x": 910,
        "y": 160,
        "wires": []
    },
    {
        "id": "8dae3751a37d5848",
        "type": "comment",
        "z": "94d0a1ce8bdf23d5",
        "name": "PER Test management",
        "info": "",
        "x": 760,
        "y": 420,
        "wires": []
    },
    {
        "id": "643b080fbf79cbb9",
        "type": "comment",
        "z": "94d0a1ce8bdf23d5",
        "name": "Frequency management",
        "info": "",
        "x": 510,
        "y": 740,
        "wires": []
    },
    {
        "id": "a6eb29ef33ccdf18",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "Frames counter",
        "func": "var input = msg.payload ||\"\";\nvar posOf= input.search(\"of\");\nif (posOf>-1)\n{\n    var posTX= input.search(\":Tx\");\n    var nb1=input.substring(posTX+4, posOf-1);\n    var nb2=input.substring(posOf+3,);\n    msg.payload=nb1+\"/\"+nb2;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 640,
        "y": 300,
        "wires": [
            [
                "4de11cc0f2d86651"
            ]
        ]
    },
    {
        "id": "4de11cc0f2d86651",
        "type": "ui_text",
        "z": "94d0a1ce8bdf23d5",
        "group": "0a981c832143e299",
        "order": 13,
        "width": 0,
        "height": 0,
        "name": "Frames counter",
        "label": "Frames counter",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 940,
        "y": 360,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "6bba57ae46c9a7d5",
        "type": "ui_button",
        "z": "94d0a1ce8bdf23d5",
        "name": "Start",
        "group": "0a981c832143e299",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 450,
        "y": 1120,
        "wires": [
            [
                "2a5dcf6ad409ac91",
                "12f96499de3175ae"
            ]
        ]
    },
    {
        "id": "6ad5e54c726d61a8",
        "type": "ui_button",
        "z": "94d0a1ce8bdf23d5",
        "name": "Stop",
        "group": "0a981c832143e299",
        "order": 10,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 450,
        "y": 1200,
        "wires": [
            [
                "12f96499de3175ae"
            ]
        ]
    },
    {
        "id": "3a8bc9038b913008",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1220,
        "wires": [
            [
                "6ad5e54c726d61a8"
            ]
        ]
    },
    {
        "id": "dc292d7ec43fac56",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1140,
        "wires": [
            [
                "6bba57ae46c9a7d5"
            ]
        ]
    },
    {
        "id": "fa7cb47d17c88990",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1100,
        "wires": [
            [
                "6bba57ae46c9a7d5"
            ]
        ]
    },
    {
        "id": "8186c35313b54307",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1180,
        "wires": [
            [
                "6ad5e54c726d61a8"
            ]
        ]
    },
    {
        "id": "1aa29fad2ac61fd2",
        "type": "inject",
        "z": "94d0a1ce8bdf23d5",
        "name": "init",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 1060,
        "wires": [
            [
                "3a8bc9038b913008",
                "fa7cb47d17c88990"
            ]
        ]
    },
    {
        "id": "2a5dcf6ad409ac91",
        "type": "link out",
        "z": "94d0a1ce8bdf23d5",
        "name": "Start",
        "links": [
            "f1f6fcebd698d7b8"
        ],
        "x": 575,
        "y": 1140,
        "wires": []
    },
    {
        "id": "f1f6fcebd698d7b8",
        "type": "link in",
        "z": "94d0a1ce8bdf23d5",
        "name": "start",
        "links": [
            "2a5dcf6ad409ac91"
        ],
        "x": 55,
        "y": 1200,
        "wires": [
            [
                "8186c35313b54307",
                "dc292d7ec43fac56"
            ]
        ]
    },
    {
        "id": "d1f4eddf2b15b1bf",
        "type": "link in",
        "z": "94d0a1ce8bdf23d5",
        "name": "stop",
        "links": [
            "71d668f09dbbebc8",
            "b573b69.2452b48"
        ],
        "x": 55,
        "y": 1140,
        "wires": [
            [
                "fa7cb47d17c88990",
                "3a8bc9038b913008"
            ]
        ]
    },
    {
        "id": "71d668f09dbbebc8",
        "type": "link out",
        "z": "94d0a1ce8bdf23d5",
        "name": "stop",
        "links": [
            "d1f4eddf2b15b1bf"
        ],
        "x": 1035,
        "y": 860,
        "wires": []
    },
    {
        "id": "3c0a30ad328fd893",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "Empty payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 460,
        "wires": [
            [
                "0023fdd49f922757"
            ]
        ]
    },
    {
        "id": "edd7da5e601094d1",
        "type": "debug",
        "z": "94d0a1ce8bdf23d5",
        "name": "top FSM",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 840,
        "wires": []
    },
    {
        "id": "0148c4f4c6fd9c0b",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "unexpected stop",
        "func": "msg.topic=\"forcedstop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 780,
        "wires": [
            [
                "55d7a0eb6df1ab52"
            ]
        ]
    },
    {
        "id": "27fb4b27f59a26ea",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "PrepareNextRun",
        "func": "flow.set(\"I\",flow.get(\"I\")+1);\n\n    if (flow.get(\"I\")>=flow.get(\"iterations\"))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n    }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 820,
        "wires": [
            [
                "55d7a0eb6df1ab52"
            ]
        ]
    },
    {
        "id": "cc80eea0678a043e",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "start new test",
        "func": "msg.topic=\"start\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 810,
        "y": 660,
        "wires": [
            [
                "19d13cd539cd2be6"
            ]
        ]
    },
    {
        "id": "601e8008bf7e0447",
        "type": "switch",
        "z": "94d0a1ce8bdf23d5",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 210,
        "y": 800,
        "wires": [
            [
                "0148c4f4c6fd9c0b"
            ],
            [
                "27fb4b27f59a26ea"
            ]
        ]
    },
    {
        "id": "4e58d5bc193336e3",
        "type": "link in",
        "z": "94d0a1ce8bdf23d5",
        "name": "clear results",
        "links": [
            "0023fdd49f922757"
        ],
        "x": 715,
        "y": 220,
        "wires": [
            [
                "4de11cc0f2d86651"
            ]
        ]
    },
    {
        "id": "0023fdd49f922757",
        "type": "link out",
        "z": "94d0a1ce8bdf23d5",
        "name": "clear results",
        "links": [
            "4e58d5bc193336e3"
        ],
        "x": 1435,
        "y": 460,
        "wires": []
    },
    {
        "id": "e7b5336a859a141d",
        "type": "comment",
        "z": "94d0a1ce8bdf23d5",
        "name": "Clear results",
        "info": "",
        "x": 1290,
        "y": 420,
        "wires": []
    },
    {
        "id": "12f96499de3175ae",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "Initialisation",
        "func": "flow.set(\"I\",0);\nflow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\nmsg.topic=msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 650,
        "y": 880,
        "wires": [
            [
                "55d7a0eb6df1ab52"
            ]
        ]
    },
    {
        "id": "0ffc3be918840f93",
        "type": "ui_text",
        "z": "94d0a1ce8bdf23d5",
        "group": "0a981c832143e299",
        "order": 12,
        "width": 6,
        "height": 1,
        "name": "icon ",
        "label": "",
        "format": "{{msg.format}}",
        "layout": "col-center",
        "x": 1490,
        "y": 560,
        "wires": []
    },
    {
        "id": "1b503ccd3177a922",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "Start animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "<font color=\"green\"><i class=\"fa fa-spinner fa-spin fa-3x\"></i></font>",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 540,
        "wires": [
            [
                "0ffc3be918840f93"
            ]
        ]
    },
    {
        "id": "f465edd6ea3c0936",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "Stop animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 580,
        "wires": [
            [
                "0ffc3be918840f93"
            ]
        ]
    },
    {
        "id": "d3842336c978a1cc",
        "type": "function",
        "z": "94d0a1ce8bdf23d5",
        "name": "stop test",
        "func": "msg.topic=\"stop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1125,
        "y": 746,
        "wires": [
            [
                "19d13cd539cd2be6"
            ]
        ]
    },
    {
        "id": "5dd5ac5bf6ac0655",
        "type": "inject",
        "z": "94d0a1ce8bdf23d5",
        "name": "Freq deviation",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "FreqDev",
        "payload": "25",
        "payloadType": "num",
        "x": 1800,
        "y": 580,
        "wires": [
            [
                "192749ab3d226177"
            ]
        ]
    },
    {
        "id": "d59f0ea358b775a0",
        "type": "inject",
        "z": "94d0a1ce8bdf23d5",
        "name": "Payload length",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "payloadlength",
        "payload": "255",
        "payloadType": "num",
        "x": 1800,
        "y": 520,
        "wires": [
            [
                "7aae3b8cf7a5df18"
            ]
        ]
    },
    {
        "id": "7aae3b8cf7a5df18",
        "type": "ui_text_input",
        "z": "94d0a1ce8bdf23d5",
        "name": "Payload length",
        "label": "Payload length (bit)",
        "tooltip": "1 to 256 bits",
        "group": "0a981c832143e299",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "payloadlength",
        "x": 2160,
        "y": 520,
        "wires": [
            [
                "f085f210602ef5fb"
            ]
        ]
    },
    {
        "id": "192749ab3d226177",
        "type": "ui_text_input",
        "z": "94d0a1ce8bdf23d5",
        "name": "Frequency deviation",
        "label": "Freq deviation (KHz)",
        "tooltip": "From 0.6 KHz to 200 Khz",
        "group": "0a981c832143e299",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "FreqDev",
        "x": 2180,
        "y": 580,
        "wires": [
            [
                "f085f210602ef5fb"
            ]
        ]
    },
    {
        "id": "b0557f1ac6a93864",
        "type": "ui_dropdown",
        "z": "94d0a1ce8bdf23d5",
        "name": "",
        "label": "Bandwidth time",
        "tooltip": "",
        "place": "Select option",
        "group": "0a981c832143e299",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Off",
                "value": "0",
                "type": "str"
            },
            {
                "label": "0.3",
                "value": "1",
                "type": "str"
            },
            {
                "label": "0.5",
                "value": "2",
                "type": "str"
            },
            {
                "label": "0.7",
                "value": "3",
                "type": "str"
            },
            {
                "label": "1",
                "value": "4",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "BWT",
        "x": 2160,
        "y": 640,
        "wires": [
            [
                "f085f210602ef5fb"
            ]
        ]
    },
    {
        "id": "7d4bf44ae90ce6f4",
        "type": "inject",
        "z": "94d0a1ce8bdf23d5",
        "name": "Bandwidth time",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "BWT",
        "payload": "3",
        "payloadType": "str",
        "x": 1800,
        "y": 640,
        "wires": [
            [
                "b0557f1ac6a93864"
            ]
        ]
    },
    {
        "id": "7dfe80cbe8fa36bf",
        "type": "inject",
        "z": "94d0a1ce8bdf23d5",
        "name": "Datarate",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "DR",
        "payload": "50000",
        "payloadType": "num",
        "x": 1780,
        "y": 460,
        "wires": [
            [
                "5ba7c3ea54b47842"
            ]
        ]
    },
    {
        "id": "5ba7c3ea54b47842",
        "type": "ui_text_input",
        "z": "94d0a1ce8bdf23d5",
        "name": "",
        "label": "Bit rate (bit/s)",
        "tooltip": "from 600 to 300000 bits/s",
        "group": "0a981c832143e299",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "DR",
        "x": 2150,
        "y": 459,
        "wires": [
            [
                "f085f210602ef5fb"
            ]
        ]
    },
    {
        "id": "a7e81abf5d17cdc8",
        "type": "inject",
        "z": "94d0a1ce8bdf23d5",
        "name": "Bandwidth",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "B",
        "payload": "75",
        "payloadType": "num",
        "x": 1790,
        "y": 400,
        "wires": [
            [
                "4267d6b17724dfdb"
            ]
        ]
    },
    {
        "id": "4267d6b17724dfdb",
        "type": "ui_text_input",
        "z": "94d0a1ce8bdf23d5",
        "name": "",
        "label": "Bandwidth (KHz)",
        "tooltip": "from 4.8 to 467 KHz",
        "group": "0a981c832143e299",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "B",
        "topicType": "str",
        "x": 2170,
        "y": 400,
        "wires": [
            [
                "f085f210602ef5fb"
            ]
        ]
    },
    {
        "id": "f11e601f3744222c",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "Wait msg ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please wait the end of the frames",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 700,
        "wires": [
            [
                "278572865f971310"
            ]
        ]
    },
    {
        "id": "4026c5c1a189fce8",
        "type": "change",
        "z": "94d0a1ce8bdf23d5",
        "name": "Wait msg OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 740,
        "wires": [
            [
                "278572865f971310"
            ]
        ]
    },
    {
        "id": "278572865f971310",
        "type": "ui_text",
        "z": "94d0a1ce8bdf23d5",
        "group": "0a981c832143e299",
        "order": 14,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1550,
        "y": 720,
        "wires": []
    },
    {
        "id": "43be04f7e2f9e45e",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2830,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "115eb0610d747ef0",
        "type": "link in",
        "z": "ef85419377c92365",
        "name": "CTRL",
        "links": [
            "4c393ed9a98c3238"
        ],
        "x": 2115,
        "y": 300,
        "wires": [
            [
                "86454823c167b2a2",
                "8b6d95c04b16aa0a",
                "7cd92643bff64400",
                "8e45f213558a9f7a",
                "3b244ddc99537ac2",
                "c5d7d40e84b436e6",
                "4df262d7d643db31",
                "b1ef5717d3483626",
                "3c2a04afdd08e439",
                "30ac958639858df9",
                "10013a40900cee7d",
                "7af5da8cf4e09434",
                "ac873f79241e528a"
            ]
        ]
    },
    {
        "id": "c0daa57b0979b07b",
        "type": "ui_switch",
        "z": "ef85419377c92365",
        "name": "Lora Transmit",
        "label": "",
        "tooltip": "",
        "group": "d403ef88152f0ded",
        "order": 12,
        "width": 6,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "transmit",
        "style": "",
        "onvalue": "fake_start",
        "onvalueType": "str",
        "onicon": "fa-wifi fa-3x",
        "oncolor": "green",
        "offvalue": "fake_stop",
        "offvalueType": "str",
        "officon": "fa-wifi fa-3x",
        "offcolor": "grey",
        "x": 1680,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "3ee3a09e8733bfc3",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "Format config A",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\") +\":\" + flow.get(\"B\")*1000 + \":\" + flow.get(\"DR\") + \":4/5:0:0:0:\" + flow.get(\"payloadlength\") +\":\" + flow.get(\"FreqDev\")*1000 +\":2:\" + flow.get(\"BWT\")+\"\\n\";\nmsg.flow=\"FSKPER\";\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1360,
        "y": 220,
        "wires": [
            [
                "7d71e17178b053a6"
            ]
        ]
    },
    {
        "id": "5f810058c92c54a5",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "Start A",
        "func": "msg.payload=\"AT+TTX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"FSKPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1370,
        "y": 440,
        "wires": [
            [
                "7d71e17178b053a6"
            ]
        ]
    },
    {
        "id": "ce085f05d7763117",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "stop cmd",
        "func": "msg.payload=\"AT+TOFF\\n\"\nmsg.flow=\"FSKPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1340,
        "y": 500,
        "wires": [
            [
                "7d71e17178b053a6",
                "e00b8e8c3fad77fe"
            ]
        ]
    },
    {
        "id": "050e911278ed78ff",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"FSKPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1340,
        "y": 160,
        "wires": [
            [
                "7d71e17178b053a6",
                "e00b8e8c3fad77fe"
            ]
        ]
    },
    {
        "id": "600ee2b803107ccb",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "control",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 920,
        "wires": [
            [
                "4c393ed9a98c3238"
            ]
        ]
    },
    {
        "id": "0cf1419ca0fe378d",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 980,
        "wires": [
            [
                "4c393ed9a98c3238"
            ]
        ]
    },
    {
        "id": "a5c033582edca714",
        "type": "finite-state-machine",
        "z": "ef85419377c92365",
        "name": "LORA PER FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"CONFIGURING_A\":{\"ok_a\":\"CONFIGURING_B\",\"ok_b\":\"CONFIGURING_B\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"CONFIGURING_B\":{\"ok_a\":\"MEASURING\",\"ok_b\":\"MEASURING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"MEASURING\":{\"ok_a\":\"WAIT_END\",\"ok_b\":\"WAIT_END\",\"stop\":\"STOPPED\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"WAIT_END\":{\"ok_a\":\"STOPPING\",\"ok_b\":\"STOPPING\",\"stop\":\"OK\",\"resetok\":\"STOPPED\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"STOPPING\":{\"ok_a\":\"STOPPED_A\",\"ok_b\":\"STOPPED_B\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"STOPPED_A\":{\"ok_b\":\"STOPPED_OK\",\"ok_a\":\"STOPPED_A\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"STOPPED_B\":{\"ok_a\":\"STOPPED_OK\",\"ok_b\":\"STOPPED_B\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"STOPPED\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING_A\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"STOPPED_OK\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING_A\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 830,
        "y": 540,
        "wires": [
            [
                "f1dcc2c7f7bd4808",
                "28c8e8e00b29f172",
                "13cba5e56ed8b261"
            ]
        ]
    },
    {
        "id": "f1dcc2c7f7bd4808",
        "type": "switch",
        "z": "ef85419377c92365",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING_A",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING_B",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "MEASURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 8,
        "x": 1050,
        "y": 540,
        "wires": [
            [
                "050e911278ed78ff",
                "8a26b0190effc234"
            ],
            [
                "3ee3a09e8733bfc3",
                "924810979255d3c5"
            ],
            [
                "cbe24d566a546275"
            ],
            [
                "acdda7f2cd69d238",
                "0080bae42a01b75b",
                "8a26b0190effc234"
            ],
            [
                "ce085f05d7763117"
            ],
            [
                "6a0c5398d8d1119c",
                "9187aa074861bd23"
            ],
            [
                "6a0c5398d8d1119c",
                "9187aa074861bd23"
            ],
            [
                "6a0c5398d8d1119c",
                "9187aa074861bd23"
            ]
        ]
    },
    {
        "id": "002d5af0287a4f3e",
        "type": "link in",
        "z": "ef85419377c92365",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 175,
        "y": 440,
        "wires": [
            [
                "3e14ca73ff242a9b"
            ]
        ]
    },
    {
        "id": "6a0c5398d8d1119c",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_stop",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 740,
        "wires": [
            [
                "c0daa57b0979b07b"
            ]
        ]
    },
    {
        "id": "924810979255d3c5",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 700,
        "wires": [
            [
                "c0daa57b0979b07b"
            ]
        ]
    },
    {
        "id": "4c393ed9a98c3238",
        "type": "link out",
        "z": "ef85419377c92365",
        "name": "CTRL",
        "links": [
            "115eb0610d747ef0",
            "9a03bbe0571d564e",
            "b1640a15.bac4e8",
            "dd9ffc5a.b8275",
            "7737b873ccf3333e",
            "3bd2ed3ffeb7c094",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71"
        ],
        "x": 1555,
        "y": 960,
        "wires": []
    },
    {
        "id": "d9c1bca36ffef545",
        "type": "comment",
        "z": "ef85419377c92365",
        "name": "Radio icon",
        "info": "",
        "x": 1360,
        "y": 660,
        "wires": []
    },
    {
        "id": "d5d4777dd5be4b08",
        "type": "comment",
        "z": "ef85419377c92365",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1390,
        "y": 860,
        "wires": []
    },
    {
        "id": "3e14ca73ff242a9b",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "check flow A",
        "func": "if (msg.flow===\"FSKPER\" || msg.flow===\"ALL\") {\n    \nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 440,
        "wires": [
            [
                "d03bad8388eaf1da"
            ]
        ]
    },
    {
        "id": "cbe24d566a546275",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "Format config B",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\")  +\":\"  + flow.get(\"B\")*1000 + \":\" + flow.get(\"DR\") + \":4/5:0:0:0:\" + flow.get(\"payloadlength\") +\":\" + flow.get(\"FreqDev\")*1000 +\":2:\" + flow.get(\"BWT\")+\"\\n\";\nmsg.flow=\"FSKPER\";\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1360,
        "y": 280,
        "wires": [
            [
                "e00b8e8c3fad77fe"
            ]
        ]
    },
    {
        "id": "7d71e17178b053a6",
        "type": "link out",
        "z": "ef85419377c92365",
        "name": "Serial Port A out",
        "links": [
            "852009e78874179a"
        ],
        "x": 1655,
        "y": 300,
        "wires": []
    },
    {
        "id": "e00b8e8c3fad77fe",
        "type": "link out",
        "z": "ef85419377c92365",
        "name": "Serial Port B out",
        "links": [
            "33f3d0b3dcc7bd60"
        ],
        "x": 1655,
        "y": 380,
        "wires": []
    },
    {
        "id": "acdda7f2cd69d238",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "Start B",
        "func": "msg.payload=\"AT+TRX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"FSKPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1330,
        "y": 340,
        "wires": [
            [
                "e00b8e8c3fad77fe"
            ]
        ]
    },
    {
        "id": "93b14105affac4ed",
        "type": "debug",
        "z": "ef85419377c92365",
        "name": "Result RSSI",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 990,
        "y": 140,
        "wires": []
    },
    {
        "id": "c2a17eb91cf00243",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "RSSI SNR",
        "func": "var input = msg.payload ||\"\";\nvar posRssi= input.search(\"RssiValue\");\nvar posdBm=input.search(\"dBm\");\n\nif (posRssi>1){\n    //save the values in temp variables\n    msg.payload=input.substring(posRssi+10,posdBm+3);\n    flow.set(\"currentRSSItmp\",msg.payload);\n    return null;\n}\n    \n   \nvar posRX= input.search(\":Rx\");\nif (posRX>-1)\n{\n    // update the data and clean temp variables \n    msg.payload=flow.get(\"currentRSSItmp\");\n    msg.topic=\"RSSI\";\n    flow.set(\"currentRSSI\",msg.payload);\n    flow.set(\"currentRSSItmp\",\"No packet\");\n\n    return msg;\n} \n    \nreturn null;\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 200,
        "wires": [
            [
                "93b14105affac4ed",
                "091218fac38cc47e"
            ],
            []
        ]
    },
    {
        "id": "091218fac38cc47e",
        "type": "ui_text",
        "z": "ef85419377c92365",
        "group": "ab0ba1631c7fada2",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "RSSI Result",
        "label": "RSSI",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 990,
        "y": 100,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "d03bad8388eaf1da",
        "type": "switch",
        "z": "ef85419377c92365",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "result",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "undefined",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 510,
        "y": 460,
        "wires": [
            [
                "c2a17eb91cf00243",
                "aa1fa21447beda44",
                "a58bf73606c81a85"
            ],
            [],
            [
                "a5c033582edca714"
            ]
        ]
    },
    {
        "id": "4d2a0b908ceef503",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "Store Parameters",
        "func": "flow.set(msg.topic,msg.payload)\n\nif (flow.get(\"multiplefrequency\")===false){\n    msg.payload=\"Single Frequency  :\" + flow.get(\"startFreq\")+\"#\"+flow.get(\"iterations\");\n    return msg\n}\nelse\n{\n}\nif (flow.get(\"startFreq\")>flow.get(\"endFreq\"))\n{\n    msg.payload=\"startFreq is superior to endFreq:\"+flow.get(\"startFreq\") +\":\"+ flow.get(\"endFreq\");\n    return msg\n}\nelse\n{\n    msg.payload=\"Variable frequency :\" + flow.get(\"startFreq\")+\"#\"+flow.get(\"endFreq\")+\"#\"+flow.get(\"stepFreq\")+\", TXPower: \" + flow.get(\"txpower\");\n    return msg\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 2850,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "f3e49f1b7a3fa21e",
        "type": "finite-state-machine",
        "z": "ef85419377c92365",
        "name": "Global",
        "fsmDefinition": "{\"state\":{\"status\":\"IDLE\"},\"transitions\":{\"IDLE\":{\"start\":\"RUN\",\"testdone\":\"IDLE\"},\"RUN\":{\"stop\":\"IDLE\",\"testdone\":\"RUN\",\"dotest\":\"RUN\",\"forcedstop\":\"IDLE\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 710,
        "y": 820,
        "wires": [
            [
                "a55c1ff19e2260c2",
                "288f6871f03ef131"
            ]
        ]
    },
    {
        "id": "a55c1ff19e2260c2",
        "type": "switch",
        "z": "ef85419377c92365",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RUN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "IDLE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 820,
        "wires": [
            [
                "5f214b90e8aad9f4",
                "600ee2b803107ccb"
            ],
            [
                "7d828046c7c43952",
                "0cf1419ca0fe378d"
            ]
        ]
    },
    {
        "id": "07bcacb1ff07576b",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "check flow B",
        "func": "if (msg.flow===\"FSKPER\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 500,
        "wires": [
            [
                "d03bad8388eaf1da"
            ]
        ]
    },
    {
        "id": "0619a192f97faacf",
        "type": "link in",
        "z": "ef85419377c92365",
        "name": "",
        "links": [
            "f3dfe1e0131d23cd"
        ],
        "x": 175,
        "y": 500,
        "wires": [
            [
                "07bcacb1ff07576b"
            ]
        ]
    },
    {
        "id": "ecb13f2386b4c9a8",
        "type": "ui_table",
        "z": "ef85419377c92365",
        "group": "ab0ba1631c7fada2",
        "name": "Table Results",
        "order": 5,
        "width": 12,
        "height": 4,
        "columns": [],
        "outputs": 0,
        "cts": false,
        "x": 1000,
        "y": 1120,
        "wires": []
    },
    {
        "id": "9a63d6a781d21609",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "ClearTable",
        "func": "msg.payload=[{\n        \"Frequency\":\"\",\n        \"Last RSSI\":\"\",\n        \"PER\": \"\"\n        }];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 750,
        "y": 1160,
        "wires": [
            [
                "ecb13f2386b4c9a8"
            ]
        ]
    },
    {
        "id": "2edf3762153d91d2",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "addrow",
        "func": "msg.payload=\n{\n    command: \"addRow\",\n    arguments: [\n        {\n        \"Frequency\":flow.get(\"currentFrequency\")/1000000 + \" MHz\",\n        \"Last RSSI\":flow.get(\"currentRSSI\") + \" dBm\",\n        \"PER\": flow.get(\"currentPER\")\n        },\n        false\n    ],\n    returnPromise: true\n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 740,
        "y": 1080,
        "wires": [
            [
                "ecb13f2386b4c9a8"
            ]
        ]
    },
    {
        "id": "b1ef5717d3483626",
        "type": "ui_text_input",
        "z": "ef85419377c92365",
        "name": "PER Frequency",
        "label": "Start PER Frequency (MHz)",
        "tooltip": "",
        "group": "1141fa1e1bca6b75",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "startFreq",
        "x": 2360,
        "y": 880,
        "wires": [
            [
                "4d2a0b908ceef503"
            ]
        ]
    },
    {
        "id": "c5d7d40e84b436e6",
        "type": "ui_text_input",
        "z": "ef85419377c92365",
        "name": "Max PER Frequency",
        "label": "End PER Frequency (MHz)",
        "tooltip": "",
        "group": "1141fa1e1bca6b75",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "endFreq",
        "x": 2380,
        "y": 920,
        "wires": [
            [
                "4d2a0b908ceef503"
            ]
        ]
    },
    {
        "id": "3b244ddc99537ac2",
        "type": "ui_text_input",
        "z": "ef85419377c92365",
        "name": "Step PER Frequency",
        "label": "Step PER Frequency (MHz)",
        "tooltip": "",
        "group": "1141fa1e1bca6b75",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "stepFreq",
        "x": 2380,
        "y": 980,
        "wires": [
            [
                "4d2a0b908ceef503"
            ]
        ]
    },
    {
        "id": "7cd92643bff64400",
        "type": "ui_switch",
        "z": "ef85419377c92365",
        "name": "Multiple Frequency",
        "label": "Multiple Frequency",
        "tooltip": "",
        "group": "d403ef88152f0ded",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "multiplefrequency",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 2370,
        "y": 1080,
        "wires": [
            [
                "4d2a0b908ceef503",
                "8e0ebe70aaebd5ad"
            ]
        ]
    },
    {
        "id": "8e45f213558a9f7a",
        "type": "ui_text_input",
        "z": "ef85419377c92365",
        "name": "Iterations",
        "label": "Iterations",
        "tooltip": "",
        "group": "9da425b6997cdaf8",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "iterations",
        "x": 2340,
        "y": 1040,
        "wires": [
            [
                "4d2a0b908ceef503"
            ]
        ]
    },
    {
        "id": "cabb2f99009ff72a",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "Step",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "step",
        "payload": "0.2",
        "payloadType": "num",
        "x": 2070,
        "y": 980,
        "wires": [
            [
                "3b244ddc99537ac2"
            ]
        ]
    },
    {
        "id": "e86216169ec4be03",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "Max Freq",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "maxfreq",
        "payload": "864",
        "payloadType": "num",
        "x": 2080,
        "y": 920,
        "wires": [
            [
                "c5d7d40e84b436e6"
            ]
        ]
    },
    {
        "id": "8ea81be018a94d82",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "Iterations",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "iteration",
        "payload": "5",
        "payloadType": "num",
        "x": 2080,
        "y": 1040,
        "wires": [
            [
                "8e45f213558a9f7a"
            ]
        ]
    },
    {
        "id": "6fd3ef9ce19c51c9",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "Variable",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "fixorvariable",
        "payload": "true",
        "payloadType": "bool",
        "x": 2080,
        "y": 1080,
        "wires": [
            [
                "7cd92643bff64400"
            ]
        ]
    },
    {
        "id": "2adfc60b099d3f0f",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "TX Power",
        "props": [
            {
                "p": "payload",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "txpower",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "txpower",
        "payload": "0",
        "payloadType": "num",
        "x": 2080,
        "y": 760,
        "wires": [
            [
                "86454823c167b2a2"
            ]
        ]
    },
    {
        "id": "e5e2982c5314ca7f",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "Start Freq",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "startfreq",
        "payload": "863",
        "payloadType": "num",
        "x": 2090,
        "y": 860,
        "wires": [
            [
                "b1ef5717d3483626",
                "4df262d7d643db31"
            ]
        ]
    },
    {
        "id": "71aa796de60fcb30",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "FrameNumber",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "cycle",
        "payload": "5",
        "payloadType": "num",
        "x": 2100,
        "y": 700,
        "wires": [
            [
                "8b6d95c04b16aa0a"
            ]
        ]
    },
    {
        "id": "44db563122966070",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_(G)FSK_PER_Single_Frequency\"],\"show\":[\"RF_test_(G)FSK_PER_Multiple_Frequencies\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2940,
        "y": 1060,
        "wires": [
            [
                "a8f27095a643b050"
            ]
        ]
    },
    {
        "id": "a8f27095a643b050",
        "type": "ui_ui_control",
        "z": "ef85419377c92365",
        "name": "UI ctrl",
        "events": "all",
        "x": 3130,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "b4f95487e64fe974",
        "type": "switch",
        "z": "ef85419377c92365",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2770,
        "y": 1080,
        "wires": [
            [
                "44db563122966070"
            ],
            [
                "a7f5b374db05eae7"
            ]
        ]
    },
    {
        "id": "a7f5b374db05eae7",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_(G)FSK_PER_Multiple_Frequencies\"],\"show\":[\"RF_test_(G)FSK_PER_Single_Frequency\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2940,
        "y": 1100,
        "wires": [
            [
                "a8f27095a643b050"
            ]
        ]
    },
    {
        "id": "4df262d7d643db31",
        "type": "ui_text_input",
        "z": "ef85419377c92365",
        "name": " Single PER Frequency",
        "label": "PER Frequency (MHz)",
        "tooltip": "",
        "group": "9da425b6997cdaf8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "singleFreq",
        "x": 2380,
        "y": 840,
        "wires": [
            [
                "4d2a0b908ceef503"
            ]
        ]
    },
    {
        "id": "86454823c167b2a2",
        "type": "ui_text_input",
        "z": "ef85419377c92365",
        "name": "TX Power",
        "label": "TX Power (dBm)",
        "tooltip": "Min -9, Max 22",
        "group": "d403ef88152f0ded",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "txpower",
        "x": 2340,
        "y": 760,
        "wires": [
            [
                "4d2a0b908ceef503"
            ]
        ]
    },
    {
        "id": "8b6d95c04b16aa0a",
        "type": "ui_text_input",
        "z": "ef85419377c92365",
        "name": "Number of Frames",
        "label": "Number of Frames",
        "tooltip": "",
        "group": "d403ef88152f0ded",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "cycle",
        "x": 2370,
        "y": 700,
        "wires": [
            [
                "4d2a0b908ceef503"
            ]
        ]
    },
    {
        "id": "eab8320e52774018",
        "type": "link in",
        "z": "ef85419377c92365",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 275,
        "y": 1440,
        "wires": [
            [
                "87b27f0d18dbe884"
            ]
        ]
    },
    {
        "id": "87b27f0d18dbe884",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "check flow A",
        "func": "if (msg.flow===\"FSKPER\" || msg.flow===\"ALL\") {\n    \n    if (msg.topic==\"connect\")\n    {\n        msg.topic=\"connect_a\";\n    }\n    \n    if (msg.topic==\"disconnect\")\n    {\n        msg.topic=\"disconnect_a\";\n    }\n    \nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 410,
        "y": 1440,
        "wires": [
            [
                "906e8e47e594816b"
            ]
        ]
    },
    {
        "id": "bac08b4452b8fdca",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "check flow B",
        "func": "if (msg.flow===\"FSKPER\" || msg.flow===\"ALL\") {\n    \n        if (msg.topic==\"connect\")\n    {\n        msg.topic=\"connect_b\";\n    }\n    \n    if (msg.topic==\"disconnect\")\n    {\n        msg.topic=\"disconnect_b\";\n    }\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 410,
        "y": 1520,
        "wires": [
            [
                "906e8e47e594816b"
            ]
        ]
    },
    {
        "id": "404bfc3ac8348774",
        "type": "link in",
        "z": "ef85419377c92365",
        "name": "",
        "links": [
            "f3dfe1e0131d23cd"
        ],
        "x": 275,
        "y": 1520,
        "wires": [
            [
                "bac08b4452b8fdca"
            ]
        ]
    },
    {
        "id": "906e8e47e594816b",
        "type": "switch",
        "z": "ef85419377c92365",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "connect_a",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "connect_b",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "disconnect_a",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "disconnect_b",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 610,
        "y": 1480,
        "wires": [
            [
                "289b7dfbe926b6f9"
            ],
            [
                "289b7dfbe926b6f9"
            ],
            [
                "289b7dfbe926b6f9"
            ],
            [
                "289b7dfbe926b6f9"
            ],
            []
        ]
    },
    {
        "id": "289b7dfbe926b6f9",
        "type": "finite-state-machine",
        "z": "ef85419377c92365",
        "name": "Connection Status",
        "fsmDefinition": "{\"state\":{\"status\":\"UNKNOWN\"},\"transitions\":{\"UNKNOWN\":{\"d\":\"DISCONNECTED_AB\",\"connect_a\":\"CONNECTED_A\",\"connect_b\":\"CONNECTED_B\",\"disconnect_a\":\"DISCONNECTED_A\",\"disconnect_b\":\"DISCONNECTED_B\"},\"CONNECTED_A\":{\"connect_b\":\"CONNECTED_AB\",\"disconnect_a\":\"DISCONNECTED_AB\",\"disconnect_b\":\"DISCONNECTED_A\"},\"CONNECTED_B\":{\"connect_a\":\"CONNECTED_AB\",\"disconnect_b\":\"DISCONNECTED_AB\",\"disconnect_a\":\"DISCONNECTED_B\"},\"CONNECTED_AB\":{\"disconnect_b\":\"CONNECTED_A\",\"disconnect_a\":\"CONNECTED_B\"},\"DISCONNECTED_AB\":{\"connect_a\":\"CONNECTED_A\",\"connect_b\":\"CONNECTED_B\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": false,
        "showTransitionErrors": true,
        "x": 830,
        "y": 1480,
        "wires": [
            [
                "1c5a6e4c45dc68f1"
            ]
        ]
    },
    {
        "id": "1c5a6e4c45dc68f1",
        "type": "switch",
        "z": "ef85419377c92365",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "CONNECTED_AB",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 1480,
        "wires": [
            [
                "15fff5507975da77"
            ],
            [
                "77c4b008847db302"
            ]
        ]
    },
    {
        "id": "15fff5507975da77",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "Turn LED green",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 1460,
        "wires": [
            [
                "7231ed4e1c45a01f"
            ]
        ]
    },
    {
        "id": "77c4b008847db302",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "Turn LED red",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 1500,
        "wires": [
            [
                "7231ed4e1c45a01f"
            ]
        ]
    },
    {
        "id": "7231ed4e1c45a01f",
        "type": "ui_led",
        "z": "ef85419377c92365",
        "order": 11,
        "group": "d403ef88152f0ded",
        "width": 6,
        "height": 1,
        "label": "Connection status :",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Connection status",
        "x": 1510,
        "y": 1480,
        "wires": []
    },
    {
        "id": "d4b89018626db222",
        "type": "comment",
        "z": "ef85419377c92365",
        "name": "Initialization of parameters",
        "info": "",
        "x": 2110,
        "y": 200,
        "wires": []
    },
    {
        "id": "6e93828d7eff82c2",
        "type": "comment",
        "z": "ef85419377c92365",
        "name": "Group Parameters",
        "info": "",
        "x": 2310,
        "y": 200,
        "wires": []
    },
    {
        "id": "02f486b31824bf67",
        "type": "comment",
        "z": "ef85419377c92365",
        "name": "Initialization of parameters",
        "info": "",
        "x": 2110,
        "y": 800,
        "wires": []
    },
    {
        "id": "1c0932a8401fdbb3",
        "type": "comment",
        "z": "ef85419377c92365",
        "name": "Group multiple & single frequencies",
        "info": "",
        "x": 2360,
        "y": 800,
        "wires": []
    },
    {
        "id": "c2f22016e76d88e3",
        "type": "comment",
        "z": "ef85419377c92365",
        "name": "Group Results",
        "info": "",
        "x": 990,
        "y": 40,
        "wires": []
    },
    {
        "id": "5fd7b4e3577bcc64",
        "type": "comment",
        "z": "ef85419377c92365",
        "name": "Boards connections management",
        "info": "",
        "x": 830,
        "y": 1380,
        "wires": []
    },
    {
        "id": "97d322c9caa36366",
        "type": "comment",
        "z": "ef85419377c92365",
        "name": "PER Test management",
        "info": "",
        "x": 820,
        "y": 460,
        "wires": []
    },
    {
        "id": "ca288f244010f7cd",
        "type": "comment",
        "z": "ef85419377c92365",
        "name": "Frequency management",
        "info": "",
        "x": 710,
        "y": 740,
        "wires": []
    },
    {
        "id": "aa1fa21447beda44",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "Frames counter",
        "func": "var input = msg.payload ||\"\";\n\nvar posRX= input.search(\":Rx\");\nif (posRX>-1)\n{\n    var posOf = input.search(\"of\");\n    var pos3xSup = input.search(\">>>\");\n    var nb1=input.substring(posRX+4, posOf-1);\n    var nb2=input.substring(posOf+3, pos3xSup-2);\n    msg.payload=nb1+\"/\"+nb2;\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 740,
        "y": 400,
        "wires": [
            [
                "22f4311e111559a8"
            ]
        ]
    },
    {
        "id": "22f4311e111559a8",
        "type": "ui_text",
        "z": "ef85419377c92365",
        "group": "ab0ba1631c7fada2",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "Frames counter",
        "label": "Frames counter",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1000,
        "y": 400,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "7a16594cf176ece6",
        "type": "ui_button",
        "z": "ef85419377c92365",
        "name": "Start",
        "group": "d403ef88152f0ded",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 510,
        "y": 1160,
        "wires": [
            [
                "ef691bc96307d730",
                "9a63d6a781d21609",
                "2c36e72c15db7d04"
            ]
        ]
    },
    {
        "id": "634f2b463b9e3194",
        "type": "ui_button",
        "z": "ef85419377c92365",
        "name": "Stop",
        "group": "d403ef88152f0ded",
        "order": 10,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 510,
        "y": 1240,
        "wires": [
            [
                "2c36e72c15db7d04",
                "99700e17534b3154"
            ]
        ]
    },
    {
        "id": "e6cc46e8049c53d8",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1260,
        "wires": [
            [
                "634f2b463b9e3194"
            ]
        ]
    },
    {
        "id": "0accfa32b79d5702",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1180,
        "wires": [
            [
                "7a16594cf176ece6"
            ]
        ]
    },
    {
        "id": "0a555a1da3e092ac",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1140,
        "wires": [
            [
                "7a16594cf176ece6"
            ]
        ]
    },
    {
        "id": "8fbf9f6ef90ba2ca",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1220,
        "wires": [
            [
                "634f2b463b9e3194"
            ]
        ]
    },
    {
        "id": "e1ebd575521cdba9",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "init",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 1120,
        "wires": [
            [
                "e6cc46e8049c53d8",
                "0a555a1da3e092ac",
                "289b7dfbe926b6f9"
            ]
        ]
    },
    {
        "id": "0080bae42a01b75b",
        "type": "delay",
        "z": "ef85419377c92365",
        "name": "100ms",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1330,
        "y": 400,
        "wires": [
            [
                "5f810058c92c54a5"
            ]
        ]
    },
    {
        "id": "ef691bc96307d730",
        "type": "link out",
        "z": "ef85419377c92365",
        "name": "Start",
        "links": [
            "0c1c4271c60bde59"
        ],
        "x": 635,
        "y": 1180,
        "wires": []
    },
    {
        "id": "0c1c4271c60bde59",
        "type": "link in",
        "z": "ef85419377c92365",
        "name": "start",
        "links": [
            "ef691bc96307d730"
        ],
        "x": 115,
        "y": 1240,
        "wires": [
            [
                "8fbf9f6ef90ba2ca",
                "0accfa32b79d5702"
            ]
        ]
    },
    {
        "id": "feacf5c3c8104b91",
        "type": "link in",
        "z": "ef85419377c92365",
        "name": "stop",
        "links": [
            "7d828046c7c43952",
            "b573b69.2452b48"
        ],
        "x": 115,
        "y": 1180,
        "wires": [
            [
                "0a555a1da3e092ac",
                "e6cc46e8049c53d8"
            ]
        ]
    },
    {
        "id": "7d828046c7c43952",
        "type": "link out",
        "z": "ef85419377c92365",
        "name": "stop",
        "links": [
            "feacf5c3c8104b91"
        ],
        "x": 1015,
        "y": 900,
        "wires": []
    },
    {
        "id": "8a26b0190effc234",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "Empty payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 600,
        "wires": [
            [
                "92c87d53eb928ee4"
            ]
        ]
    },
    {
        "id": "28c8e8e00b29f172",
        "type": "debug",
        "z": "ef85419377c92365",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1040,
        "y": 640,
        "wires": []
    },
    {
        "id": "288f6871f03ef131",
        "type": "debug",
        "z": "ef85419377c92365",
        "name": "top FSM",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 880,
        "y": 880,
        "wires": []
    },
    {
        "id": "68582d2d659c2389",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "unexpected stop",
        "func": "msg.topic=\"forcedstop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 460,
        "y": 780,
        "wires": [
            [
                "f3e49f1b7a3fa21e"
            ]
        ]
    },
    {
        "id": "46165c190f99d868",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "PrepareNextRun",
        "func": "flow.set(\"I\",flow.get(\"I\")+1);\nif (flow.get(\"multiplefrequency\")===false)\n{   \n    if (flow.get(\"I\")>=flow.get(\"iterations\"))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n    }\n}\nelse\n{\n    // case frequency variable\n    currentFrequency= (flow.get(\"startFreq\")+flow.get(\"stepFreq\")*flow.get(\"I\"))*1000000;\n    flow.set(\"currentFrequency\",currentFrequency);\n    if (currentFrequency> (flow.get(\"endFreq\")*1000000))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 840,
        "wires": [
            [
                "f3e49f1b7a3fa21e"
            ]
        ]
    },
    {
        "id": "5f214b90e8aad9f4",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "start new test",
        "func": "  msg.topic=\"start\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1070,
        "y": 780,
        "wires": [
            [
                "a5c033582edca714"
            ]
        ]
    },
    {
        "id": "13cba5e56ed8b261",
        "type": "switch",
        "z": "ef85419377c92365",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 190,
        "y": 840,
        "wires": [
            [
                "68582d2d659c2389"
            ],
            [
                "2edf3762153d91d2",
                "46165c190f99d868"
            ]
        ]
    },
    {
        "id": "8e1a15ba77260699",
        "type": "link in",
        "z": "ef85419377c92365",
        "name": "clear results",
        "links": [
            "92c87d53eb928ee4"
        ],
        "x": 775,
        "y": 260,
        "wires": [
            [
                "091218fac38cc47e",
                "22f4311e111559a8",
                "6f485ed938f2ed9f"
            ]
        ]
    },
    {
        "id": "92c87d53eb928ee4",
        "type": "link out",
        "z": "ef85419377c92365",
        "name": "clear results",
        "links": [
            "8e1a15ba77260699"
        ],
        "x": 1515,
        "y": 600,
        "wires": []
    },
    {
        "id": "ae98aa0e9296b35e",
        "type": "comment",
        "z": "ef85419377c92365",
        "name": "Clear results",
        "info": "",
        "x": 1370,
        "y": 560,
        "wires": []
    },
    {
        "id": "97524eb701be8688",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "Bandwidth",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "B",
        "payload": "75",
        "payloadType": "num",
        "x": 2090,
        "y": 400,
        "wires": [
            [
                "3c2a04afdd08e439"
            ]
        ]
    },
    {
        "id": "dcda55fe54714547",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "Datarate",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "DR",
        "payload": "50000",
        "payloadType": "num",
        "x": 2080,
        "y": 460,
        "wires": [
            [
                "30ac958639858df9"
            ]
        ]
    },
    {
        "id": "3c2a04afdd08e439",
        "type": "ui_text_input",
        "z": "ef85419377c92365",
        "name": "",
        "label": "Bandwidth (KHz)",
        "tooltip": "from 4.8 to 467 KHz",
        "group": "d403ef88152f0ded",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "B",
        "x": 2380,
        "y": 400,
        "wires": [
            [
                "43be04f7e2f9e45e"
            ]
        ]
    },
    {
        "id": "30ac958639858df9",
        "type": "ui_text_input",
        "z": "ef85419377c92365",
        "name": "",
        "label": "Bit rate (bit/s)",
        "tooltip": "from 600 to 300000 bits/s",
        "group": "d403ef88152f0ded",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "DR",
        "x": 2350,
        "y": 460,
        "wires": [
            [
                "43be04f7e2f9e45e"
            ]
        ]
    },
    {
        "id": "2c36e72c15db7d04",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "Initialisation",
        "func": "flow.set(\"I\",0);\nif (flow.get(\"multiplefrequency\")===false)\n{   \n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n}\nelse\n{\n    // case frequency variable\n    flow.set(\"currentFrequency\",flow.get(\"startFreq\")*1000000);\n}\nmsg.topic=msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 900,
        "wires": [
            [
                "f3e49f1b7a3fa21e"
            ]
        ]
    },
    {
        "id": "8e0ebe70aaebd5ad",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "filter control msg",
        "func": "if (msg.enabled!==undefined) {\n    // do not forward the enable/disable messages\n    return null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2600,
        "y": 1080,
        "wires": [
            [
                "b4f95487e64fe974"
            ]
        ]
    },
    {
        "id": "aad684ddf9088691",
        "type": "link in",
        "z": "ef85419377c92365",
        "name": "multiFreq",
        "links": [
            "8981ed85c0618516",
            "22d76e22.d6f312",
            "7b1f9711ea594229",
            "7e0b3597.c3c2ac"
        ],
        "x": 2115,
        "y": 1120,
        "wires": [
            [
                "7cd92643bff64400"
            ]
        ]
    },
    {
        "id": "ae4cc11e806a915a",
        "type": "debug",
        "z": "ef85419377c92365",
        "name": "Result PER",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 990,
        "y": 340,
        "wires": []
    },
    {
        "id": "6f485ed938f2ed9f",
        "type": "ui_text",
        "z": "ef85419377c92365",
        "group": "ab0ba1631c7fada2",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "PER Result",
        "label": "PER",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 990,
        "y": 300,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "a58bf73606c81a85",
        "type": "function",
        "z": "ef85419377c92365",
        "name": "PER",
        "func": "var input = msg.payload ||\"\";\nvar pos= input.search(\"PER\");\nif (pos>1){\n    msg.payload=input.substring(pos+4);\n    flow.set(\"currentPER\", msg.payload);\n    return msg;\n} else {\nreturn null;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 690,
        "y": 320,
        "wires": [
            [
                "ae4cc11e806a915a",
                "6f485ed938f2ed9f"
            ]
        ]
    },
    {
        "id": "b6c08f759e65437f",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "Freq deviation",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "FreqDev",
        "payload": "25",
        "payloadType": "num",
        "x": 2100,
        "y": 580,
        "wires": [
            [
                "7af5da8cf4e09434"
            ]
        ]
    },
    {
        "id": "c2e5a3dd3095b2c9",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "Payload length",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "payloadlength",
        "payload": "255",
        "payloadType": "num",
        "x": 2100,
        "y": 520,
        "wires": [
            [
                "ac873f79241e528a"
            ]
        ]
    },
    {
        "id": "ac873f79241e528a",
        "type": "ui_text_input",
        "z": "ef85419377c92365",
        "name": "Payload length",
        "label": "Payload length (bit)",
        "tooltip": "1 to 256 bits",
        "group": "d403ef88152f0ded",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "payloadlength",
        "x": 2360,
        "y": 520,
        "wires": [
            [
                "43be04f7e2f9e45e"
            ]
        ]
    },
    {
        "id": "7af5da8cf4e09434",
        "type": "ui_text_input",
        "z": "ef85419377c92365",
        "name": "Frequency deviation",
        "label": "Freq deviation (KHz)",
        "tooltip": "From 0.6 KHz to 200 Khz",
        "group": "d403ef88152f0ded",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "FreqDev",
        "x": 2380,
        "y": 580,
        "wires": [
            [
                "43be04f7e2f9e45e"
            ]
        ]
    },
    {
        "id": "10013a40900cee7d",
        "type": "ui_dropdown",
        "z": "ef85419377c92365",
        "name": "",
        "label": "Bandwidth time",
        "tooltip": "",
        "place": "Select option",
        "group": "d403ef88152f0ded",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Off",
                "value": "0",
                "type": "str"
            },
            {
                "label": "0.3",
                "value": "1",
                "type": "str"
            },
            {
                "label": "0.5",
                "value": "2",
                "type": "str"
            },
            {
                "label": "0.7",
                "value": "3",
                "type": "str"
            },
            {
                "label": "1",
                "value": "4",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "BWT",
        "x": 2360,
        "y": 640,
        "wires": [
            [
                "43be04f7e2f9e45e"
            ]
        ]
    },
    {
        "id": "56de8bfadb874358",
        "type": "inject",
        "z": "ef85419377c92365",
        "name": "Bandwidth time",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "BWT",
        "payload": "3",
        "payloadType": "str",
        "x": 2100,
        "y": 640,
        "wires": [
            [
                "10013a40900cee7d"
            ]
        ]
    },
    {
        "id": "99700e17534b3154",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "Wait msg ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please wait the end of the frames",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 780,
        "wires": [
            [
                "81b9b4b3995bc189"
            ]
        ]
    },
    {
        "id": "9187aa074861bd23",
        "type": "change",
        "z": "ef85419377c92365",
        "name": "Wait msg OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 820,
        "wires": [
            [
                "81b9b4b3995bc189"
            ]
        ]
    },
    {
        "id": "81b9b4b3995bc189",
        "type": "ui_text",
        "z": "ef85419377c92365",
        "group": "ab0ba1631c7fada2",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1590,
        "y": 820,
        "wires": []
    },
    {
        "id": "b439aadf3a4f227b",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2470,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "011a19af3b7df97d",
        "type": "link in",
        "z": "e5da8b25b7d03a72",
        "name": "CTRL",
        "links": [
            "af29ed53c8853941"
        ],
        "x": 1835,
        "y": 280,
        "wires": [
            [
                "788850e2e801115f",
                "7ac9f8dfa76f2e48",
                "77664bd71118941f",
                "d820553f369fd8fc",
                "28f8471c8b5f9bb8",
                "d31de4f38fd3b60d",
                "5cb9f5a8586e5629"
            ]
        ]
    },
    {
        "id": "2ba3300484d38ac5",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "stop cmd",
        "func": "msg.payload=\"AT+TOFF\\n\"\nmsg.flow=\"GMSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 400,
        "wires": [
            [
                "2a9d01452b22337d"
            ]
        ]
    },
    {
        "id": "c67ac0abbb933122",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"GMSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 220,
        "wires": [
            [
                "2a9d01452b22337d"
            ]
        ]
    },
    {
        "id": "9ebadb9b9050ee19",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "control",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 880,
        "wires": [
            [
                "af29ed53c8853941"
            ]
        ]
    },
    {
        "id": "80912d7e46fd1dd7",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 940,
        "wires": [
            [
                "af29ed53c8853941"
            ]
        ]
    },
    {
        "id": "daa16e6b4800b464",
        "type": "finite-state-machine",
        "z": "e5da8b25b7d03a72",
        "name": "FSK TX FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"connect\":\"INIT\",\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"CONFIGURING\":{\"ok_a\":\"MEASURING\",\"ok_b\":\"MEASURING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"MEASURING\":{\"ok_a\":\"STOPPED_OK\",\"ok_b\":\"STOPPED_OK\",\"result\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPING\"},\"STOPPING\":{\"ok_a\":\"STOPPED\",\"ok_b\":\"STOPPED\"},\"STOPPED\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\"},\"STOPPED_OK\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"WAIT\":{\"stop\":\"STOPPED_OK\",\"next\":\"STARTING\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 670,
        "y": 560,
        "wires": [
            [
                "249e47a82c9fdaf4",
                "e59aeb7c6113fb94"
            ]
        ]
    },
    {
        "id": "249e47a82c9fdaf4",
        "type": "switch",
        "z": "e5da8b25b7d03a72",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "MEASURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 990,
        "y": 500,
        "wires": [
            [
                "c67ac0abbb933122",
                "4e4f3127abc62fca",
                "9ae1a3babc9b4257"
            ],
            [
                "d1c2c9a0285f7e45",
                "228233e73a59e553"
            ],
            [
                "11ee89f1790e85c6",
                "4e4f3127abc62fca",
                "228233e73a59e553"
            ],
            [
                "2ba3300484d38ac5",
                "0172e05b323153e1"
            ],
            [
                "713f692baecedf89",
                "6c6a31dc222366c5"
            ],
            [
                "713f692baecedf89",
                "6c6a31dc222366c5"
            ],
            [
                "713f692baecedf89",
                "f46353a1c8e4111b",
                "6c6a31dc222366c5"
            ]
        ]
    },
    {
        "id": "af29ed53c8853941",
        "type": "link out",
        "z": "e5da8b25b7d03a72",
        "name": "CTRL",
        "links": [
            "011a19af3b7df97d",
            "9a03bbe0571d564e",
            "b1640a15.bac4e8",
            "dd9ffc5a.b8275",
            "7737b873ccf3333e",
            "3bd2ed3ffeb7c094",
            "5b6e697c.076b78",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71"
        ],
        "x": 1495,
        "y": 920,
        "wires": []
    },
    {
        "id": "76d40f991088e887",
        "type": "comment",
        "z": "e5da8b25b7d03a72",
        "name": "Radio icon",
        "info": "",
        "x": 1280,
        "y": 540,
        "wires": []
    },
    {
        "id": "dbe2251bbffc8558",
        "type": "comment",
        "z": "e5da8b25b7d03a72",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1330,
        "y": 820,
        "wires": []
    },
    {
        "id": "d1c2c9a0285f7e45",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "Format config A",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\") +\":\" + flow.get(\"B\")*1000 + \":\" + flow.get(\"DR\") + \":4/5:0:0:3:\" + flow.get(\"payloadlength\") +\":25000:2:\" + flow.get(\"BWT\")+\"\\n\";\nmsg.flow=\"GMSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 280,
        "wires": [
            [
                "2a9d01452b22337d"
            ]
        ]
    },
    {
        "id": "2a9d01452b22337d",
        "type": "link out",
        "z": "e5da8b25b7d03a72",
        "name": "Serial Port B out",
        "links": [
            "852009e78874179a"
        ],
        "x": 1575,
        "y": 320,
        "wires": []
    },
    {
        "id": "11ee89f1790e85c6",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "Start A",
        "func": "msg.payload=\"AT+TTX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"GMSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1270,
        "y": 340,
        "wires": [
            [
                "2a9d01452b22337d"
            ]
        ]
    },
    {
        "id": "d40f38aae3831ee4",
        "type": "switch",
        "z": "e5da8b25b7d03a72",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "result",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "undefined",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 450,
        "y": 460,
        "wires": [
            [],
            [
                "a787ea8b0439e34b"
            ],
            [
                "daa16e6b4800b464"
            ]
        ]
    },
    {
        "id": "842f4eb15fe07446",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "Store Parameters",
        "func": "flow.set(msg.topic,msg.payload)\n\nif (flow.get(\"multiplefrequency\")===false){\n    msg.payload=\"Single Frequency  :\" + flow.get(\"singleFreq\")+\"#\"+flow.get(\"iterations\");\n    return msg\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2490,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "ae654e4fdfe7d35d",
        "type": "finite-state-machine",
        "z": "e5da8b25b7d03a72",
        "name": "Global",
        "fsmDefinition": "{\"state\":{\"status\":\"IDLE\"},\"transitions\":{\"IDLE\":{\"start\":\"RUN\",\"testdone\":\"IDLE\"},\"RUN\":{\"stop\":\"IDLE\",\"testdone\":\"RUN\",\"dotest\":\"RUN\",\"forcedstop\":\"IDLE\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 730,
        "y": 820,
        "wires": [
            [
                "6a7332131a25effc",
                "beec28650da03aba"
            ]
        ]
    },
    {
        "id": "6a7332131a25effc",
        "type": "switch",
        "z": "e5da8b25b7d03a72",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RUN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "IDLE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 820,
        "wires": [
            [
                "93edb0c16dfb5e98",
                "9ebadb9b9050ee19"
            ],
            [
                "a078536d5adbd6cd",
                "80912d7e46fd1dd7",
                "c414c53a8ca3d37d"
            ]
        ]
    },
    {
        "id": "937fd1a1f5010548",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "check flow A",
        "func": "if (msg.flow===\"GMSKTX\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 250,
        "y": 460,
        "wires": [
            [
                "d40f38aae3831ee4"
            ]
        ]
    },
    {
        "id": "da3d02971d37f6d3",
        "type": "link in",
        "z": "e5da8b25b7d03a72",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 95,
        "y": 460,
        "wires": [
            [
                "937fd1a1f5010548"
            ]
        ]
    },
    {
        "id": "e9713b866e130da8",
        "type": "inject",
        "z": "e5da8b25b7d03a72",
        "name": "Iterations",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "iteration",
        "payload": "0",
        "payloadType": "num",
        "x": 1780,
        "y": 1020,
        "wires": [
            [
                "842f4eb15fe07446"
            ]
        ]
    },
    {
        "id": "8d57f624a2f57e03",
        "type": "inject",
        "z": "e5da8b25b7d03a72",
        "name": "TX Power",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "txpower",
        "payload": "14",
        "payloadType": "num",
        "x": 1780,
        "y": 880,
        "wires": [
            [
                "788850e2e801115f"
            ]
        ]
    },
    {
        "id": "139e19d5b33474b0",
        "type": "inject",
        "z": "e5da8b25b7d03a72",
        "name": "Start Freq",
        "props": [
            {
                "p": "payload",
                "v": "863",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "startfreq",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "startfreq",
        "payload": "863",
        "payloadType": "num",
        "x": 1790,
        "y": 980,
        "wires": [
            [
                "77664bd71118941f"
            ]
        ]
    },
    {
        "id": "02cd52a90b46df88",
        "type": "inject",
        "z": "e5da8b25b7d03a72",
        "name": "FrameNumber",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "cycle",
        "payload": "5",
        "payloadType": "num",
        "x": 1800,
        "y": 820,
        "wires": [
            [
                "7ac9f8dfa76f2e48"
            ]
        ]
    },
    {
        "id": "77664bd71118941f",
        "type": "ui_text_input",
        "z": "e5da8b25b7d03a72",
        "name": " Single PER Frequency",
        "label": "PER Frequency (MHz)",
        "tooltip": "",
        "group": "69555801b8bc3026",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "singleFreq",
        "x": 2120,
        "y": 980,
        "wires": [
            [
                "842f4eb15fe07446"
            ]
        ]
    },
    {
        "id": "788850e2e801115f",
        "type": "ui_text_input",
        "z": "e5da8b25b7d03a72",
        "name": "TX Power",
        "label": "TX Power (dBm)",
        "tooltip": "Min -9, Max 22",
        "group": "69555801b8bc3026",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "txpower",
        "x": 2080,
        "y": 880,
        "wires": [
            [
                "842f4eb15fe07446"
            ]
        ]
    },
    {
        "id": "7ac9f8dfa76f2e48",
        "type": "ui_text_input",
        "z": "e5da8b25b7d03a72",
        "name": "Number of Frames",
        "label": "Number of Frames",
        "tooltip": "",
        "group": "69555801b8bc3026",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "cycle",
        "x": 2110,
        "y": 820,
        "wires": [
            [
                "842f4eb15fe07446"
            ]
        ]
    },
    {
        "id": "9ae1a3babc9b4257",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "Turn LED green",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 660,
        "wires": [
            [
                "baa0ea910751f8a5"
            ]
        ]
    },
    {
        "id": "f46353a1c8e4111b",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "Turn LED red",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 700,
        "wires": [
            [
                "baa0ea910751f8a5"
            ]
        ]
    },
    {
        "id": "baa0ea910751f8a5",
        "type": "ui_led",
        "z": "e5da8b25b7d03a72",
        "order": 10,
        "group": "69555801b8bc3026",
        "width": 6,
        "height": 1,
        "label": "Connection status :",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Connection status",
        "x": 1530,
        "y": 680,
        "wires": []
    },
    {
        "id": "e1fe21fe7963617d",
        "type": "comment",
        "z": "e5da8b25b7d03a72",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1830,
        "y": 180,
        "wires": []
    },
    {
        "id": "5f3b8827dd2c89d6",
        "type": "comment",
        "z": "e5da8b25b7d03a72",
        "name": "Group Parameters",
        "info": "",
        "x": 2030,
        "y": 180,
        "wires": []
    },
    {
        "id": "0d041d1a2c1c9e1f",
        "type": "comment",
        "z": "e5da8b25b7d03a72",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1790,
        "y": 940,
        "wires": []
    },
    {
        "id": "efb6695bfdbb5022",
        "type": "comment",
        "z": "e5da8b25b7d03a72",
        "name": "Group multiple & single frequencies",
        "info": "",
        "x": 2080,
        "y": 940,
        "wires": []
    },
    {
        "id": "6c280ae7eef4a629",
        "type": "comment",
        "z": "e5da8b25b7d03a72",
        "name": "Group Results",
        "info": "",
        "x": 910,
        "y": 200,
        "wires": []
    },
    {
        "id": "df41ba7dd8df3ffe",
        "type": "comment",
        "z": "e5da8b25b7d03a72",
        "name": "PER Test management",
        "info": "",
        "x": 760,
        "y": 460,
        "wires": []
    },
    {
        "id": "0a755e8f703b4c80",
        "type": "comment",
        "z": "e5da8b25b7d03a72",
        "name": "Frequency management",
        "info": "",
        "x": 510,
        "y": 780,
        "wires": []
    },
    {
        "id": "a787ea8b0439e34b",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "Frames counter",
        "func": "var input = msg.payload ||\"\";\nvar posOf= input.search(\"of\");\nif (posOf>-1)\n{\n    var posTX= input.search(\":Tx\");\n    var nb1=input.substring(posTX+4, posOf-1);\n    var nb2=input.substring(posOf+3,);\n    msg.payload=nb1+\"/\"+nb2;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 640,
        "y": 340,
        "wires": [
            [
                "c5f1768c42f2731b"
            ]
        ]
    },
    {
        "id": "c5f1768c42f2731b",
        "type": "ui_text",
        "z": "e5da8b25b7d03a72",
        "group": "69555801b8bc3026",
        "order": 12,
        "width": 0,
        "height": 0,
        "name": "Frames counter",
        "label": "Frames counter",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 940,
        "y": 400,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "3ba75dc3462670dc",
        "type": "ui_button",
        "z": "e5da8b25b7d03a72",
        "name": "Start",
        "group": "69555801b8bc3026",
        "order": 8,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 450,
        "y": 1160,
        "wires": [
            [
                "5c2bec23c6632dfa",
                "dd9fd8c2ee957267"
            ]
        ]
    },
    {
        "id": "1a48a634cca6372d",
        "type": "ui_button",
        "z": "e5da8b25b7d03a72",
        "name": "Stop",
        "group": "69555801b8bc3026",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 450,
        "y": 1240,
        "wires": [
            [
                "dd9fd8c2ee957267"
            ]
        ]
    },
    {
        "id": "325333df160b08a8",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1260,
        "wires": [
            [
                "1a48a634cca6372d"
            ]
        ]
    },
    {
        "id": "996c21a0b1899722",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1180,
        "wires": [
            [
                "3ba75dc3462670dc"
            ]
        ]
    },
    {
        "id": "93e9e036a4732cd8",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1140,
        "wires": [
            [
                "3ba75dc3462670dc"
            ]
        ]
    },
    {
        "id": "8b3fca3cba05d1d4",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1220,
        "wires": [
            [
                "1a48a634cca6372d"
            ]
        ]
    },
    {
        "id": "dcacb989279a58e2",
        "type": "inject",
        "z": "e5da8b25b7d03a72",
        "name": "init",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 1100,
        "wires": [
            [
                "325333df160b08a8",
                "93e9e036a4732cd8"
            ]
        ]
    },
    {
        "id": "5c2bec23c6632dfa",
        "type": "link out",
        "z": "e5da8b25b7d03a72",
        "name": "Start",
        "links": [
            "c7d6782cf92aa58d"
        ],
        "x": 575,
        "y": 1180,
        "wires": []
    },
    {
        "id": "c7d6782cf92aa58d",
        "type": "link in",
        "z": "e5da8b25b7d03a72",
        "name": "start",
        "links": [
            "5c2bec23c6632dfa"
        ],
        "x": 55,
        "y": 1240,
        "wires": [
            [
                "8b3fca3cba05d1d4",
                "996c21a0b1899722"
            ]
        ]
    },
    {
        "id": "c59edf6e0438b9d7",
        "type": "link in",
        "z": "e5da8b25b7d03a72",
        "name": "stop",
        "links": [
            "a078536d5adbd6cd",
            "b573b69.2452b48"
        ],
        "x": 55,
        "y": 1180,
        "wires": [
            [
                "93e9e036a4732cd8",
                "325333df160b08a8"
            ]
        ]
    },
    {
        "id": "a078536d5adbd6cd",
        "type": "link out",
        "z": "e5da8b25b7d03a72",
        "name": "stop",
        "links": [
            "c59edf6e0438b9d7"
        ],
        "x": 1035,
        "y": 900,
        "wires": []
    },
    {
        "id": "4e4f3127abc62fca",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "Empty payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 500,
        "wires": [
            [
                "140e38161e7f9f19"
            ]
        ]
    },
    {
        "id": "beec28650da03aba",
        "type": "debug",
        "z": "e5da8b25b7d03a72",
        "name": "top FSM",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 880,
        "wires": []
    },
    {
        "id": "90bc7ed7e9bdda66",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "unexpected stop",
        "func": "msg.topic=\"forcedstop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 820,
        "wires": [
            [
                "ae654e4fdfe7d35d"
            ]
        ]
    },
    {
        "id": "02a165624531e33e",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "PrepareNextRun",
        "func": "flow.set(\"I\",flow.get(\"I\")+1);\n\n    if (flow.get(\"I\")>=flow.get(\"iterations\"))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n    }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 860,
        "wires": [
            [
                "ae654e4fdfe7d35d"
            ]
        ]
    },
    {
        "id": "93edb0c16dfb5e98",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "start new test",
        "func": "msg.topic=\"start\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 810,
        "y": 700,
        "wires": [
            [
                "daa16e6b4800b464"
            ]
        ]
    },
    {
        "id": "e59aeb7c6113fb94",
        "type": "switch",
        "z": "e5da8b25b7d03a72",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 210,
        "y": 840,
        "wires": [
            [
                "90bc7ed7e9bdda66"
            ],
            [
                "02a165624531e33e"
            ]
        ]
    },
    {
        "id": "79befaf1b2655fb1",
        "type": "link in",
        "z": "e5da8b25b7d03a72",
        "name": "clear results",
        "links": [
            "140e38161e7f9f19"
        ],
        "x": 715,
        "y": 260,
        "wires": [
            [
                "c5f1768c42f2731b"
            ]
        ]
    },
    {
        "id": "140e38161e7f9f19",
        "type": "link out",
        "z": "e5da8b25b7d03a72",
        "name": "clear results",
        "links": [
            "79befaf1b2655fb1"
        ],
        "x": 1435,
        "y": 500,
        "wires": []
    },
    {
        "id": "8980113e4638658b",
        "type": "comment",
        "z": "e5da8b25b7d03a72",
        "name": "Clear results",
        "info": "",
        "x": 1290,
        "y": 460,
        "wires": []
    },
    {
        "id": "dd9fd8c2ee957267",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "Initialisation",
        "func": "flow.set(\"I\",0);\nflow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\nmsg.topic=msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 650,
        "y": 920,
        "wires": [
            [
                "ae654e4fdfe7d35d"
            ]
        ]
    },
    {
        "id": "8d3fd03822aa8655",
        "type": "ui_text",
        "z": "e5da8b25b7d03a72",
        "group": "69555801b8bc3026",
        "order": 11,
        "width": 6,
        "height": 1,
        "name": "icon ",
        "label": "",
        "format": "{{msg.format}}",
        "layout": "col-center",
        "x": 1490,
        "y": 600,
        "wires": []
    },
    {
        "id": "228233e73a59e553",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "Start animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "<font color=\"green\"><i class=\"fa fa-spinner fa-spin fa-3x\"></i></font>",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 580,
        "wires": [
            [
                "8d3fd03822aa8655"
            ]
        ]
    },
    {
        "id": "713f692baecedf89",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "Stop animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 620,
        "wires": [
            [
                "8d3fd03822aa8655"
            ]
        ]
    },
    {
        "id": "c414c53a8ca3d37d",
        "type": "function",
        "z": "e5da8b25b7d03a72",
        "name": "stop test",
        "func": "msg.topic=\"stop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1125,
        "y": 786,
        "wires": [
            [
                "daa16e6b4800b464"
            ]
        ]
    },
    {
        "id": "cbd1474b17a05570",
        "type": "inject",
        "z": "e5da8b25b7d03a72",
        "name": "Payload length",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "payloadlength",
        "payload": "16",
        "payloadType": "num",
        "x": 1800,
        "y": 680,
        "wires": [
            [
                "d31de4f38fd3b60d"
            ]
        ]
    },
    {
        "id": "d31de4f38fd3b60d",
        "type": "ui_text_input",
        "z": "e5da8b25b7d03a72",
        "name": "Payload length",
        "label": "Payload length (bit)",
        "tooltip": "1 to 256 bits",
        "group": "69555801b8bc3026",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "payloadlength",
        "x": 2100,
        "y": 680,
        "wires": [
            [
                "b439aadf3a4f227b"
            ]
        ]
    },
    {
        "id": "d820553f369fd8fc",
        "type": "ui_dropdown",
        "z": "e5da8b25b7d03a72",
        "name": "",
        "label": "Bandwidth time",
        "tooltip": "",
        "place": "Select option",
        "group": "69555801b8bc3026",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Off",
                "value": "0",
                "type": "str"
            },
            {
                "label": "0.3",
                "value": "1",
                "type": "str"
            },
            {
                "label": "0.5",
                "value": "2",
                "type": "str"
            },
            {
                "label": "0.7",
                "value": "3",
                "type": "str"
            },
            {
                "label": "1",
                "value": "4",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "BWT",
        "x": 2100,
        "y": 760,
        "wires": [
            [
                "b439aadf3a4f227b"
            ]
        ]
    },
    {
        "id": "83e7182cf80e6e48",
        "type": "inject",
        "z": "e5da8b25b7d03a72",
        "name": "Bandwidth time",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "BWT",
        "payload": "3",
        "payloadType": "str",
        "x": 1800,
        "y": 760,
        "wires": [
            [
                "d820553f369fd8fc"
            ]
        ]
    },
    {
        "id": "8d29e299ffd5c2fe",
        "type": "inject",
        "z": "e5da8b25b7d03a72",
        "name": "Bandwidth",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "B",
        "payload": "10",
        "payloadType": "num",
        "x": 1790,
        "y": 460,
        "wires": [
            [
                "28f8471c8b5f9bb8"
            ]
        ]
    },
    {
        "id": "28f8471c8b5f9bb8",
        "type": "ui_text_input",
        "z": "e5da8b25b7d03a72",
        "name": "",
        "label": "Bandwidth (KHz)",
        "tooltip": "from 4.8 to 467 KHz",
        "group": "69555801b8bc3026",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "B",
        "topicType": "str",
        "x": 2110,
        "y": 460,
        "wires": [
            [
                "b439aadf3a4f227b"
            ]
        ]
    },
    {
        "id": "ef439d76a90bfd0d",
        "type": "inject",
        "z": "e5da8b25b7d03a72",
        "name": "Datarate",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "DR",
        "payload": "10000",
        "payloadType": "num",
        "x": 1780,
        "y": 580,
        "wires": [
            [
                "5cb9f5a8586e5629"
            ]
        ]
    },
    {
        "id": "5cb9f5a8586e5629",
        "type": "ui_text_input",
        "z": "e5da8b25b7d03a72",
        "name": "",
        "label": "Bit rate (bit/s)",
        "tooltip": "from 0.1 to 10 Kbits/s",
        "group": "69555801b8bc3026",
        "order": 4,
        "width": 12,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "DR",
        "topicType": "str",
        "x": 2090,
        "y": 580,
        "wires": [
            [
                "b439aadf3a4f227b"
            ]
        ]
    },
    {
        "id": "6c6a31dc222366c5",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "Wait msg OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 780,
        "wires": [
            [
                "2f499cdcb263218a"
            ]
        ]
    },
    {
        "id": "0172e05b323153e1",
        "type": "change",
        "z": "e5da8b25b7d03a72",
        "name": "Wait msg ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please wait the end of the frames",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 740,
        "wires": [
            [
                "2f499cdcb263218a"
            ]
        ]
    },
    {
        "id": "2f499cdcb263218a",
        "type": "ui_text",
        "z": "e5da8b25b7d03a72",
        "group": "69555801b8bc3026",
        "order": 13,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1550,
        "y": 760,
        "wires": []
    },
    {
        "id": "e32b2a0dea47b712",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2870,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "9f02e88eff4d37d8",
        "type": "link in",
        "z": "916c085c39129bbf",
        "name": "CTRL",
        "links": [
            "48fe0a88a1e98d4b"
        ],
        "x": 2215,
        "y": 320,
        "wires": [
            [
                "6cd29b364c1c3849",
                "64c4b52cbfbabf86",
                "762f3e19d6651eea",
                "be69a42da953fdce",
                "63a473b5f2090624",
                "3904f6f5acd764ec",
                "1a8da2a23106bcfe",
                "34f984467313ef6a",
                "48715998a86afc6b",
                "be2549a191468ac4",
                "3f4bcf2b474bb4f5",
                "c4aed248b45bfc2d"
            ]
        ]
    },
    {
        "id": "adbac98752cde8f5",
        "type": "ui_switch",
        "z": "916c085c39129bbf",
        "name": "Lora Transmit",
        "label": "",
        "tooltip": "",
        "group": "4142f6aeb8a7e5b9",
        "order": 11,
        "width": 6,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "transmit",
        "style": "",
        "onvalue": "fake_start",
        "onvalueType": "str",
        "onicon": "fa-wifi fa-3x",
        "oncolor": "green",
        "offvalue": "fake_stop",
        "offvalueType": "str",
        "officon": "fa-wifi fa-3x",
        "offcolor": "grey",
        "x": 1780,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "1d74b8e3bc55170e",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "Format config A",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\") +\":\" + flow.get(\"B\")*1000 + \":\" + flow.get(\"DR\") + \":4/5:0:0:3:\" + flow.get(\"payloadlength\") +\":25000:2:\" + flow.get(\"BWT\")+\"\\n\";\nmsg.flow=\"GMSKPER\";\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1460,
        "y": 240,
        "wires": [
            [
                "0bc84caef50ce504"
            ]
        ]
    },
    {
        "id": "a4d520372fb01700",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "Start A",
        "func": "msg.payload=\"AT+TTX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"GMSKPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1470,
        "y": 460,
        "wires": [
            [
                "0bc84caef50ce504"
            ]
        ]
    },
    {
        "id": "ecbc2382ef621350",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "stop cmd",
        "func": "msg.payload=\"AT+TOFF\\n\"\nmsg.flow=\"GMSKPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1440,
        "y": 520,
        "wires": [
            [
                "0bc84caef50ce504",
                "035eb448d7507839"
            ]
        ]
    },
    {
        "id": "69ba57137949abf4",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"GMSKPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1440,
        "y": 180,
        "wires": [
            [
                "0bc84caef50ce504",
                "035eb448d7507839"
            ]
        ]
    },
    {
        "id": "695954e1e44899c3",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "control",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1440,
        "y": 940,
        "wires": [
            [
                "48fe0a88a1e98d4b"
            ]
        ]
    },
    {
        "id": "14f896fef3f2276f",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1440,
        "y": 1000,
        "wires": [
            [
                "48fe0a88a1e98d4b"
            ]
        ]
    },
    {
        "id": "6a0ab80f3278c7df",
        "type": "finite-state-machine",
        "z": "916c085c39129bbf",
        "name": "GMSK PER FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"CONFIGURING_A\":{\"ok_a\":\"CONFIGURING_B\",\"ok_b\":\"CONFIGURING_B\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"CONFIGURING_B\":{\"ok_a\":\"MEASURING\",\"ok_b\":\"MEASURING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"MEASURING\":{\"ok_a\":\"WAIT_END\",\"ok_b\":\"WAIT_END\",\"stop\":\"STOPPED\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"WAIT_END\":{\"ok_a\":\"STOPPING\",\"ok_b\":\"STOPPING\",\"stop\":\"OK\",\"resetok\":\"STOPPED\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"STOPPING\":{\"ok_a\":\"STOPPED_A\",\"ok_b\":\"STOPPED_B\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"forcedstop\":\"INIT\"},\"STOPPED_A\":{\"ok_b\":\"STOPPED_OK\",\"ok_a\":\"STOPPED_A\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"STOPPED_B\":{\"ok_a\":\"STOPPED_OK\",\"ok_b\":\"STOPPED_B\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"STOPPED\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING_A\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"STOPPED_OK\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING_A\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 940,
        "y": 560,
        "wires": [
            [
                "23ee17c5126296ac",
                "de43fbd8bc94fd37",
                "b23a6ab99af246cd"
            ]
        ]
    },
    {
        "id": "23ee17c5126296ac",
        "type": "switch",
        "z": "916c085c39129bbf",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING_A",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING_B",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "MEASURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 8,
        "x": 1150,
        "y": 560,
        "wires": [
            [
                "69ba57137949abf4",
                "04dbc9c992b7ebca"
            ],
            [
                "1d74b8e3bc55170e",
                "b123f2988e6eeb1f"
            ],
            [
                "7be6625e27ddfb5e"
            ],
            [
                "c56347cb6bb50aa5",
                "e3724284e80f5d16",
                "04dbc9c992b7ebca"
            ],
            [
                "ecbc2382ef621350",
                "6979ff8d53aa12ff"
            ],
            [
                "427174611403b544",
                "f60b935eef2860b8"
            ],
            [
                "427174611403b544",
                "f60b935eef2860b8"
            ],
            [
                "427174611403b544",
                "f60b935eef2860b8"
            ]
        ]
    },
    {
        "id": "faf691445cbf895f",
        "type": "link in",
        "z": "916c085c39129bbf",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 275,
        "y": 460,
        "wires": [
            [
                "c6c7e574aa7687ea"
            ]
        ]
    },
    {
        "id": "427174611403b544",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_stop",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 760,
        "wires": [
            [
                "adbac98752cde8f5"
            ]
        ]
    },
    {
        "id": "b123f2988e6eeb1f",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fake_start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 720,
        "wires": [
            [
                "adbac98752cde8f5"
            ]
        ]
    },
    {
        "id": "48fe0a88a1e98d4b",
        "type": "link out",
        "z": "916c085c39129bbf",
        "name": "CTRL",
        "links": [
            "9f02e88eff4d37d8",
            "9a03bbe0571d564e",
            "b1640a15.bac4e8",
            "dd9ffc5a.b8275",
            "7737b873ccf3333e",
            "3bd2ed3ffeb7c094",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71"
        ],
        "x": 1655,
        "y": 980,
        "wires": []
    },
    {
        "id": "5241b993917b0dc1",
        "type": "comment",
        "z": "916c085c39129bbf",
        "name": "Radio icon",
        "info": "",
        "x": 1460,
        "y": 680,
        "wires": []
    },
    {
        "id": "d439f9eff9a25d44",
        "type": "comment",
        "z": "916c085c39129bbf",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1490,
        "y": 880,
        "wires": []
    },
    {
        "id": "c6c7e574aa7687ea",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "check flow A",
        "func": "if (msg.flow===\"GMSKPER\" || msg.flow===\"ALL\") {\n    \nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 410,
        "y": 460,
        "wires": [
            [
                "bd2bf9d4daefd03f"
            ]
        ]
    },
    {
        "id": "7be6625e27ddfb5e",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "Format config B",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\")  +\":\"  + flow.get(\"B\")*1000 + \":\" + flow.get(\"DR\") + \":4/5:0:0:0:\" + flow.get(\"payloadlength\") +\":25000:2:\" + flow.get(\"BWT\")+\"\\n\";\nmsg.flow=\"GMSKPER\";\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1460,
        "y": 300,
        "wires": [
            [
                "035eb448d7507839"
            ]
        ]
    },
    {
        "id": "0bc84caef50ce504",
        "type": "link out",
        "z": "916c085c39129bbf",
        "name": "Serial Port A out",
        "links": [
            "852009e78874179a"
        ],
        "x": 1755,
        "y": 320,
        "wires": []
    },
    {
        "id": "035eb448d7507839",
        "type": "link out",
        "z": "916c085c39129bbf",
        "name": "Serial Port B out",
        "links": [
            "33f3d0b3dcc7bd60"
        ],
        "x": 1755,
        "y": 400,
        "wires": []
    },
    {
        "id": "c56347cb6bb50aa5",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "Start B",
        "func": "msg.payload=\"AT+TRX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"GMSKPER\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1430,
        "y": 360,
        "wires": [
            [
                "035eb448d7507839"
            ]
        ]
    },
    {
        "id": "a08d90015b6288c5",
        "type": "debug",
        "z": "916c085c39129bbf",
        "name": "Result RSSI",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1090,
        "y": 160,
        "wires": []
    },
    {
        "id": "29088df7347a0f81",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "RSSI SNR",
        "func": "var input = msg.payload ||\"\";\nvar posRssi= input.search(\"RssiValue\");\nvar posdBm=input.search(\"dBm\");\n\nif (posRssi>1){\n    //save the values in temp variables\n    msg.payload=input.substring(posRssi+10,posdBm+3);\n    flow.set(\"currentRSSItmp\",msg.payload);\n    return null;\n}\n    \n   \nvar posRX= input.search(\":Rx\");\nif (posRX>-1)\n{\n    // update the data and clean temp variables \n    msg.payload=flow.get(\"currentRSSItmp\");\n    msg.topic=\"RSSI\";\n    flow.set(\"currentRSSI\",msg.payload);\n    flow.set(\"currentRSSItmp\",\"No packet\");\n\n    return msg;\n} \n    \nreturn null;\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 220,
        "wires": [
            [
                "a08d90015b6288c5",
                "57610c3e3e6424ba"
            ],
            []
        ]
    },
    {
        "id": "57610c3e3e6424ba",
        "type": "ui_text",
        "z": "916c085c39129bbf",
        "group": "d7ad58382d93d234",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "RSSI Result",
        "label": "RSSI",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1090,
        "y": 120,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "bd2bf9d4daefd03f",
        "type": "switch",
        "z": "916c085c39129bbf",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "result",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "undefined",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 610,
        "y": 480,
        "wires": [
            [
                "29088df7347a0f81",
                "bb0dbe95654f057f",
                "069c9e04787f10f4"
            ],
            [],
            [
                "6a0ab80f3278c7df"
            ]
        ]
    },
    {
        "id": "2f682da2e0b0e0d5",
        "type": "finite-state-machine",
        "z": "916c085c39129bbf",
        "name": "Global",
        "fsmDefinition": "{\"state\":{\"status\":\"IDLE\"},\"transitions\":{\"IDLE\":{\"start\":\"RUN\",\"testdone\":\"IDLE\"},\"RUN\":{\"stop\":\"IDLE\",\"testdone\":\"RUN\",\"dotest\":\"RUN\",\"forcedstop\":\"IDLE\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 810,
        "y": 840,
        "wires": [
            [
                "e4ee643ba0665eaa",
                "55f2058a7660c999"
            ]
        ]
    },
    {
        "id": "e4ee643ba0665eaa",
        "type": "switch",
        "z": "916c085c39129bbf",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RUN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "IDLE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 990,
        "y": 840,
        "wires": [
            [
                "853e33e3766eed47",
                "695954e1e44899c3"
            ],
            [
                "cf13fd7c2111d96d",
                "14f896fef3f2276f"
            ]
        ]
    },
    {
        "id": "47c9e72e28e42d20",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "check flow B",
        "func": "if (msg.flow===\"GMSKPER\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 410,
        "y": 520,
        "wires": [
            [
                "bd2bf9d4daefd03f"
            ]
        ]
    },
    {
        "id": "46a4a14d723451e5",
        "type": "link in",
        "z": "916c085c39129bbf",
        "name": "",
        "links": [
            "f3dfe1e0131d23cd"
        ],
        "x": 275,
        "y": 520,
        "wires": [
            [
                "47c9e72e28e42d20"
            ]
        ]
    },
    {
        "id": "919259c638f37795",
        "type": "ui_table",
        "z": "916c085c39129bbf",
        "group": "d7ad58382d93d234",
        "name": "Table Results",
        "order": 5,
        "width": 12,
        "height": 4,
        "columns": [],
        "outputs": 0,
        "cts": false,
        "x": 1100,
        "y": 1140,
        "wires": []
    },
    {
        "id": "4f67f0e1d7ea92e3",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "ClearTable",
        "func": "msg.payload=[{\n        \"Frequency\":\"\",\n        \"Last RSSI\":\"\",\n        \"PER\": \"\"\n        }];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 850,
        "y": 1180,
        "wires": [
            [
                "919259c638f37795"
            ]
        ]
    },
    {
        "id": "b1c769309f7ab098",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "addrow",
        "func": "msg.payload=\n{\n    command: \"addRow\",\n    arguments: [\n        {\n        \"Frequency\":flow.get(\"currentFrequency\")/1000000 + \" MHz\",\n        \"Last RSSI\":flow.get(\"currentRSSI\") + \" dBm\",\n        \"PER\": flow.get(\"currentPER\")\n        },\n        false\n    ],\n    returnPromise: true\n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 840,
        "y": 1100,
        "wires": [
            [
                "919259c638f37795"
            ]
        ]
    },
    {
        "id": "2ab620b4c56c6ca3",
        "type": "link in",
        "z": "916c085c39129bbf",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 375,
        "y": 1460,
        "wires": [
            [
                "6d590e3d46f3607c"
            ]
        ]
    },
    {
        "id": "6d590e3d46f3607c",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "check flow A",
        "func": "if (msg.flow===\"GMSKPER\" || msg.flow===\"ALL\") {\n    \n    if (msg.topic==\"connect\")\n    {\n        msg.topic=\"connect_a\";\n    }\n    \n    if (msg.topic==\"disconnect\")\n    {\n        msg.topic=\"disconnect_a\";\n    }\n    \nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 510,
        "y": 1460,
        "wires": [
            [
                "6a597501dfe3e0fe"
            ]
        ]
    },
    {
        "id": "699461f80d39f828",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "check flow B",
        "func": "if (msg.flow===\"GMSKPER\" || msg.flow===\"ALL\") {\n    \n        if (msg.topic==\"connect\")\n    {\n        msg.topic=\"connect_b\";\n    }\n    \n    if (msg.topic==\"disconnect\")\n    {\n        msg.topic=\"disconnect_b\";\n    }\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 510,
        "y": 1540,
        "wires": [
            [
                "6a597501dfe3e0fe"
            ]
        ]
    },
    {
        "id": "e9a893e8f4e1fd12",
        "type": "link in",
        "z": "916c085c39129bbf",
        "name": "",
        "links": [
            "f3dfe1e0131d23cd"
        ],
        "x": 375,
        "y": 1540,
        "wires": [
            [
                "699461f80d39f828"
            ]
        ]
    },
    {
        "id": "6a597501dfe3e0fe",
        "type": "switch",
        "z": "916c085c39129bbf",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "connect_a",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "connect_b",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "disconnect_a",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "disconnect_b",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 710,
        "y": 1500,
        "wires": [
            [
                "7597c09644273f21"
            ],
            [
                "7597c09644273f21"
            ],
            [
                "7597c09644273f21"
            ],
            [
                "7597c09644273f21"
            ],
            []
        ]
    },
    {
        "id": "7597c09644273f21",
        "type": "finite-state-machine",
        "z": "916c085c39129bbf",
        "name": "Connection Status",
        "fsmDefinition": "{\"state\":{\"status\":\"UNKNOWN\"},\"transitions\":{\"UNKNOWN\":{\"d\":\"DISCONNECTED_AB\",\"connect_a\":\"CONNECTED_A\",\"connect_b\":\"CONNECTED_B\",\"disconnect_a\":\"DISCONNECTED_A\",\"disconnect_b\":\"DISCONNECTED_B\"},\"CONNECTED_A\":{\"connect_b\":\"CONNECTED_AB\",\"disconnect_a\":\"DISCONNECTED_AB\",\"disconnect_b\":\"DISCONNECTED_A\"},\"CONNECTED_B\":{\"connect_a\":\"CONNECTED_AB\",\"disconnect_b\":\"DISCONNECTED_AB\",\"disconnect_a\":\"DISCONNECTED_B\"},\"CONNECTED_AB\":{\"disconnect_b\":\"CONNECTED_A\",\"disconnect_a\":\"CONNECTED_B\"},\"DISCONNECTED_AB\":{\"connect_a\":\"CONNECTED_A\",\"connect_b\":\"CONNECTED_B\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": false,
        "showTransitionErrors": true,
        "x": 930,
        "y": 1500,
        "wires": [
            [
                "b95d4efeb991ac5f"
            ]
        ]
    },
    {
        "id": "b95d4efeb991ac5f",
        "type": "switch",
        "z": "916c085c39129bbf",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "CONNECTED_AB",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1130,
        "y": 1500,
        "wires": [
            [
                "a90fa99c5966f14f"
            ],
            [
                "2b183bb2dd6c1ef6"
            ]
        ]
    },
    {
        "id": "a90fa99c5966f14f",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "Turn LED green",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1480,
        "wires": [
            [
                "f53f45fbcfb6bd30"
            ]
        ]
    },
    {
        "id": "2b183bb2dd6c1ef6",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "Turn LED red",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1520,
        "wires": [
            [
                "f53f45fbcfb6bd30"
            ]
        ]
    },
    {
        "id": "f53f45fbcfb6bd30",
        "type": "ui_led",
        "z": "916c085c39129bbf",
        "order": 10,
        "group": "4142f6aeb8a7e5b9",
        "width": 6,
        "height": 1,
        "label": "Connection status :",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Connection status",
        "x": 1610,
        "y": 1500,
        "wires": []
    },
    {
        "id": "ebd1e55356df67af",
        "type": "comment",
        "z": "916c085c39129bbf",
        "name": "Initialization of parameters",
        "info": "",
        "x": 2210,
        "y": 260,
        "wires": []
    },
    {
        "id": "b146f68747835c7a",
        "type": "comment",
        "z": "916c085c39129bbf",
        "name": "Group Parameters",
        "info": "",
        "x": 2410,
        "y": 260,
        "wires": []
    },
    {
        "id": "23c4851a8dcf3d6b",
        "type": "comment",
        "z": "916c085c39129bbf",
        "name": "Group Results",
        "info": "",
        "x": 1090,
        "y": 60,
        "wires": []
    },
    {
        "id": "d780ea9193a13333",
        "type": "comment",
        "z": "916c085c39129bbf",
        "name": "Boards connections management",
        "info": "",
        "x": 930,
        "y": 1400,
        "wires": []
    },
    {
        "id": "59f21c189ecaed4f",
        "type": "comment",
        "z": "916c085c39129bbf",
        "name": "PER Test management",
        "info": "",
        "x": 920,
        "y": 480,
        "wires": []
    },
    {
        "id": "f2a327b17b272712",
        "type": "comment",
        "z": "916c085c39129bbf",
        "name": "Frequency management",
        "info": "",
        "x": 810,
        "y": 760,
        "wires": []
    },
    {
        "id": "bb0dbe95654f057f",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "Frames counter",
        "func": "var input = msg.payload ||\"\";\n\nvar posRX= input.search(\":Rx\");\nif (posRX>-1)\n{\n    var posOf = input.search(\"of\");\n    var pos3xSup = input.search(\">>>\");\n    var nb1=input.substring(posRX+4, posOf-1);\n    var nb2=input.substring(posOf+3, pos3xSup-2);\n    msg.payload=nb1+\"/\"+nb2;\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 840,
        "y": 420,
        "wires": [
            [
                "2ba296573d600e89"
            ]
        ]
    },
    {
        "id": "2ba296573d600e89",
        "type": "ui_text",
        "z": "916c085c39129bbf",
        "group": "d7ad58382d93d234",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "Frames counter",
        "label": "Frames counter",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1100,
        "y": 420,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "f25877dbf78c3932",
        "type": "ui_button",
        "z": "916c085c39129bbf",
        "name": "Start",
        "group": "4142f6aeb8a7e5b9",
        "order": 8,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 610,
        "y": 1180,
        "wires": [
            [
                "6b72913802cb3f4e",
                "4f67f0e1d7ea92e3",
                "57ddcf9fb9827d25"
            ]
        ]
    },
    {
        "id": "fa8deeb31e19a12a",
        "type": "ui_button",
        "z": "916c085c39129bbf",
        "name": "Stop",
        "group": "4142f6aeb8a7e5b9",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 610,
        "y": 1260,
        "wires": [
            [
                "57ddcf9fb9827d25",
                "fa23c2ddd9f6a7c9"
            ]
        ]
    },
    {
        "id": "710e739922cd4faa",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 1280,
        "wires": [
            [
                "fa8deeb31e19a12a"
            ]
        ]
    },
    {
        "id": "7d9a63bccb5563d7",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 1200,
        "wires": [
            [
                "f25877dbf78c3932"
            ]
        ]
    },
    {
        "id": "cd5c600c42317d88",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 1160,
        "wires": [
            [
                "f25877dbf78c3932"
            ]
        ]
    },
    {
        "id": "1069a5723d6a33bd",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 1240,
        "wires": [
            [
                "fa8deeb31e19a12a"
            ]
        ]
    },
    {
        "id": "04a1a5e998a13203",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "init",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 1140,
        "wires": [
            [
                "710e739922cd4faa",
                "cd5c600c42317d88",
                "7597c09644273f21"
            ]
        ]
    },
    {
        "id": "e3724284e80f5d16",
        "type": "delay",
        "z": "916c085c39129bbf",
        "name": "100ms",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1430,
        "y": 420,
        "wires": [
            [
                "a4d520372fb01700"
            ]
        ]
    },
    {
        "id": "6b72913802cb3f4e",
        "type": "link out",
        "z": "916c085c39129bbf",
        "name": "Start",
        "links": [
            "15e8c74587330470"
        ],
        "x": 735,
        "y": 1200,
        "wires": []
    },
    {
        "id": "15e8c74587330470",
        "type": "link in",
        "z": "916c085c39129bbf",
        "name": "start",
        "links": [
            "6b72913802cb3f4e"
        ],
        "x": 215,
        "y": 1260,
        "wires": [
            [
                "1069a5723d6a33bd",
                "7d9a63bccb5563d7"
            ]
        ]
    },
    {
        "id": "54ecb52268471fbe",
        "type": "link in",
        "z": "916c085c39129bbf",
        "name": "stop",
        "links": [
            "cf13fd7c2111d96d",
            "b573b69.2452b48"
        ],
        "x": 215,
        "y": 1200,
        "wires": [
            [
                "cd5c600c42317d88",
                "710e739922cd4faa"
            ]
        ]
    },
    {
        "id": "cf13fd7c2111d96d",
        "type": "link out",
        "z": "916c085c39129bbf",
        "name": "stop",
        "links": [
            "54ecb52268471fbe"
        ],
        "x": 1115,
        "y": 920,
        "wires": []
    },
    {
        "id": "04dbc9c992b7ebca",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "Empty payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 620,
        "wires": [
            [
                "430c79a1306dbdac"
            ]
        ]
    },
    {
        "id": "de43fbd8bc94fd37",
        "type": "debug",
        "z": "916c085c39129bbf",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1140,
        "y": 660,
        "wires": []
    },
    {
        "id": "55f2058a7660c999",
        "type": "debug",
        "z": "916c085c39129bbf",
        "name": "top FSM",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 980,
        "y": 900,
        "wires": []
    },
    {
        "id": "37c3101d2c10a6cf",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "unexpected stop",
        "func": "msg.topic=\"forcedstop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 560,
        "y": 800,
        "wires": [
            [
                "2f682da2e0b0e0d5"
            ]
        ]
    },
    {
        "id": "3318a899b4e68554",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "PrepareNextRun",
        "func": "flow.set(\"I\",flow.get(\"I\")+1);\nif (flow.get(\"multiplefrequency\")===false)\n{   \n    if (flow.get(\"I\")>=flow.get(\"iterations\"))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n    }\n}\nelse\n{\n    // case frequency variable\n    currentFrequency= (flow.get(\"startFreq\")+flow.get(\"stepFreq\")*flow.get(\"I\"))*1000000;\n    flow.set(\"currentFrequency\",currentFrequency);\n    if (currentFrequency> (flow.get(\"endFreq\")*1000000))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 860,
        "wires": [
            [
                "2f682da2e0b0e0d5"
            ]
        ]
    },
    {
        "id": "853e33e3766eed47",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "start new test",
        "func": "  msg.topic=\"start\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1170,
        "y": 800,
        "wires": [
            [
                "6a0ab80f3278c7df"
            ]
        ]
    },
    {
        "id": "b23a6ab99af246cd",
        "type": "switch",
        "z": "916c085c39129bbf",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 860,
        "wires": [
            [
                "37c3101d2c10a6cf"
            ],
            [
                "b1c769309f7ab098",
                "3318a899b4e68554"
            ]
        ]
    },
    {
        "id": "f8509cd8b15e1060",
        "type": "link in",
        "z": "916c085c39129bbf",
        "name": "clear results",
        "links": [
            "430c79a1306dbdac"
        ],
        "x": 875,
        "y": 280,
        "wires": [
            [
                "57610c3e3e6424ba",
                "2ba296573d600e89",
                "938fed46d2a23d02"
            ]
        ]
    },
    {
        "id": "430c79a1306dbdac",
        "type": "link out",
        "z": "916c085c39129bbf",
        "name": "clear results",
        "links": [
            "f8509cd8b15e1060"
        ],
        "x": 1615,
        "y": 620,
        "wires": []
    },
    {
        "id": "e46236e26dc905b4",
        "type": "comment",
        "z": "916c085c39129bbf",
        "name": "Clear results",
        "info": "",
        "x": 1470,
        "y": 580,
        "wires": []
    },
    {
        "id": "6a0fd7bf50b4a9d3",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "Bandwidth",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "B",
        "payload": "10",
        "payloadType": "num",
        "x": 2190,
        "y": 420,
        "wires": [
            [
                "6cd29b364c1c3849"
            ]
        ]
    },
    {
        "id": "9287f51b5b905881",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "Datarate",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "DR",
        "payload": "10000",
        "payloadType": "num",
        "x": 2180,
        "y": 480,
        "wires": [
            [
                "64c4b52cbfbabf86"
            ]
        ]
    },
    {
        "id": "6cd29b364c1c3849",
        "type": "ui_text_input",
        "z": "916c085c39129bbf",
        "name": "",
        "label": "Bandwidth (KHz)",
        "tooltip": "from 4.8 to 467 KHz",
        "group": "4142f6aeb8a7e5b9",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "B",
        "x": 2470,
        "y": 420,
        "wires": [
            [
                "e32b2a0dea47b712"
            ]
        ]
    },
    {
        "id": "64c4b52cbfbabf86",
        "type": "ui_text_input",
        "z": "916c085c39129bbf",
        "name": "",
        "label": "Bit rate (bit/s)",
        "tooltip": "from 2.4 to 10 Kbits/s - Press enter key to validate the value",
        "group": "4142f6aeb8a7e5b9",
        "order": 4,
        "width": 12,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "DR",
        "x": 2450,
        "y": 480,
        "wires": [
            [
                "e32b2a0dea47b712"
            ]
        ]
    },
    {
        "id": "57ddcf9fb9827d25",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "Initialisation",
        "func": "flow.set(\"I\",0);\nif (flow.get(\"multiplefrequency\")===false)\n{   \n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n}\nelse\n{\n    // case frequency variable\n    flow.set(\"currentFrequency\",flow.get(\"startFreq\")*1000000);\n}\nmsg.topic=msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 590,
        "y": 920,
        "wires": [
            [
                "2f682da2e0b0e0d5"
            ]
        ]
    },
    {
        "id": "f8e5b0b1b8a8fc74",
        "type": "debug",
        "z": "916c085c39129bbf",
        "name": "Result PER",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1090,
        "y": 360,
        "wires": []
    },
    {
        "id": "938fed46d2a23d02",
        "type": "ui_text",
        "z": "916c085c39129bbf",
        "group": "d7ad58382d93d234",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "PER Result",
        "label": "PER",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1090,
        "y": 320,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "069c9e04787f10f4",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "PER",
        "func": "var input = msg.payload ||\"\";\nvar pos= input.search(\"PER\");\nif (pos>1){\n    msg.payload=input.substring(pos+4);\n    flow.set(\"currentPER\", msg.payload);\n    return msg;\n} else {\nreturn null;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 790,
        "y": 340,
        "wires": [
            [
                "f8e5b0b1b8a8fc74",
                "938fed46d2a23d02"
            ]
        ]
    },
    {
        "id": "e84f7763f57e997b",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "Store Parameters",
        "func": "flow.set(msg.topic,msg.payload)\n\nif (flow.get(\"multiplefrequency\")===false){\n    msg.payload=\"Single Frequency  :\" + flow.get(\"startFreq\")+\"#\"+flow.get(\"iterations\");\n    return msg\n}\nelse\n{\n}\nif (flow.get(\"startFreq\")>flow.get(\"endFreq\"))\n{\n    msg.payload=\"startFreq is superior to endFreq:\"+flow.get(\"startFreq\") +\":\"+ flow.get(\"endFreq\");\n    return msg\n}\nelse\n{\n    msg.payload=\"Variable frequency :\" + flow.get(\"startFreq\")+\"#\"+flow.get(\"endFreq\")+\"#\"+flow.get(\"stepFreq\")+\", TXPower: \" + flow.get(\"txpower\");\n    return msg\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 2930,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "762f3e19d6651eea",
        "type": "ui_text_input",
        "z": "916c085c39129bbf",
        "name": "PER Frequency",
        "label": "Start PER Frequency (MHz)",
        "tooltip": "",
        "group": "b0442a493e613646",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "startFreq",
        "x": 2460,
        "y": 840,
        "wires": [
            [
                "e84f7763f57e997b"
            ]
        ]
    },
    {
        "id": "be69a42da953fdce",
        "type": "ui_text_input",
        "z": "916c085c39129bbf",
        "name": "Max PER Frequency",
        "label": "End PER Frequency (MHz)",
        "tooltip": "",
        "group": "b0442a493e613646",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "endFreq",
        "x": 2480,
        "y": 880,
        "wires": [
            [
                "e84f7763f57e997b"
            ]
        ]
    },
    {
        "id": "63a473b5f2090624",
        "type": "ui_text_input",
        "z": "916c085c39129bbf",
        "name": "Step PER Frequency",
        "label": "Step PER Frequency (MHz)",
        "tooltip": "",
        "group": "b0442a493e613646",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "stepFreq",
        "x": 2480,
        "y": 940,
        "wires": [
            [
                "e84f7763f57e997b"
            ]
        ]
    },
    {
        "id": "3904f6f5acd764ec",
        "type": "ui_switch",
        "z": "916c085c39129bbf",
        "name": "Multiple Frequency",
        "label": "Multiple Frequency",
        "tooltip": "",
        "group": "4142f6aeb8a7e5b9",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "multiplefrequency",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "x": 2470,
        "y": 1040,
        "wires": [
            [
                "e84f7763f57e997b",
                "c5d4624a8fc53284"
            ]
        ]
    },
    {
        "id": "1a8da2a23106bcfe",
        "type": "ui_text_input",
        "z": "916c085c39129bbf",
        "name": "Iterations",
        "label": "Iterations",
        "tooltip": "",
        "group": "10e34b2f3fdc4623",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "iterations",
        "x": 2440,
        "y": 1000,
        "wires": [
            [
                "e84f7763f57e997b"
            ]
        ]
    },
    {
        "id": "8f7b1dbf97f088a9",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "Step",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "step",
        "payload": "0.2",
        "payloadType": "num",
        "x": 2170,
        "y": 940,
        "wires": [
            [
                "63a473b5f2090624"
            ]
        ]
    },
    {
        "id": "942de96feb5adf31",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "Max Freq",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "maxfreq",
        "payload": "864",
        "payloadType": "num",
        "x": 2180,
        "y": 880,
        "wires": [
            [
                "be69a42da953fdce"
            ]
        ]
    },
    {
        "id": "48e2c076bfce3473",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "Iterations",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "iteration",
        "payload": "5",
        "payloadType": "num",
        "x": 2180,
        "y": 1000,
        "wires": [
            [
                "1a8da2a23106bcfe"
            ]
        ]
    },
    {
        "id": "a68c5c9eb17e3279",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "Variable",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "fixorvariable",
        "payload": "true",
        "payloadType": "bool",
        "x": 2180,
        "y": 1040,
        "wires": [
            [
                "3904f6f5acd764ec"
            ]
        ]
    },
    {
        "id": "3909cc549006c038",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "TX Power",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "txpower",
        "payload": "14",
        "payloadType": "num",
        "x": 2180,
        "y": 700,
        "wires": [
            [
                "48715998a86afc6b"
            ]
        ]
    },
    {
        "id": "cbce898624b96a82",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "Start Freq",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "startfreq",
        "payload": "863",
        "payloadType": "num",
        "x": 2190,
        "y": 820,
        "wires": [
            [
                "762f3e19d6651eea",
                "34f984467313ef6a"
            ]
        ]
    },
    {
        "id": "750d09d33c8038e0",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "FrameNumber",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "cycle",
        "payload": "5",
        "payloadType": "num",
        "x": 2200,
        "y": 660,
        "wires": [
            [
                "be2549a191468ac4"
            ]
        ]
    },
    {
        "id": "dc542bfb177b0909",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_(G)MSK_PER_Single_Frequency\"],\"show\":[\"RF_test_(G)MSK_PER_Multiple_Frequencies\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3040,
        "y": 1020,
        "wires": [
            [
                "024a8380566471d2"
            ]
        ]
    },
    {
        "id": "024a8380566471d2",
        "type": "ui_ui_control",
        "z": "916c085c39129bbf",
        "name": "UI ctrl",
        "events": "all",
        "x": 3230,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "1c61ddaac9af58b1",
        "type": "switch",
        "z": "916c085c39129bbf",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2870,
        "y": 1040,
        "wires": [
            [
                "dc542bfb177b0909"
            ],
            [
                "036734cbfa83e473"
            ]
        ]
    },
    {
        "id": "036734cbfa83e473",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RF_test_(G)MSK_PER_Multiple_Frequencies\"],\"show\":[\"RF_test_(G)MSK_PER_Single_Frequency\"],\"focus\":true}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3040,
        "y": 1060,
        "wires": [
            [
                "024a8380566471d2"
            ]
        ]
    },
    {
        "id": "34f984467313ef6a",
        "type": "ui_text_input",
        "z": "916c085c39129bbf",
        "name": " Single PER Frequency",
        "label": "PER Frequency (MHz)",
        "tooltip": "",
        "group": "10e34b2f3fdc4623",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "singleFreq",
        "x": 2480,
        "y": 800,
        "wires": [
            [
                "e84f7763f57e997b"
            ]
        ]
    },
    {
        "id": "48715998a86afc6b",
        "type": "ui_text_input",
        "z": "916c085c39129bbf",
        "name": "TX Power",
        "label": "TX Power (dBm)",
        "tooltip": "Min -9, Max 22",
        "group": "4142f6aeb8a7e5b9",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "txpower",
        "topicType": "str",
        "x": 2440,
        "y": 700,
        "wires": [
            [
                "e84f7763f57e997b"
            ]
        ]
    },
    {
        "id": "be2549a191468ac4",
        "type": "ui_text_input",
        "z": "916c085c39129bbf",
        "name": "Number of Frames",
        "label": "Number of Frames",
        "tooltip": "",
        "group": "4142f6aeb8a7e5b9",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "cycle",
        "x": 2470,
        "y": 660,
        "wires": [
            [
                "e84f7763f57e997b"
            ]
        ]
    },
    {
        "id": "8a7e6b1cd1e10b14",
        "type": "comment",
        "z": "916c085c39129bbf",
        "name": "Initialization of parameters",
        "info": "",
        "x": 2210,
        "y": 760,
        "wires": []
    },
    {
        "id": "fa5507ff918a63c3",
        "type": "comment",
        "z": "916c085c39129bbf",
        "name": "Group multiple & single frequencies",
        "info": "",
        "x": 2460,
        "y": 760,
        "wires": []
    },
    {
        "id": "c5d4624a8fc53284",
        "type": "function",
        "z": "916c085c39129bbf",
        "name": "filter control msg",
        "func": "if (msg.enabled!==undefined) {\n    // do not forward the enable/disable messages\n    return null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2700,
        "y": 1040,
        "wires": [
            [
                "1c61ddaac9af58b1"
            ]
        ]
    },
    {
        "id": "f7379be5739a1bee",
        "type": "link in",
        "z": "916c085c39129bbf",
        "name": "multiFreq",
        "links": [
            "8981ed85c0618516",
            "22d76e22.d6f312",
            "7b1f9711ea594229",
            "7e0b3597.c3c2ac"
        ],
        "x": 2200,
        "y": 1120,
        "wires": [
            [
                "3904f6f5acd764ec"
            ]
        ]
    },
    {
        "id": "5fe372ec34a503ab",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "Payload length",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "payloadlength",
        "payload": "16",
        "payloadType": "num",
        "x": 2200,
        "y": 540,
        "wires": [
            [
                "3f4bcf2b474bb4f5"
            ]
        ]
    },
    {
        "id": "3f4bcf2b474bb4f5",
        "type": "ui_text_input",
        "z": "916c085c39129bbf",
        "name": "Payload length",
        "label": "Payload length (bit)",
        "tooltip": "1 to 256 bits",
        "group": "4142f6aeb8a7e5b9",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "payloadlength",
        "x": 2460,
        "y": 540,
        "wires": [
            [
                "e32b2a0dea47b712"
            ]
        ]
    },
    {
        "id": "c4aed248b45bfc2d",
        "type": "ui_dropdown",
        "z": "916c085c39129bbf",
        "name": "",
        "label": "Bandwidth time",
        "tooltip": "",
        "place": "Select option",
        "group": "4142f6aeb8a7e5b9",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Off",
                "value": "0",
                "type": "str"
            },
            {
                "label": "0.3",
                "value": "1",
                "type": "str"
            },
            {
                "label": "0.5",
                "value": "2",
                "type": "str"
            },
            {
                "label": "0.7",
                "value": "3",
                "type": "str"
            },
            {
                "label": "1",
                "value": "4",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "BWT",
        "x": 2460,
        "y": 600,
        "wires": [
            [
                "e32b2a0dea47b712"
            ]
        ]
    },
    {
        "id": "f55f5441cab5fb0c",
        "type": "inject",
        "z": "916c085c39129bbf",
        "name": "Bandwidth time",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "BWT",
        "payload": "3",
        "payloadType": "str",
        "x": 2200,
        "y": 600,
        "wires": [
            [
                "c4aed248b45bfc2d"
            ]
        ]
    },
    {
        "id": "a99fddd8bc5a78a8",
        "type": "ui_text",
        "z": "916c085c39129bbf",
        "group": "d7ad58382d93d234",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Setup information: The receive is done in FSK modulation, so the sensitivity performances will be reduced.",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 2750,
        "y": 1100,
        "wires": []
    },
    {
        "id": "fa23c2ddd9f6a7c9",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "Wait msg ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please wait the end of the frames",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1490,
        "y": 800,
        "wires": [
            [
                "642b34a34fa50707"
            ]
        ]
    },
    {
        "id": "f60b935eef2860b8",
        "type": "change",
        "z": "916c085c39129bbf",
        "name": "Wait msg OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1500,
        "y": 840,
        "wires": [
            [
                "642b34a34fa50707"
            ]
        ]
    },
    {
        "id": "642b34a34fa50707",
        "type": "ui_text",
        "z": "916c085c39129bbf",
        "group": "d7ad58382d93d234",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1710,
        "y": 840,
        "wires": []
    },
    {
        "id": "6979ff8d53aa12ff",
        "type": "debug",
        "z": "916c085c39129bbf",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1720,
        "y": 680,
        "wires": []
    },
    {
        "id": "0493677701fcb12e",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "Store config",
        "func": "if (msg.payload !== undefined) {\n    flow.set(msg.topic,msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2530,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "1e0e7a829b4e66f6",
        "type": "link in",
        "z": "d9f02432ea1dbe48",
        "name": "CTRL",
        "links": [
            "453bd88d4caea6e6"
        ],
        "x": 1835,
        "y": 300,
        "wires": [
            [
                "beab191bcda37d60",
                "36e9b89ade26b250",
                "731f96e3e8dc6fef",
                "e939ac5bb267434d",
                "76bafc8eaa470f9d",
                "d11c163b4755803a"
            ]
        ]
    },
    {
        "id": "c2fd4dc2c6d5126a",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "stop cmd",
        "func": "msg.payload=\"AT+TOFF\\n\"\nmsg.flow=\"BPSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 320,
        "wires": [
            [
                "4d497832cae60fc4"
            ]
        ]
    },
    {
        "id": "7bb1c12d72a42421",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "Init board",
        "func": "msg.payload=\"ATZ\\n\"\nmsg.flow=\"BPSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 140,
        "wires": [
            [
                "4d497832cae60fc4"
            ]
        ]
    },
    {
        "id": "717e71ab0a16cb8b",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "disable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "control",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 800,
        "wires": [
            [
                "453bd88d4caea6e6"
            ]
        ]
    },
    {
        "id": "5d61c6552bb809e9",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "enable controls",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 860,
        "wires": [
            [
                "453bd88d4caea6e6"
            ]
        ]
    },
    {
        "id": "961a8e7f1aa7f672",
        "type": "finite-state-machine",
        "z": "d9f02432ea1dbe48",
        "name": "BPSK TX FSM",
        "fsmDefinition": "{\"state\":{\"status\":\"DISCONNECTED\"},\"transitions\":{\"INIT\":{\"connect\":\"INIT\",\"resetok\":\"STOPPED\",\"error\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"DISCONNECTED\":{\"connect\":\"INIT\",\"disconnect\":\"DISCONNECTED\"},\"CONFIGURING\":{\"ok_a\":\"MEASURING\",\"ok_b\":\"MEASURING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\"},\"MEASURING\":{\"ok_a\":\"STOPPED_OK\",\"ok_b\":\"STOPPED_OK\",\"result\":\"STARTING\",\"error\":\"INIT\",\"resetok\":\"STOPPED\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPING\"},\"STOPPING\":{\"ok_a\":\"STOPPED\",\"ok_b\":\"STOPPED\"},\"STOPPED\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\"},\"STOPPED_OK\":{\"error\":\"STOPPED\",\"resetok\":\"STOPPED\",\"start\":\"CONFIGURING\",\"disconnect\":\"DISCONNECTED\",\"stop\":\"STOPPED\",\"forcedstop\":\"INIT\"},\"WAIT\":{\"stop\":\"STOPPED_OK\",\"next\":\"STARTING\",\"error\":\"INIT\",\"disconnect\":\"DISCONNECTED\"}}}",
        "sendInitialState": true,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 680,
        "y": 480,
        "wires": [
            [
                "514f3cc57f306f29",
                "bb4771fefc9738b6"
            ]
        ]
    },
    {
        "id": "514f3cc57f306f29",
        "type": "switch",
        "z": "d9f02432ea1dbe48",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "INIT",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "CONFIGURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "MEASURING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPING",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "DISCONNECTED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 990,
        "y": 420,
        "wires": [
            [
                "7bb1c12d72a42421",
                "4271793c740dcd17",
                "37c6189d9fa3c815"
            ],
            [
                "cc3778edad9e25de",
                "c2eb11941b947cee"
            ],
            [
                "6bd4d8a546f17853",
                "4271793c740dcd17",
                "c2eb11941b947cee"
            ],
            [
                "c2fd4dc2c6d5126a",
                "518986a56bef9943"
            ],
            [
                "08eacf19abc60756",
                "b4e1f25a8666d789"
            ],
            [
                "08eacf19abc60756",
                "b4e1f25a8666d789"
            ],
            [
                "08eacf19abc60756",
                "ec723c8f51fab7ee",
                "b4e1f25a8666d789"
            ]
        ]
    },
    {
        "id": "453bd88d4caea6e6",
        "type": "link out",
        "z": "d9f02432ea1dbe48",
        "name": "CTRL",
        "links": [
            "1e0e7a829b4e66f6",
            "9a03bbe0571d564e",
            "b1640a15.bac4e8",
            "dd9ffc5a.b8275",
            "7737b873ccf3333e",
            "3bd2ed3ffeb7c094",
            "5b6e697c.076b78",
            "36632ba8cb36a536",
            "7e45d6fdd21f3e71"
        ],
        "x": 1515,
        "y": 820,
        "wires": []
    },
    {
        "id": "607b01e0bc9aca10",
        "type": "comment",
        "z": "d9f02432ea1dbe48",
        "name": "Radio icon",
        "info": "",
        "x": 1280,
        "y": 460,
        "wires": []
    },
    {
        "id": "17402e15ce6c88aa",
        "type": "comment",
        "z": "d9f02432ea1dbe48",
        "name": "Control lock/unlock",
        "info": "",
        "x": 1330,
        "y": 740,
        "wires": []
    },
    {
        "id": "cc3778edad9e25de",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "Format config A",
        "func": "msg.payload= \"AT+TCONF=\" + flow.get(\"currentFrequency\") + \":\" +flow.get(\"txpower\") +\":\" + flow.get(\"B\")*1000 + \":\" + flow.get(\"DR\") + \":4/5:0:0:2:\" + flow.get(\"payloadlength\") +\":25000:2:3\\n\";\nmsg.flow=\"BPSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1300,
        "y": 200,
        "wires": [
            [
                "4d497832cae60fc4"
            ]
        ]
    },
    {
        "id": "4d497832cae60fc4",
        "type": "link out",
        "z": "d9f02432ea1dbe48",
        "name": "Serial Port B out",
        "links": [
            "852009e78874179a"
        ],
        "x": 1515,
        "y": 240,
        "wires": []
    },
    {
        "id": "6bd4d8a546f17853",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "Start A",
        "func": "msg.payload=\"AT+TTX=\" + flow.get(\"cycle\")+\"\\n\";\nmsg.flow=\"BPSKTX\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1270,
        "y": 260,
        "wires": [
            [
                "4d497832cae60fc4"
            ]
        ]
    },
    {
        "id": "be2e0adba3b9c458",
        "type": "switch",
        "z": "d9f02432ea1dbe48",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "result",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "undefined",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 450,
        "y": 380,
        "wires": [
            [],
            [
                "9840e25cd2618ce4"
            ],
            [
                "961a8e7f1aa7f672"
            ]
        ]
    },
    {
        "id": "fa187d40c5bc44ce",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "Store Parameters",
        "func": "flow.set(msg.topic,msg.payload)\n\nif (flow.get(\"multiplefrequency\")===false){\n    msg.payload=\"Single Frequency  :\" + flow.get(\"singleFreq\")+\"#\"+flow.get(\"iterations\");\n    return msg\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2550,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "7c46779aee7a60aa",
        "type": "finite-state-machine",
        "z": "d9f02432ea1dbe48",
        "name": "Global",
        "fsmDefinition": "{\"state\":{\"status\":\"IDLE\"},\"transitions\":{\"IDLE\":{\"start\":\"RUN\",\"testdone\":\"IDLE\"},\"RUN\":{\"stop\":\"IDLE\",\"testdone\":\"RUN\",\"dotest\":\"RUN\",\"forcedstop\":\"IDLE\"}}}",
        "sendInitialState": false,
        "sendStateWithoutChange": true,
        "showTransitionErrors": false,
        "x": 730,
        "y": 740,
        "wires": [
            [
                "18410d59130e1707",
                "14beb9b4e186b148"
            ]
        ]
    },
    {
        "id": "18410d59130e1707",
        "type": "switch",
        "z": "d9f02432ea1dbe48",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RUN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "IDLE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 740,
        "wires": [
            [
                "7e3a39fdbff63f69",
                "717e71ab0a16cb8b"
            ],
            [
                "fd8d22bb5b427d40",
                "5d61c6552bb809e9",
                "31509f0321c589ca"
            ]
        ]
    },
    {
        "id": "cd2e9f5837699038",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "check flow A",
        "func": "if (msg.flow===\"BPSKTX\" || msg.flow===\"ALL\") {\nreturn msg;\n} else {\n    msg.topic = \"undefined\"\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 250,
        "y": 380,
        "wires": [
            [
                "be2e0adba3b9c458"
            ]
        ]
    },
    {
        "id": "e53f6f16a97d655d",
        "type": "link in",
        "z": "d9f02432ea1dbe48",
        "name": "",
        "links": [
            "4698a9c2866b66ad"
        ],
        "x": 135,
        "y": 380,
        "wires": [
            [
                "cd2e9f5837699038"
            ]
        ]
    },
    {
        "id": "b8efa201e41fb2dc",
        "type": "inject",
        "z": "d9f02432ea1dbe48",
        "name": "Iterations",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "iteration",
        "payload": "0",
        "payloadType": "num",
        "x": 1780,
        "y": 700,
        "wires": [
            [
                "fa187d40c5bc44ce"
            ]
        ]
    },
    {
        "id": "470ec5eb973d2233",
        "type": "inject",
        "z": "d9f02432ea1dbe48",
        "name": "TX Power",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "txpower",
        "payload": "0",
        "payloadType": "num",
        "x": 1780,
        "y": 600,
        "wires": [
            [
                "beab191bcda37d60"
            ]
        ]
    },
    {
        "id": "8c6894dc013af403",
        "type": "inject",
        "z": "d9f02432ea1dbe48",
        "name": "Start Freq",
        "props": [
            {
                "p": "payload",
                "v": "863",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "startfreq",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "startfreq",
        "payload": "863",
        "payloadType": "num",
        "x": 1790,
        "y": 743,
        "wires": [
            [
                "731f96e3e8dc6fef"
            ]
        ]
    },
    {
        "id": "fb33264c0a4a8a20",
        "type": "inject",
        "z": "d9f02432ea1dbe48",
        "name": "FrameNumber",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "cycle",
        "payload": "5",
        "payloadType": "num",
        "x": 1800,
        "y": 540,
        "wires": [
            [
                "36e9b89ade26b250"
            ]
        ]
    },
    {
        "id": "731f96e3e8dc6fef",
        "type": "ui_text_input",
        "z": "d9f02432ea1dbe48",
        "name": " Single PER Frequency",
        "label": "PER Frequency (MHz)",
        "tooltip": "",
        "group": "d723027d7f88874b",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "singleFreq",
        "x": 2180,
        "y": 743,
        "wires": [
            [
                "fa187d40c5bc44ce"
            ]
        ]
    },
    {
        "id": "beab191bcda37d60",
        "type": "ui_text_input",
        "z": "d9f02432ea1dbe48",
        "name": "TX Power",
        "label": "TX Power (dBm)",
        "tooltip": "Min -9, Max 22",
        "group": "d723027d7f88874b",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "txpower",
        "x": 2140,
        "y": 600,
        "wires": [
            [
                "fa187d40c5bc44ce"
            ]
        ]
    },
    {
        "id": "36e9b89ade26b250",
        "type": "ui_text_input",
        "z": "d9f02432ea1dbe48",
        "name": "Number of Frames",
        "label": "Number of Frames",
        "tooltip": "",
        "group": "d723027d7f88874b",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "cycle",
        "x": 2170,
        "y": 540,
        "wires": [
            [
                "fa187d40c5bc44ce"
            ]
        ]
    },
    {
        "id": "37c6189d9fa3c815",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "Turn LED green",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 580,
        "wires": [
            [
                "8842666cc41195ec"
            ]
        ]
    },
    {
        "id": "ec723c8f51fab7ee",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "Turn LED red",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 620,
        "wires": [
            [
                "8842666cc41195ec"
            ]
        ]
    },
    {
        "id": "8842666cc41195ec",
        "type": "ui_led",
        "z": "d9f02432ea1dbe48",
        "order": 9,
        "group": "d723027d7f88874b",
        "width": 4,
        "height": 1,
        "label": "Connection status :",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Connection status",
        "x": 1530,
        "y": 600,
        "wires": []
    },
    {
        "id": "9a1ec6d3993e0105",
        "type": "comment",
        "z": "d9f02432ea1dbe48",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1830,
        "y": 100,
        "wires": []
    },
    {
        "id": "5ea5f25abf8feced",
        "type": "comment",
        "z": "d9f02432ea1dbe48",
        "name": "Group Parameters",
        "info": "",
        "x": 2030,
        "y": 100,
        "wires": []
    },
    {
        "id": "327722a51eaa8084",
        "type": "comment",
        "z": "d9f02432ea1dbe48",
        "name": "Initialization of parameters",
        "info": "",
        "x": 1790,
        "y": 660,
        "wires": []
    },
    {
        "id": "ca1307081acaf37f",
        "type": "comment",
        "z": "d9f02432ea1dbe48",
        "name": "Group multiple & single frequencies",
        "info": "",
        "x": 2080,
        "y": 660,
        "wires": []
    },
    {
        "id": "da3c5b71b4e377ba",
        "type": "comment",
        "z": "d9f02432ea1dbe48",
        "name": "Group Results",
        "info": "",
        "x": 910,
        "y": 120,
        "wires": []
    },
    {
        "id": "a61d42907d8cb856",
        "type": "comment",
        "z": "d9f02432ea1dbe48",
        "name": "PER Test management",
        "info": "",
        "x": 760,
        "y": 380,
        "wires": []
    },
    {
        "id": "e90a79d889cf8af5",
        "type": "comment",
        "z": "d9f02432ea1dbe48",
        "name": "Frequency management",
        "info": "",
        "x": 510,
        "y": 700,
        "wires": []
    },
    {
        "id": "9840e25cd2618ce4",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "Frames counter",
        "func": "var input = msg.payload ||\"\";\nvar posOf= input.search(\"of\");\nif (posOf>-1)\n{\n    var posTX= input.search(\":Tx\");\n    var nb1=input.substring(posTX+4, posOf-1);\n    var nb2=input.substring(posOf+3,);\n    msg.payload=nb1+\"/\"+nb2;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 640,
        "y": 260,
        "wires": [
            [
                "58ed17ea0bcb88df"
            ]
        ]
    },
    {
        "id": "58ed17ea0bcb88df",
        "type": "ui_text",
        "z": "d9f02432ea1dbe48",
        "group": "d723027d7f88874b",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "Frames counter",
        "label": "Frames counter",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 940,
        "y": 320,
        "wires": [],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "f6fc8bc920dc1da3",
        "type": "ui_button",
        "z": "d9f02432ea1dbe48",
        "name": "Start",
        "group": "d723027d7f88874b",
        "order": 7,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Start",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "start",
        "payloadType": "str",
        "topic": "transmit",
        "x": 450,
        "y": 1080,
        "wires": [
            [
                "b9d016fbc3d4dfb3",
                "63e61e789d103c79"
            ]
        ]
    },
    {
        "id": "bccfac5b3241a411",
        "type": "ui_button",
        "z": "d9f02432ea1dbe48",
        "name": "Stop",
        "group": "d723027d7f88874b",
        "order": 8,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "stop",
        "payloadType": "str",
        "topic": "transmit",
        "x": 450,
        "y": 1160,
        "wires": [
            [
                "63e61e789d103c79"
            ]
        ]
    },
    {
        "id": "efd6044065135756",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "Disable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1180,
        "wires": [
            [
                "bccfac5b3241a411"
            ]
        ]
    },
    {
        "id": "bbb63b6b9e294070",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "Disable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1100,
        "wires": [
            [
                "f6fc8bc920dc1da3"
            ]
        ]
    },
    {
        "id": "a631393961d68049",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "Enable start",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1060,
        "wires": [
            [
                "f6fc8bc920dc1da3"
            ]
        ]
    },
    {
        "id": "a895be4a94df1a81",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "Enable stop",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1140,
        "wires": [
            [
                "bccfac5b3241a411"
            ]
        ]
    },
    {
        "id": "21d67985a348319e",
        "type": "inject",
        "z": "d9f02432ea1dbe48",
        "name": "init",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "d",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 1020,
        "wires": [
            [
                "efd6044065135756",
                "a631393961d68049"
            ]
        ]
    },
    {
        "id": "b9d016fbc3d4dfb3",
        "type": "link out",
        "z": "d9f02432ea1dbe48",
        "name": "Start",
        "links": [
            "abcae68e3bcd3417"
        ],
        "x": 575,
        "y": 1100,
        "wires": []
    },
    {
        "id": "abcae68e3bcd3417",
        "type": "link in",
        "z": "d9f02432ea1dbe48",
        "name": "start",
        "links": [
            "b9d016fbc3d4dfb3"
        ],
        "x": 55,
        "y": 1160,
        "wires": [
            [
                "a895be4a94df1a81",
                "bbb63b6b9e294070"
            ]
        ]
    },
    {
        "id": "f0546a8a0c2b222f",
        "type": "link in",
        "z": "d9f02432ea1dbe48",
        "name": "stop",
        "links": [
            "fd8d22bb5b427d40",
            "b573b69.2452b48"
        ],
        "x": 55,
        "y": 1100,
        "wires": [
            [
                "a631393961d68049",
                "efd6044065135756"
            ]
        ]
    },
    {
        "id": "fd8d22bb5b427d40",
        "type": "link out",
        "z": "d9f02432ea1dbe48",
        "name": "stop",
        "links": [
            "f0546a8a0c2b222f"
        ],
        "x": 1035,
        "y": 820,
        "wires": []
    },
    {
        "id": "4271793c740dcd17",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "Empty payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 420,
        "wires": [
            [
                "3f74b1a21fc0d035"
            ]
        ]
    },
    {
        "id": "14beb9b4e186b148",
        "type": "debug",
        "z": "d9f02432ea1dbe48",
        "name": "top FSM",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 800,
        "wires": []
    },
    {
        "id": "33d5f184a1357367",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "unexpected stop",
        "func": "msg.topic=\"forcedstop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 740,
        "wires": [
            [
                "7c46779aee7a60aa"
            ]
        ]
    },
    {
        "id": "741978bae156d26c",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "PrepareNextRun",
        "func": "flow.set(\"I\",flow.get(\"I\")+1);\n\n    if (flow.get(\"I\")>=flow.get(\"iterations\"))\n    {\n        // test finished\n        msg.topic=\"stop\";\n    }\n    else\n    {\n        msg.topic=\"testdone\";\n        flow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\n    }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 780,
        "wires": [
            [
                "7c46779aee7a60aa"
            ]
        ]
    },
    {
        "id": "7e3a39fdbff63f69",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "start new test",
        "func": "msg.topic=\"start\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 810,
        "y": 620,
        "wires": [
            [
                "961a8e7f1aa7f672"
            ]
        ]
    },
    {
        "id": "bb4771fefc9738b6",
        "type": "switch",
        "z": "d9f02432ea1dbe48",
        "name": "State Switch",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "STOPPED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOPPED_OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 210,
        "y": 760,
        "wires": [
            [
                "33d5f184a1357367"
            ],
            [
                "741978bae156d26c"
            ]
        ]
    },
    {
        "id": "4ac4cbd0f0835f9d",
        "type": "link in",
        "z": "d9f02432ea1dbe48",
        "name": "clear results",
        "links": [
            "3f74b1a21fc0d035"
        ],
        "x": 715,
        "y": 180,
        "wires": [
            [
                "58ed17ea0bcb88df"
            ]
        ]
    },
    {
        "id": "3f74b1a21fc0d035",
        "type": "link out",
        "z": "d9f02432ea1dbe48",
        "name": "clear results",
        "links": [
            "4ac4cbd0f0835f9d"
        ],
        "x": 1435,
        "y": 420,
        "wires": []
    },
    {
        "id": "e7332785cd62ab5a",
        "type": "comment",
        "z": "d9f02432ea1dbe48",
        "name": "Clear results",
        "info": "",
        "x": 1290,
        "y": 380,
        "wires": []
    },
    {
        "id": "63e61e789d103c79",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "Initialisation",
        "func": "flow.set(\"I\",0);\nflow.set(\"currentFrequency\",flow.get(\"singleFreq\")*1000000);\nmsg.topic=msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 650,
        "y": 840,
        "wires": [
            [
                "7c46779aee7a60aa"
            ]
        ]
    },
    {
        "id": "0d84befe487b81ce",
        "type": "ui_text",
        "z": "d9f02432ea1dbe48",
        "group": "d723027d7f88874b",
        "order": 10,
        "width": 4,
        "height": 1,
        "name": "icon ",
        "label": "",
        "format": "{{msg.format}}",
        "layout": "col-center",
        "x": 1490,
        "y": 520,
        "wires": []
    },
    {
        "id": "c2eb11941b947cee",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "Start animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "<font color=\"green\"><i class=\"fa fa-spinner fa-spin fa-3x\"></i></font>",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 500,
        "wires": [
            [
                "0d84befe487b81ce"
            ]
        ]
    },
    {
        "id": "08eacf19abc60756",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "Stop animation",
        "rules": [
            {
                "t": "set",
                "p": "format",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 540,
        "wires": [
            [
                "0d84befe487b81ce"
            ]
        ]
    },
    {
        "id": "31509f0321c589ca",
        "type": "function",
        "z": "d9f02432ea1dbe48",
        "name": "stop test",
        "func": "msg.topic=\"stop\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1125,
        "y": 706,
        "wires": [
            [
                "961a8e7f1aa7f672"
            ]
        ]
    },
    {
        "id": "b23db4cef55de8c9",
        "type": "inject",
        "z": "d9f02432ea1dbe48",
        "name": "Packet length",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "payloadlength",
        "payload": "255",
        "payloadType": "num",
        "x": 1800,
        "y": 480,
        "wires": [
            [
                "d11c163b4755803a"
            ]
        ]
    },
    {
        "id": "d11c163b4755803a",
        "type": "ui_text_input",
        "z": "d9f02432ea1dbe48",
        "name": "Payload length",
        "label": "Packet length (bit)",
        "tooltip": "1 to 256 bits",
        "group": "d723027d7f88874b",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "payloadlength",
        "x": 2160,
        "y": 480,
        "wires": [
            [
                "0493677701fcb12e"
            ]
        ]
    },
    {
        "id": "7ca5702e8f6781bf",
        "type": "inject",
        "z": "d9f02432ea1dbe48",
        "name": "Datarate",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "DR",
        "payload": "100",
        "payloadType": "num",
        "x": 1780,
        "y": 420,
        "wires": [
            [
                "76bafc8eaa470f9d"
            ]
        ]
    },
    {
        "id": "76bafc8eaa470f9d",
        "type": "ui_text_input",
        "z": "d9f02432ea1dbe48",
        "name": "",
        "label": "Bit rate (bit/s)",
        "tooltip": "from 100 to 600 bit/s",
        "group": "d723027d7f88874b",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "DR",
        "x": 2150,
        "y": 419,
        "wires": [
            [
                "0493677701fcb12e"
            ]
        ]
    },
    {
        "id": "a294206cf267f7ba",
        "type": "inject",
        "z": "d9f02432ea1dbe48",
        "name": "Bandwidth",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "B",
        "payload": "100",
        "payloadType": "num",
        "x": 1790,
        "y": 360,
        "wires": [
            [
                "e939ac5bb267434d"
            ]
        ]
    },
    {
        "id": "e939ac5bb267434d",
        "type": "ui_text_input",
        "z": "d9f02432ea1dbe48",
        "name": "",
        "label": "Bandwidth (KHz)",
        "tooltip": "from 4.8 to 467 KHz",
        "group": "d723027d7f88874b",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "B",
        "x": 2170,
        "y": 360,
        "wires": [
            [
                "0493677701fcb12e"
            ]
        ]
    },
    {
        "id": "25235d04a58bada4",
        "type": "ui_text",
        "z": "d9f02432ea1dbe48",
        "group": "d723027d7f88874b",
        "order": 12,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1570,
        "y": 680,
        "wires": []
    },
    {
        "id": "b4e1f25a8666d789",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "Wait msg OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 700,
        "wires": [
            [
                "25235d04a58bada4"
            ]
        ]
    },
    {
        "id": "518986a56bef9943",
        "type": "change",
        "z": "d9f02432ea1dbe48",
        "name": "Wait msg ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please wait the end of the frames",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 660,
        "wires": [
            [
                "25235d04a58bada4"
            ]
        ]
    },
    {
        "id": "ca21eedc4ac7b3bd",
        "type": "link out",
        "z": "fc612fa1953ac4a4",
        "name": "AT CMD out",
        "links": [
            "e337c17d6f5d78de"
        ],
        "x": 975,
        "y": 280,
        "wires": []
    },
    {
        "id": "cac957e3022fa254",
        "type": "ui_button",
        "z": "fc612fa1953ac4a4",
        "name": "",
        "group": "c06aaf0ec2bc0ce9",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "SEND A",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "validate",
        "x": 280,
        "y": 280,
        "wires": [
            [
                "cf9aac3b7f13db92"
            ]
        ]
    },
    {
        "id": "52a3e31b0db8af91",
        "type": "ui_template",
        "z": "fc612fa1953ac4a4",
        "group": "c06aaf0ec2bc0ce9",
        "name": "AT entry",
        "order": 2,
        "width": 13,
        "height": 1,
        "format": " <input ng-model=\"user.input\" ng-init=\"user.input='test'\" ng-change=\"change(user.input)\" ng-keyup=\"action($event, user.input)\">\n\n<script>\n // Lambda function to access the Angular Scope\n   ;(function(scope) {\n        scope.$watch('msg.payload', function(newVal, oldVal) {\n            if(scope.msg) {\n                if (scope.msg.topic===\"change\") {\n                    scope.user.input=scope.msg.payload\n                }\n            }\n        })\n    })(scope)\n\n\nthis.scope.change = function( input) {\n    this.send({topic:\"change\",payload:input});\n    }\n    \nthis.scope.action = function(charEvent, input) {\n    var newMsg;\n    input=input||\"\";\n    if (charEvent.keyCode===13) {\n        newMsg={payload:input,topic:\"validate\"};\n        this.send(newMsg);\n    }\n    if (charEvent.keyCode===38) {\n        newMsg={payload:input,topic:\"keyup\"};\n        this.send(newMsg);\n    }\n    if (charEvent.keyCode===40) {\n        newMsg={payload:input,topic:\"keydown\"};\n        this.send(newMsg);\n    }\n}                 \n\n</script>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "templateScope": "local",
        "x": 280,
        "y": 220,
        "wires": [
            [
                "cf9aac3b7f13db92"
            ]
        ]
    },
    {
        "id": "24f361be70b1c8a5",
        "type": "function",
        "z": "fc612fa1953ac4a4",
        "name": "SET FLOW",
        "func": "msg.flow=\"ATCMD\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 750,
        "y": 280,
        "wires": [
            [
                "ca21eedc4ac7b3bd",
                "9273e45b68f4fa74"
            ]
        ]
    },
    {
        "id": "5d2e07f931f1c78b",
        "type": "inject",
        "z": "fc612fa1953ac4a4",
        "name": "Init",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "change",
        "payload": "",
        "payloadType": "str",
        "x": 110,
        "y": 220,
        "wires": [
            [
                "52a3e31b0db8af91"
            ]
        ]
    },
    {
        "id": "cf9aac3b7f13db92",
        "type": "function",
        "z": "fc612fa1953ac4a4",
        "name": "Manage input",
        "func": "if (msg.topic) {\n    // load list of command\n    var commandList=context.get(\"commandList\");\n    if (commandList===undefined) {\n        commandList=[];\n        context.set(\"commandList\",commandList);\n    }\n    var editorMsg;\n    switch (msg.topic) {\n        case \"keyup\": \n            commandIndex=context.get(\"commandIndex\")||0;\n                if (commandIndex>0) {\n                    commandIndex--;\n                }\n            context.set(\"commandIndex\",commandIndex);\n            flow.set(\"command\",commandList[commandIndex]);\n            editorMsg={payload:commandList[commandIndex],topic:\"change\"};    \n            return [null,editorMsg];\n            \n         case \"keydown\": \n            commandIndex=context.get(\"commandIndex\")||0;\n                if (commandIndex<commandList.length) {\n                    commandIndex++;\n                }\n            context.set(\"commandIndex\",commandIndex);\n            flow.set(\"command\",commandList[commandIndex]);\n            editorMsg={payload:commandList[commandIndex],topic:\"change\"};    \n            return [null,editorMsg];    \n            \n        case \"validate\":\n            var commandMsg={payload:flow.get(\"command\")+\"\\n\"};\n            editorMsg={payload:\"\",topic:\"change\"};\n            \n           \n            if (commandList.length>99) {\n                commandList.shift();\n            }\n            commandList.push(flow.get(\"command\"));\n            context.set(\"commandIndex\",commandList.length);\n            \n            flow.set(\"command\",\"\");\n            return [commandMsg,editorMsg];\n        case\"change\":\n            flow.set(\"command\",msg.payload);\n            return null;\n        \n    }\n}\nreturn msg;",
        "outputs": 2,
        "noerr": 0,
        "x": 500,
        "y": 280,
        "wires": [
            [
                "24f361be70b1c8a5"
            ],
            [
                "52a3e31b0db8af91"
            ]
        ],
        "outputLabels": [
            "AT CMD",
            "Text input"
        ]
    },
    {
        "id": "4d0feaa33a292e6a",
        "type": "ui_button",
        "z": "fc612fa1953ac4a4",
        "name": "",
        "group": "c06aaf0ec2bc0ce9",
        "order": 5,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "clear log A",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "clear",
        "payloadType": "str",
        "topic": "",
        "x": 250,
        "y": 480,
        "wires": [
            [
                "0d15a8ead4a67f0f"
            ]
        ]
    },
    {
        "id": "9273e45b68f4fa74",
        "type": "template",
        "z": "fc612fa1953ac4a4",
        "name": "set log direction",
        "field": "from",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "<i class=\"fa fa-arrow-left\"></i>",
        "output": "str",
        "x": 240,
        "y": 540,
        "wires": [
            [
                "b1caf8882884b2c3"
            ]
        ]
    },
    {
        "id": "5776eb977ea518ac",
        "type": "template",
        "z": "fc612fa1953ac4a4",
        "name": "set log direction",
        "field": "from",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "<i class=\"fa fa-arrow-right\"></i>",
        "output": "str",
        "x": 240,
        "y": 600,
        "wires": [
            [
                "b1caf8882884b2c3"
            ]
        ]
    },
    {
        "id": "ce88614768d0f4da",
        "type": "subflow:8059e7720873b594",
        "z": "fc612fa1953ac4a4",
        "name": "Log table data",
        "env": [
            {
                "name": "tabulator",
                "value": "{\"tabulator\":{\"index\":\"msg.topic\",\"movableColumns\":true,\"groupBy\":\"\",\"columns\":[{\"formatter\":\"html\",\"title\":\"I/O\",\"field\":\"from\",\"width\":35,\"frozen\":true,\"align\":\"center\",\"headerSort\":false},{\"formatter\":\"plaintext\",\"title\":\"Time\",\"field\":\"time\",\"align\":\"center\",\"width\":70,\"headerSort\":false},{\"formatter\":\"textarea\",\"title\":\"Log\",\"field\":\"log\",\"headerSort\":false}]}}",
                "type": "json"
            },
            {
                "name": "tableIndex",
                "value": "msg.topic",
                "type": "str"
            },
            {
                "name": "dashboard",
                "value": "AT CMD",
                "type": "str"
            },
            {
                "name": "tableContext",
                "value": "{\"tableData\":{\"name\":\"tableData\"},\"tableConfig\":{\"name\":\"tableConfig\",\"storage\":\"memory\"},\"tableEdit\":{\"name\":\"tableEdit\",\"storage\":\"memory\"}}",
                "type": "json"
            }
        ],
        "x": 700,
        "y": 540,
        "wires": [
            [
                "feb0dc57d786fc43"
            ],
            []
        ]
    },
    {
        "id": "feb0dc57d786fc43",
        "type": "ui_table",
        "z": "fc612fa1953ac4a4",
        "group": "c06aaf0ec2bc0ce9",
        "name": "Log Table UI",
        "order": 1,
        "width": 18,
        "height": 9,
        "columns": [],
        "outputs": 0,
        "cts": false,
        "x": 1010,
        "y": 540,
        "wires": []
    },
    {
        "id": "b48c936135d0c8b9",
        "type": "ui_ui_control",
        "z": "fc612fa1953ac4a4",
        "name": "",
        "events": "all",
        "x": 280,
        "y": 700,
        "wires": [
            [
                "ce88614768d0f4da",
                "9389b30afe23411f"
            ]
        ]
    },
    {
        "id": "b1caf8882884b2c3",
        "type": "function",
        "z": "fc612fa1953ac4a4",
        "name": "format log",
        "func": "var index = flow.get(\"logIndex\")||0;\nindex+=1;\nflow.set(\"logIndex\",index);\n\nvar logTime = new Date(Date.now());\nvar newMsg = \n{\n    \"row\": {\n        \"time\": logTime.toTimeString().substr(0, 8),\n        \"log\":msg.payload,\n        \"from\":msg.from\n    },\n    \"topic\": index\n}\n\nreturn newMsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 440,
        "y": 560,
        "wires": [
            [
                "ce88614768d0f4da",
                "66f7239176954ce6"
            ]
        ]
    },
    {
        "id": "0d15a8ead4a67f0f",
        "type": "change",
        "z": "fc612fa1953ac4a4",
        "name": "Reset table",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"command\":\"deleteTable\",\"object\":\"tableCache\"}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "logIndex",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 480,
        "wires": [
            [
                "ce88614768d0f4da"
            ]
        ]
    },
    {
        "id": "2e965e952ca764b7",
        "type": "link in",
        "z": "fc612fa1953ac4a4",
        "name": "AT CMD log sent",
        "links": [
            "fd441be558a545c0"
        ],
        "x": 95,
        "y": 540,
        "wires": [
            [
                "9273e45b68f4fa74"
            ]
        ]
    },
    {
        "id": "bfbc248fa53fadb0",
        "type": "link in",
        "z": "fc612fa1953ac4a4",
        "name": "AT CMD log received",
        "links": [
            "ac2be85cf228bd64"
        ],
        "x": 95,
        "y": 600,
        "wires": [
            [
                "5776eb977ea518ac"
            ]
        ]
    },
    {
        "id": "3f78bcbd4ccb9ea2",
        "type": "comment",
        "z": "fc612fa1953ac4a4",
        "name": "Serial Port log",
        "info": "",
        "x": 550,
        "y": 420,
        "wires": []
    },
    {
        "id": "b0cdc3f142435dad",
        "type": "function",
        "z": "fc612fa1953ac4a4",
        "name": "scroll down",
        "func": "if (msg.topic===\"autoScroll\") {\n    context.set(\"autoScroll\", msg.payload);\n} \n\nif (context.get(\"autoScroll\")===true) {\n\n    var index = flow.get(\"logIndex\")||1;\n    \n    return {\n        payload: {\n            \"command\": \"scrollToRow\",\n        \"arguments\": [\n            index,\n            \"top\",\n            false\n        ]\n        }\n    };\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "x": 870,
        "y": 700,
        "wires": [
            [
                "feb0dc57d786fc43"
            ]
        ]
    },
    {
        "id": "7de15ab6e570894e",
        "type": "delay",
        "z": "fc612fa1953ac4a4",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "1000",
        "timeoutUnits": "milliseconds",
        "rate": "2",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 670,
        "y": 700,
        "wires": [
            [
                "b0cdc3f142435dad"
            ]
        ]
    },
    {
        "id": "926fd1125df0c02c",
        "type": "ui_switch",
        "z": "fc612fa1953ac4a4",
        "name": "Auto Scroll",
        "label": "",
        "tooltip": "Auto scroll",
        "group": "c06aaf0ec2bc0ce9",
        "order": 4,
        "width": 1,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "autoScroll",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 650,
        "y": 780,
        "wires": [
            [
                "b0cdc3f142435dad"
            ]
        ]
    },
    {
        "id": "ec38097ca2389582",
        "type": "inject",
        "z": "fc612fa1953ac4a4",
        "name": "init",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 490,
        "y": 780,
        "wires": [
            [
                "926fd1125df0c02c"
            ]
        ]
    },
    {
        "id": "4a206bbe29dbd509",
        "type": "comment",
        "z": "fc612fa1953ac4a4",
        "name": "AT command edition from Port A",
        "info": "",
        "x": 430,
        "y": 160,
        "wires": []
    },
    {
        "id": "9389b30afe23411f",
        "type": "switch",
        "z": "fc612fa1953ac4a4",
        "name": "Check name",
        "property": "name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "AT CMD",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 700,
        "wires": [
            [
                "7de15ab6e570894e"
            ]
        ]
    },
    {
        "id": "5627b8cbbe4eab5e",
        "type": "comment",
        "z": "fc612fa1953ac4a4",
        "name": "Auto scroll",
        "info": "",
        "x": 680,
        "y": 620,
        "wires": []
    },
    {
        "id": "66f7239176954ce6",
        "type": "delay",
        "z": "fc612fa1953ac4a4",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "200",
        "timeoutUnits": "milliseconds",
        "rate": "2",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 670,
        "y": 660,
        "wires": [
            [
                "b0cdc3f142435dad"
            ]
        ]
    },
    {
        "id": "fed0e01f7478fb5d",
        "type": "link out",
        "z": "fc612fa1953ac4a4",
        "name": "AT CMD out B",
        "links": [
            "6ba5d27ef9763ae8"
        ],
        "x": 995,
        "y": 1080,
        "wires": []
    },
    {
        "id": "a86ee3ad4b12dcd2",
        "type": "ui_button",
        "z": "fc612fa1953ac4a4",
        "name": "",
        "group": "c902c45b71cf183b",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "SEND B",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "validate",
        "x": 300,
        "y": 1080,
        "wires": [
            [
                "afc3f7025b430716"
            ]
        ]
    },
    {
        "id": "7da21fc3652d0fcf",
        "type": "ui_template",
        "z": "fc612fa1953ac4a4",
        "group": "c902c45b71cf183b",
        "name": "AT entry",
        "order": 2,
        "width": 13,
        "height": 1,
        "format": " <input ng-model=\"user.input\" ng-init=\"user.input='test'\" ng-change=\"change(user.input)\" ng-keyup=\"action($event, user.input)\">\n\n<script>\n // Lambda function to access the Angular Scope\n   ;(function(scope) {\n        scope.$watch('msg.payload', function(newVal, oldVal) {\n            if(scope.msg) {\n                if (scope.msg.topic===\"change\") {\n                    scope.user.input=scope.msg.payload\n                }\n            }\n        })\n    })(scope)\n\n\nthis.scope.change = function( input) {\n    this.send({topic:\"change\",payload:input});\n    }\n    \nthis.scope.action = function(charEvent, input) {\n    var newMsg;\n    input=input||\"\";\n    if (charEvent.keyCode===13) {\n        newMsg={payload:input,topic:\"validate\"};\n        this.send(newMsg);\n    }\n    if (charEvent.keyCode===38) {\n        newMsg={payload:input,topic:\"keyup\"};\n        this.send(newMsg);\n    }\n    if (charEvent.keyCode===40) {\n        newMsg={payload:input,topic:\"keydown\"};\n        this.send(newMsg);\n    }\n}                 \n\n</script>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "templateScope": "local",
        "x": 300,
        "y": 1020,
        "wires": [
            [
                "afc3f7025b430716"
            ]
        ]
    },
    {
        "id": "3abfdba86223422d",
        "type": "function",
        "z": "fc612fa1953ac4a4",
        "name": "SET FLOW",
        "func": "msg.flow=\"ATCMD_B\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 770,
        "y": 1080,
        "wires": [
            [
                "fed0e01f7478fb5d",
                "24a4aa3657c2f7f9"
            ]
        ]
    },
    {
        "id": "6f2c61d69cd7ae26",
        "type": "inject",
        "z": "fc612fa1953ac4a4",
        "name": "Init",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "str"
            },
            {
                "p": "topic",
                "v": "change",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "change",
        "payload": "",
        "payloadType": "str",
        "x": 130,
        "y": 1020,
        "wires": [
            [
                "7da21fc3652d0fcf"
            ]
        ]
    },
    {
        "id": "afc3f7025b430716",
        "type": "function",
        "z": "fc612fa1953ac4a4",
        "name": "Manage input",
        "func": "if (msg.topic) {\n    // load list of command\n    var commandList=context.get(\"commandList\");\n    if (commandList===undefined) {\n        commandList=[];\n        context.set(\"commandList\",commandList);\n    }\n    var editorMsg;\n    switch (msg.topic) {\n        case \"keyup\": \n            commandIndex=context.get(\"commandIndex\")||0;\n                if (commandIndex>0) {\n                    commandIndex--;\n                }\n            context.set(\"commandIndex\",commandIndex);\n            flow.set(\"command\",commandList[commandIndex]);\n            editorMsg={payload:commandList[commandIndex],topic:\"change\"};    \n            return [null,editorMsg];\n            \n         case \"keydown\": \n            commandIndex=context.get(\"commandIndex\")||0;\n                if (commandIndex<commandList.length) {\n                    commandIndex++;\n                }\n            context.set(\"commandIndex\",commandIndex);\n            flow.set(\"command\",commandList[commandIndex]);\n            editorMsg={payload:commandList[commandIndex],topic:\"change\"};    \n            return [null,editorMsg];    \n            \n        case \"validate\":\n            var commandMsg={payload:flow.get(\"command\")+\"\\n\"};\n            editorMsg={payload:\"\",topic:\"change\"};\n            \n           \n            if (commandList.length>99) {\n                commandList.shift();\n            }\n            commandList.push(flow.get(\"command\"));\n            context.set(\"commandIndex\",commandList.length);\n            \n            flow.set(\"command\",\"\");\n            return [commandMsg,editorMsg];\n        case\"change\":\n            flow.set(\"command\",msg.payload);\n            return null;\n        \n    }\n}\nreturn msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 1080,
        "wires": [
            [
                "3abfdba86223422d"
            ],
            [
                "7da21fc3652d0fcf"
            ]
        ],
        "outputLabels": [
            "AT CMD",
            "Text input"
        ]
    },
    {
        "id": "918ba89a057b3df7",
        "type": "ui_button",
        "z": "fc612fa1953ac4a4",
        "name": "",
        "group": "c902c45b71cf183b",
        "order": 5,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "clear log B",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "clear",
        "payloadType": "str",
        "topic": "",
        "x": 310,
        "y": 1240,
        "wires": [
            [
                "ee02fc4a0a339cf2"
            ]
        ]
    },
    {
        "id": "24a4aa3657c2f7f9",
        "type": "template",
        "z": "fc612fa1953ac4a4",
        "name": "set log direction",
        "field": "from",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "<i class=\"fa fa-arrow-left\"></i>",
        "output": "str",
        "x": 300,
        "y": 1300,
        "wires": [
            [
                "4299d6445586aa6d"
            ]
        ]
    },
    {
        "id": "3cf87ca929d1bab3",
        "type": "template",
        "z": "fc612fa1953ac4a4",
        "name": "set log direction",
        "field": "from",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "<i class=\"fa fa-arrow-right\"></i>",
        "output": "str",
        "x": 300,
        "y": 1360,
        "wires": [
            [
                "4299d6445586aa6d"
            ]
        ]
    },
    {
        "id": "76ad4be12c17ea83",
        "type": "subflow:8059e7720873b594",
        "z": "fc612fa1953ac4a4",
        "name": "Log table data",
        "env": [
            {
                "name": "tabulator",
                "value": "{\"tabulator\":{\"index\":\"msg.topic\",\"movableColumns\":true,\"groupBy\":\"\",\"columns\":[{\"formatter\":\"html\",\"title\":\"I/O\",\"field\":\"from\",\"width\":35,\"frozen\":true,\"align\":\"center\",\"headerSort\":false},{\"formatter\":\"plaintext\",\"title\":\"Time\",\"field\":\"time\",\"align\":\"center\",\"width\":70,\"headerSort\":false},{\"formatter\":\"textarea\",\"title\":\"Log\",\"field\":\"log\",\"headerSort\":false}]}}",
                "type": "json"
            },
            {
                "name": "tableIndex",
                "value": "msg.topic",
                "type": "str"
            },
            {
                "name": "dashboard",
                "value": "AT CMD",
                "type": "str"
            },
            {
                "name": "tableContext",
                "value": "{\"tableData\":{\"name\":\"tableDataB\"},\"tableConfig\":{\"name\":\"tableConfig\",\"storage\":\"memory\"},\"tableEdit\":{\"name\":\"tableEdit\",\"storage\":\"memory\"}}",
                "type": "json"
            }
        ],
        "x": 760,
        "y": 1300,
        "wires": [
            [
                "fb7eea3dcefbdd5e"
            ],
            []
        ]
    },
    {
        "id": "fb7eea3dcefbdd5e",
        "type": "ui_table",
        "z": "fc612fa1953ac4a4",
        "group": "c902c45b71cf183b",
        "name": "Log Table UI - Port B",
        "order": 1,
        "width": 18,
        "height": 9,
        "columns": [],
        "outputs": 0,
        "cts": false,
        "x": 1100,
        "y": 1300,
        "wires": []
    },
    {
        "id": "296c7f42c91451f5",
        "type": "ui_ui_control",
        "z": "fc612fa1953ac4a4",
        "name": "",
        "events": "all",
        "x": 340,
        "y": 1460,
        "wires": [
            [
                "76ad4be12c17ea83",
                "59f70198738165c5"
            ]
        ]
    },
    {
        "id": "4299d6445586aa6d",
        "type": "function",
        "z": "fc612fa1953ac4a4",
        "name": "format log",
        "func": "var index = flow.get(\"logIndex\")||0;\nindex+=1;\nflow.set(\"logIndex\",index);\n\nvar logTime = new Date(Date.now());\nvar newMsg = \n{\n    \"row\": {\n        \"time\": logTime.toTimeString().substr(0, 8),\n        \"log\":msg.payload,\n        \"from\":msg.from\n    },\n    \"topic\": index\n}\n\nreturn newMsg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 1320,
        "wires": [
            [
                "76ad4be12c17ea83",
                "ad917f42c77860f1"
            ]
        ]
    },
    {
        "id": "ee02fc4a0a339cf2",
        "type": "change",
        "z": "fc612fa1953ac4a4",
        "name": "Reset table",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"command\":\"deleteTable\",\"object\":\"tableCache\"}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "logIndex",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 1240,
        "wires": [
            [
                "76ad4be12c17ea83"
            ]
        ]
    },
    {
        "id": "d31656ba9513d6f7",
        "type": "link in",
        "z": "fc612fa1953ac4a4",
        "name": "AT CMD log sent B",
        "links": [
            "6262fdfe6109d3ee"
        ],
        "x": 155,
        "y": 1300,
        "wires": [
            [
                "24a4aa3657c2f7f9"
            ]
        ]
    },
    {
        "id": "c280c52595eccd63",
        "type": "link in",
        "z": "fc612fa1953ac4a4",
        "name": "AT CMD log received B",
        "links": [
            "6f89bf6dd451f17d"
        ],
        "x": 155,
        "y": 1360,
        "wires": [
            [
                "3cf87ca929d1bab3"
            ]
        ]
    },
    {
        "id": "bc5f82b2746c57a4",
        "type": "comment",
        "z": "fc612fa1953ac4a4",
        "name": "Serial Port log",
        "info": "",
        "x": 610,
        "y": 1180,
        "wires": []
    },
    {
        "id": "a504a8b0315f115e",
        "type": "function",
        "z": "fc612fa1953ac4a4",
        "name": "scroll down",
        "func": "if (msg.topic===\"autoScroll\") {\n    context.set(\"autoScroll\", msg.payload);\n} \n\nif (context.get(\"autoScroll\")===true) {\n\n    var index = flow.get(\"logIndex\")||1;\n    \n    return {\n        payload: {\n            \"command\": \"scrollToRow\",\n        \"arguments\": [\n            index,\n            \"top\",\n            false\n        ]\n        }\n    };\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 930,
        "y": 1460,
        "wires": [
            [
                "fb7eea3dcefbdd5e"
            ]
        ]
    },
    {
        "id": "b5d1c8e77fe21ae0",
        "type": "delay",
        "z": "fc612fa1953ac4a4",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "1000",
        "timeoutUnits": "milliseconds",
        "rate": "2",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 730,
        "y": 1460,
        "wires": [
            [
                "a504a8b0315f115e"
            ]
        ]
    },
    {
        "id": "1d5c28b6c5b48a9c",
        "type": "ui_switch",
        "z": "fc612fa1953ac4a4",
        "name": "Auto Scroll",
        "label": "",
        "tooltip": "Auto scroll",
        "group": "c902c45b71cf183b",
        "order": 4,
        "width": 1,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "autoScroll",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 710,
        "y": 1540,
        "wires": [
            [
                "a504a8b0315f115e"
            ]
        ]
    },
    {
        "id": "3f0581bb6b9c3e5f",
        "type": "inject",
        "z": "fc612fa1953ac4a4",
        "name": "init",
        "props": [
            {
                "p": "payload",
                "v": "true",
                "vt": "bool"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 550,
        "y": 1540,
        "wires": [
            [
                "1d5c28b6c5b48a9c"
            ]
        ]
    },
    {
        "id": "ec29c92e08911c1b",
        "type": "comment",
        "z": "fc612fa1953ac4a4",
        "name": "AT command edition from Port B",
        "info": "",
        "x": 450,
        "y": 960,
        "wires": []
    },
    {
        "id": "59f70198738165c5",
        "type": "switch",
        "z": "fc612fa1953ac4a4",
        "name": "Check name",
        "property": "name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "AT CMD",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1460,
        "wires": [
            [
                "b5d1c8e77fe21ae0"
            ]
        ]
    },
    {
        "id": "dc4698413338c051",
        "type": "comment",
        "z": "fc612fa1953ac4a4",
        "name": "Auto scroll",
        "info": "",
        "x": 740,
        "y": 1380,
        "wires": []
    },
    {
        "id": "ad917f42c77860f1",
        "type": "delay",
        "z": "fc612fa1953ac4a4",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "200",
        "timeoutUnits": "milliseconds",
        "rate": "2",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 730,
        "y": 1420,
        "wires": [
            [
                "a504a8b0315f115e"
            ]
        ]
    },
    {
        "id": "cee0273fff3047d3",
        "type": "inject",
        "z": "1ba0a3f2b7644bdf",
        "name": "Spreading factor",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "SF",
        "payload": "12",
        "payloadType": "num",
        "x": 250,
        "y": 220,
        "wires": [
            [
                "72ac980aa54d082d"
            ]
        ]
    },
    {
        "id": "755536f915cc4844",
        "type": "inject",
        "z": "1ba0a3f2b7644bdf",
        "name": "Bandwidth (kHz)",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "BW",
        "payload": "125",
        "payloadType": "num",
        "x": 250,
        "y": 280,
        "wires": [
            [
                "ba81fec74aad72c6"
            ]
        ]
    },
    {
        "id": "1ff1e032cb86bd78",
        "type": "inject",
        "z": "1ba0a3f2b7644bdf",
        "name": "Code rate",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "CR",
        "payload": "1",
        "payloadType": "num",
        "x": 220,
        "y": 340,
        "wires": [
            [
                "84a0a8473239d050"
            ]
        ]
    },
    {
        "id": "f7b0bd6a1d33a757",
        "type": "inject",
        "z": "1ba0a3f2b7644bdf",
        "name": "Payload length",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "PayloadLength",
        "payload": "51",
        "payloadType": "num",
        "x": 240,
        "y": 400,
        "wires": [
            [
                "7237493664ce7b5c"
            ]
        ]
    },
    {
        "id": "b39a944c4166090a",
        "type": "inject",
        "z": "1ba0a3f2b7644bdf",
        "name": "Preamble length",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "PreambleLength",
        "payload": "8",
        "payloadType": "num",
        "x": 250,
        "y": 460,
        "wires": [
            [
                "5c47ef933a11219a"
            ]
        ]
    },
    {
        "id": "7f02b8a78a0a8bfc",
        "type": "inject",
        "z": "1ba0a3f2b7644bdf",
        "name": "Explicit header",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "ExplicitHeader",
        "payload": "0",
        "payloadType": "num",
        "x": 240,
        "y": 520,
        "wires": [
            [
                "2fece625f116df06"
            ]
        ]
    },
    {
        "id": "a6bd15dddf922408",
        "type": "inject",
        "z": "1ba0a3f2b7644bdf",
        "name": "CRC",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "CRC",
        "payload": "1",
        "payloadType": "num",
        "x": 210,
        "y": 580,
        "wires": [
            [
                "b6afbfdd28a66357"
            ]
        ]
    },
    {
        "id": "b6afbfdd28a66357",
        "type": "ui_dropdown",
        "z": "1ba0a3f2b7644bdf",
        "name": "",
        "label": "CRC",
        "tooltip": "",
        "place": "Select option",
        "group": "b8bb0835de7042e0",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "Yes",
                "value": 1,
                "type": "num"
            },
            {
                "label": "No",
                "value": 0,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "CRC",
        "x": 430,
        "y": 580,
        "wires": [
            [
                "1e3b6a4fc014da0a"
            ]
        ]
    },
    {
        "id": "2fece625f116df06",
        "type": "ui_dropdown",
        "z": "1ba0a3f2b7644bdf",
        "name": "",
        "label": "Explicit Header",
        "tooltip": "",
        "place": "Select option",
        "group": "b8bb0835de7042e0",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "Yes",
                "value": 0,
                "type": "num"
            },
            {
                "label": "No",
                "value": 1,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "ExplicitHeader",
        "x": 460,
        "y": 520,
        "wires": [
            [
                "1e3b6a4fc014da0a"
            ]
        ]
    },
    {
        "id": "72ac980aa54d082d",
        "type": "ui_dropdown",
        "z": "1ba0a3f2b7644bdf",
        "name": "",
        "label": "Spreading factor",
        "tooltip": "",
        "place": "Select spreading factor",
        "group": "76b4fa07d48daf89",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "7",
                "value": 7,
                "type": "num"
            },
            {
                "label": "8",
                "value": 8,
                "type": "num"
            },
            {
                "label": "9",
                "value": 9,
                "type": "num"
            },
            {
                "label": "10",
                "value": 10,
                "type": "num"
            },
            {
                "label": "11",
                "value": 11,
                "type": "num"
            },
            {
                "label": "12",
                "value": 12,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "SF",
        "x": 460,
        "y": 220,
        "wires": [
            [
                "1e3b6a4fc014da0a"
            ]
        ]
    },
    {
        "id": "ba81fec74aad72c6",
        "type": "ui_dropdown",
        "z": "1ba0a3f2b7644bdf",
        "name": "",
        "label": "Bandwidth (kHz)",
        "tooltip": "",
        "place": "Select bandwidth",
        "group": "76b4fa07d48daf89",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "125",
                "value": 125,
                "type": "num"
            },
            {
                "label": "250",
                "value": 250,
                "type": "num"
            },
            {
                "label": "500",
                "value": 500,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "BW",
        "x": 460,
        "y": 280,
        "wires": [
            [
                "1e3b6a4fc014da0a"
            ]
        ]
    },
    {
        "id": "84a0a8473239d050",
        "type": "ui_dropdown",
        "z": "1ba0a3f2b7644bdf",
        "name": "",
        "label": "Code rate",
        "tooltip": "",
        "place": "Select code rate",
        "group": "76b4fa07d48daf89",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "1",
                "value": 1,
                "type": "num"
            },
            {
                "label": "2",
                "value": 2,
                "type": "num"
            },
            {
                "label": "3",
                "value": 3,
                "type": "num"
            },
            {
                "label": "4",
                "value": "4",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "CR",
        "x": 440,
        "y": 340,
        "wires": [
            [
                "1e3b6a4fc014da0a"
            ]
        ]
    },
    {
        "id": "1e3b6a4fc014da0a",
        "type": "function",
        "z": "1ba0a3f2b7644bdf",
        "name": "Calculate air time for LoRa frame",
        "func": "var SF = context.get('SF') || 12;\nvar BW = context.get('BW') || 125;\nvar CR = context.get('CR') || 1;\nvar PL = context.get('PL') || 51;\nvar nPreamble = context.get('nPreamble') || 8;\nvar H = context.get('H') || 0;\nvar CRC = context.get('CRC') || 1;\nvar DE = context.get('DE') || 0;\n\n// Update values\nif(msg.topic === 'SF'){\n    context.set('SF', msg.payload);\n    SF = msg.payload;\n}\nif(msg.topic === 'BW'){\n    context.set('BW', msg.payload);\n    BW = msg.payload;\n}\n\nif(msg.topic === 'CR'){\n    context.set('CR', msg.payload);\n    CR = msg.payload;\n}\n\nif(msg.topic === 'PayloadLength'){\n    context.set('PL', msg.payload);\n    PL = msg.payload;\n}\n\nif(msg.topic === 'PreambleLength'){\n    context.set('nPreamble', msg.payload);\n    nPreamble = msg.payload;\n}\n\nif(msg.topic === 'ExplicitHeader'){\n    context.set('H', msg.payload);\n    H = msg.payload;\n}\n\nif(msg.topic === 'CRC'){\n    context.set('CRC', msg.payload);\n    CRC = msg.payload;\n}\n\n//LowdataRateoptimization\nif(SF >= 11 && BW === 125){\n    LowDataRateOptimization = \"Yes\";\n    context.set('DE',1);\n    DE = 1;\n} else {\n    var LowDataRateOptimization = \"No\";\n    context.set('DE',0);\n    DE = 0;\n}\n\n//SymbolLength \nvar SymbolLength = (Math.pow(2,SF))/BW;\n\n//PreambleLength\nvar PreambleLength = (nPreamble + 4.25) * SymbolLength;\n\n//SymbolLenght\nvar NbSymbolsFrame = 8+Math.max(Math.ceil((8*PL-4*SF+28+16*CRC-20*H)/(4*(SF-2*DE)))*(CR+4),0);\n\n//TimeOnAir\nvar TimeOnAir = (NbSymbolsFrame * SymbolLength) + PreambleLength;\n\n//DutyCycle\nvar DutyCycle = new Date(Math.round((TimeOnAir / 600) * 60) * 1000);\n\nvar min = DutyCycle.getMinutes();\nvar sec = DutyCycle.getSeconds();\n\n\nmsg.payload = \"newValue\";\nmsg.topic = \"airtime\";\nmsg.LowDataRateOptimization = LowDataRateOptimization;\nmsg.PreambleLength = Math.round(PreambleLength*100)/100;\nmsg.SymbolLength = Math.round(SymbolLength*100)/100;\nmsg.NbSymbolsFrame = NbSymbolsFrame;\nmsg.TimeOnAir = Math.round(TimeOnAir*100)/100;\nmsg.DutyCycle = (min  < 10 ? '0' : '') + min + \":\" + (sec  < 10 ? '0' : '') + sec;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 900,
        "y": 400,
        "wires": [
            [
                "3b177984979199cb",
                "6107eeb7cb48bcd3",
                "ad8fc91ef478cb4e",
                "cf7cb1ebc58e0b56",
                "92a4f293c785d604",
                "534d00c98ad60e33"
            ]
        ]
    },
    {
        "id": "3b177984979199cb",
        "type": "ui_text",
        "z": "1ba0a3f2b7644bdf",
        "group": "e71d0eeb0ad9c733",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "Low data rate optimization",
        "label": "Modem configuration",
        "format": "{{msg.LowDataRateOptimization}}",
        "layout": "row-spread",
        "x": 1250,
        "y": 280,
        "wires": []
    },
    {
        "id": "6107eeb7cb48bcd3",
        "type": "ui_text",
        "z": "1ba0a3f2b7644bdf",
        "group": "e71d0eeb0ad9c733",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "Symbol length (ms)",
        "label": "Symbol length (ms):",
        "format": "{{SymbolLength}}",
        "layout": "row-spread",
        "x": 1230,
        "y": 400,
        "wires": []
    },
    {
        "id": "ad8fc91ef478cb4e",
        "type": "ui_text",
        "z": "1ba0a3f2b7644bdf",
        "group": "e71d0eeb0ad9c733",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "Preamble length (ms)",
        "label": "Preamble length (ms):",
        "format": "{{PreambleLength}}",
        "layout": "row-spread",
        "x": 1240,
        "y": 340,
        "wires": []
    },
    {
        "id": "cf7cb1ebc58e0b56",
        "type": "ui_text",
        "z": "1ba0a3f2b7644bdf",
        "group": "e71d0eeb0ad9c733",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "Symbols in frame",
        "label": "Symbols in frame:",
        "format": "{{NbSymbolsFrame}}",
        "layout": "row-spread",
        "x": 1230,
        "y": 460,
        "wires": []
    },
    {
        "id": "92a4f293c785d604",
        "type": "ui_text",
        "z": "1ba0a3f2b7644bdf",
        "group": "e71d0eeb0ad9c733",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "Time on air (ms)",
        "label": "Time on air (ms):",
        "format": "{{TimeOnAir}}",
        "layout": "row-spread",
        "x": 1220,
        "y": 520,
        "wires": []
    },
    {
        "id": "534d00c98ad60e33",
        "type": "ui_text",
        "z": "1ba0a3f2b7644bdf",
        "group": "e71d0eeb0ad9c733",
        "order": 13,
        "width": 0,
        "height": 0,
        "name": "Duty cycle",
        "label": "Duty cycle (mm:ss):",
        "format": "{{DutyCycle}}",
        "layout": "row-spread",
        "x": 1210,
        "y": 580,
        "wires": []
    },
    {
        "id": "7237493664ce7b5c",
        "type": "ui_text_input",
        "z": "1ba0a3f2b7644bdf",
        "name": "",
        "label": "Payload length (bytes)",
        "tooltip": "",
        "group": "b8bb0835de7042e0",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "PayloadLength",
        "x": 480,
        "y": 400,
        "wires": [
            [
                "1e3b6a4fc014da0a"
            ]
        ]
    },
    {
        "id": "5c47ef933a11219a",
        "type": "ui_text_input",
        "z": "1ba0a3f2b7644bdf",
        "name": "",
        "label": "Preamble length (symbols)",
        "tooltip": "",
        "group": "b8bb0835de7042e0",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "PreambleLength",
        "x": 500,
        "y": 460,
        "wires": [
            [
                "1e3b6a4fc014da0a"
            ]
        ]
    },
    {
        "id": "2c50f6566e0fbde1",
        "type": "comment",
        "z": "1ba0a3f2b7644bdf",
        "name": "Air time calculator",
        "info": "Calculate the air time of your LoRa frame.<br/>\nDefault values are for EU868 band.<br/>",
        "x": 890,
        "y": 360,
        "wires": []
    }
]